{"version":3,"sources":["shared/components/UI/Button.js","shared/util/config.js","shared/customHooks/useHttp.js","shared/components/UI/Backdrop.js","components/movieTrailer/MovieTrailer.js","shared/components/Slider/Slider.js","shared/context/AuthContext.js","components/collection/Collection.js","pages/movieDetail/MovieDetailPage.js","components/movieItem/MovieItem.js","components/movieList/MovieList.js","shared/components/UI/LoadingSpinner.js","shared/components/UI/Modal.js","shared/components/UI/ErrorModal.js","shared/util/validators.js","shared/components/FormElement/Select.js","components/movieFilter/MovieFilter.js","pages/homePage/HomePage.js","shared/components/Header/HeaderDropdown/HeaderDropdown.js","shared/components/Header/Header.js","assets/image/logo-full.png","shared/customHooks/useForm.js","shared/components/FormElement/Input.js","shared/components/FormElement/ImageUpload.js","shared/components/FormElement/InputArr.js","shared/components/DatePicker/DatePicker.js","pages/addMovie/AddMoviePage.js","pages/user/Auth.js","pages/collection/MovieCollection.js","shared/components/PrivateRoute/PrivateRoute.js","pages/account/Account.js","pages/person/PersonPage.js","shared/util/googleApiKey.js","pages/searchMovie/SearchMovie.js","App.js","reportWebVitals.js","index.js"],"names":["Button","props","buttonStyled","isPrimary","isSecondary","isDarkblue","isGreen","isClear","isFull","join","style","type","disabled","onClick","className","children","API_KEY","API_USER","API_MOVIE","API_MOVIE_IMAGE","GENRES_LIST","optionValue","optionLabel","NATION_LIST","GENRES_LIST_VN","id","name","LANGUAGE_LIST_VN","RELEASE_YEAR","years","y","push","toString","genrateYear","LENGTH","max","min","SORT","useHttp","useState","isLoading","setIsLoading","error","setError","sendUser","useCallback","uri","a","method","body","headers","fetch","res","json","resData","message","sendRequest","resDetails","resVideosAndCast","resDataDetails","resDataVideosAndCast","ok","fetchMovieDetails","crew","credits","directors","i","length","department","job","backdrop_path","genres","vote_average","original_title","overview","poster_path","release_date","runtime","title","videos","production_countries","fetchPersonDetails","resPerson","resPersonData","fetchMovies","numberOfPages","responseList","url","URL","params","api_key","language","page","Object","keys","forEach","key","searchParams","append","data","results","searchMovie","query","filterMovies","filter","replace","clearError","Backdrop","backdrop","ReactDOM","createPortal","document","getElementById","MovieTrailer","backdropClick","trailer","console","log","src","frameborder","allow","allowfullscreen","SimpleSlider","history","useHistory","gotoPersonPage","personId","dots","infinite","speed","slidesToShow","slidesToScroll","cast","map","actor","profile_path","alt","character","AuthContext","createContext","isLoggedIn","token","user","login","logout","AuthContextWrapper","setUser","setToken","setIsLoggedIn","Provider","value","Collection","show","setShow","onMouseEnter","onMouseLeave","MovieDetailPage","auth","useContext","movieId","useParams","movie","setMovie","setTrailer","useEffect","fetchMovie","clickCollectionHandler","updateWhisList","whisList","index","findIndsex","mId","splice","updateUser","updateFinishList","finishList","findIndex","backgroundImage","class","minutes","hours","Math","floor","convertMovieLength","genre","director","slice","MovieItem","imageUrl","noVnTitle","MovieList","movies","currentPage","setCurrentPage","ceil","gotoPage","start","end","pagination","pageNumbers","unshift","MOVIES_PAGINATION_RANGE","renderPageNumbers","prevPage","margin","LoadingSpinner","asOverlay","Modal","showed","modal","CSSTransition","in","timeout","mountOnEnter","unmountOnExit","classNames","ErrorModal","errorModal","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_TYPE_NUMBER_ONLY","VALIDATOR_REQUIRE","VALIDATOR_MIN","val","validate","validators","errorText","isValid","validator","trim","test","CustomSelect","options","label","onChange","optionId","isOpen","setIsOpen","selectedOption","setSelectedOption","setErrorText","opt","selectRef","useRef","clickOutSideHandler","e","current","contains","target","addEventListener","ref","required","option","selectOptionHandler","MovieFilter","filterHandler","filterTerm","with_genres","onSelect","with_original_language","primary_release_year","HomePage","historySearch","location","search","setMovies","sort","setFilterTerm","window","fetchFilterMovies","filteredMovies","myQuery","substring","split","filterUpdate","queryItem","convertQueryToFilter","filterCombied","covertFilterToQuery","pathname","prev","memoFilter","useMemo","memeMovieList","HeaderDropdown","to","Header","showDropdown","setShowDropdown","changeNavbarColor","setChangeNavbarColor","scrollY","username","formReducer","state","action","isFormValid","inputId","inputs","useForm","initialInputs","useReducer","formState","dispatch","inputHandler","selectHandler","setFormData","inputData","inputReducer","isTouched","Input","initialValue","initialValid","inputState","onInput","formControlStyle","htmlFor","placeholder","onBlur","ImageUpload","center","content","file","setFile","previewUrl","setPreviewUrl","setIsValid","fileReader","FileReader","onload","result","readAsDataURL","pickImageRef","display","accept","pickedFile","fileIsValid","files","click","InputArr","count","setCount","inputArr","setInputArr","updateInputArr","rendersInputTrailers","inputTrailers","prevCount","CustomDatePicker","Date","startDate","setStartDate","selected","date","AddMoviePage","titleEng","titleVn","image","createMovie","setCreateMovie","submitHandler","preventDefault","newMovie","nation","fromData","FormData","imageName","toLowerCase","replaceAll","JSON","stringify","onSubmit","Auth","isLoginMode","setIsLoginMode","email","password","logginedUser","newUser","responseGoogle","response","undefined","render","renderProps","clientId","buttonText","onSuccess","onFailure","cookiePolicy","renderFormLogin","MovieCollection","likedMovies","setLikedMovies","finishedMovies","setFinishedMovies","finishedList","likedList","fetchLikedList","fetchFinishedList","Promise","all","likedListResponse","finishListRespons","renderMovies","item","PrivateRoute","Component","component","redirectTo","otherProps","Account","createdAt","PersonPage","setActor","axios","post","q","biography","translation","translatedBiography","translations","translatedText","fetchPerson","images","known_for_department","gender","birthday","place_of_birth","profiles","img","file_path","SearchMovie","setQuery","timer","setTimeout","clearTimeout","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"i0BAIe,SAASA,EAAOC,GAC7B,IAOMC,EAAe,CAPED,EAAME,UAAa,iBAAqB,GACtCF,EAAMG,YAAe,mBAAuB,GAC7CH,EAAMI,WAAc,mBAAuB,GAC9CJ,EAAMK,QAAW,eAAmB,GACpCL,EAAMM,QAAW,eAAmB,GACrCN,EAAMO,OAAU,cAAkB,IASpDC,KAAK,KAEP,OACE,wBACEC,MAAOT,EAAMS,MACbC,KAAMV,EAAMU,KACZC,SAAUX,EAAMW,SAChBC,QAASZ,EAAMY,QACfC,UAAS,iBAAYZ,EAAZ,YAA4BD,EAAMa,WAL7C,SAMGb,EAAMc,WC5BN,IAAMC,EAAU,mCAEVC,EAAW,oDAKXC,EAAY,+BAEZC,EAAkB,sCAMlBC,EAAc,CACzB,CAAEC,YAAa,GAAIC,YAAa,oBAChC,CAAED,YAAa,SAAUC,YAAa,0BACtC,CAAED,YAAa,SAAUC,YAAa,UACtC,CAAED,YAAa,SAAUC,YAAa,gBACtC,CAAED,YAAa,UAAWC,YAAa,oBACvC,CAAED,YAAa,QAASC,YAAa,sBACrC,CAAED,YAAa,kBAAmBC,YAAa,2CAC/C,CAAED,YAAa,cAAeC,YAAa,oBAC3C,CAAED,YAAa,QAASC,YAAa,qBACrC,CAAED,YAAa,WAAYC,YAAa,qBAG7BC,EAAc,CACzB,CAAEF,YAAa,GAAIC,YAAa,oBAChC,CAAED,YAAa,KAAMC,YAAa,WAClC,CAAED,YAAa,QAASC,YAAa,oBACrC,CAAED,YAAa,UAAWC,YAAa,OACvC,CAAED,YAAa,SAAUC,YAAa,WACtC,CAAED,YAAa,SAAUC,YAAa,UACtC,CAAED,YAAa,QAASC,YAAa,mBACrC,CAAED,YAAa,QAASC,YAAa,sBACrC,CAAED,YAAa,UAAWC,YAAa,kBAO5BE,EAAiB,CAC5B,CACEC,GAAI,GACJC,KAAM,0BAER,CACED,GAAI,GACJC,KAAM,qBAER,CACED,GAAI,GACJC,KAAM,qBAER,CACED,GAAI,GACJC,KAAM,UAER,CACED,GAAI,GACJC,KAAM,mBAER,CACED,GAAI,GACJC,KAAM,oBAER,CACED,GAAI,GACJC,KAAM,sBAER,CACED,GAAI,MACJC,KAAM,oBAER,CACED,GAAI,GACJC,KAAM,4BAER,CACED,GAAI,GACJC,KAAM,qBAER,CACED,GAAI,GACJC,KAAM,gBAER,CACED,GAAI,MACJC,KAAM,aAER,CACED,GAAI,KACJC,KAAM,iBAER,CACED,GAAI,MACJC,KAAM,oBAER,CACED,GAAI,IACJC,KAAM,2CAER,CACED,GAAI,MACJC,KAAM,iDAER,CACED,GAAI,GACJC,KAAM,mBAER,CACED,GAAI,MACJC,KAAM,oBAER,CACED,GAAI,GACJC,KAAM,qBAIGC,EAAmB,CAC9B,CACEF,GAAI,KACJC,KAAM,aAER,CACED,GAAI,KACJC,KAAM,iBAER,CACED,GAAI,KACJC,KAAM,WAER,CACED,GAAI,KACJC,KAAM,oBAER,CACED,GAAI,KACJC,KAAM,OAER,CACED,GAAI,KACJC,KAAM,WAER,CACED,GAAI,KACJC,KAAM,mBAER,CACED,GAAI,KACJC,KAAM,aAER,CACED,GAAI,KACJC,KAAM,2BAER,CACED,GAAI,KACJC,KAAM,kBAER,CACED,GAAI,KACJC,KAAM,wBAER,CACED,GAAI,KACJC,KAAM,YAER,CACED,GAAI,KACJC,KAAM,eAER,CACED,GAAI,KACJC,KAAM,iBAER,CACED,GAAI,KACJC,KAAM,QAER,CACED,GAAI,KACJC,KAAM,4BAER,CACED,GAAI,KACJC,KAAM,2BAYGE,EARO,WAElB,IADA,IAAIC,EAAQ,GACHC,EAAI,KAAMA,GAAK,KAAMA,IAC5BD,EAAME,KAAK,CAAEN,GAAIK,EAAEE,WAAYN,KAAMI,EAAEE,aAEzC,OAAOH,EAGmBI,GAEfC,EAAS,CACpB,CACET,GAAI,CACFU,IAAK,IAEPT,KAAM,+BAER,CACED,GAAI,CACFW,IAAK,GACLD,IAAK,IAEPT,KAAM,sBAER,CACED,GAAI,CACFW,IAAK,GACLD,IAAK,KAEPT,KAAM,sBAER,CACED,GAAI,CACFW,IAAK,IACLD,IAAK,KAEPT,KAAM,sBAER,CACED,GAAI,CACFW,IAAK,OAEPV,KAAM,2BAIGW,EAAO,CAClB,CACEZ,GAAI,aACJC,KAAM,sBA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","file":"static/js/main.e16410b6.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './Button.css';\r\n\r\nexport default function Button(props) {\r\n  const buttonPrimary = (props.isPrimary && 'button-primary') || '';\r\n  const buttonSecondary = (props.isSecondary && 'button-secondary') || '';\r\n  const buttonDarkblue = (props.isDarkblue && 'button-dark-blue') || '';\r\n  const buttonGreen = (props.isGreen && 'button-green') || '';\r\n  const buttonClear = (props.isClear && 'button-clear') || '';\r\n  const buttonFull = (props.isFull && 'button-full') || '';\r\n\r\n  const buttonStyled = [\r\n    buttonPrimary,\r\n    buttonSecondary,\r\n    buttonDarkblue,\r\n    buttonGreen,\r\n    buttonClear,\r\n    buttonFull,\r\n  ].join(' ');\r\n\r\n  return (\r\n    <button\r\n      style={props.style}\r\n      type={props.type}\r\n      disabled={props.disabled}\r\n      onClick={props.onClick}\r\n      className={`button ${buttonStyled} ${props.className}`}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n","export const API_KEY = '838c50953b29e1152a488ae92467e67c';\r\n\r\nexport const API_USER = 'http://localhost:5000/xem-phim-zz/us-central1/api';\r\n\r\nexport const OAUTH_CLIENT_KEY =\r\n  '727042721453-71eou4s34mf4mro6e11k0j0n0f29f3sq.apps.googleusercontent.com';\r\n\r\nexport const API_MOVIE = 'https://api.themoviedb.org/3';\r\n\r\nexport const API_MOVIE_IMAGE = 'https://image.tmdb.org/t/p/original';\r\n\r\nexport const MOVIES_PER_PAGE = 5;\r\n\r\nexport const MOVIES_PAGINATION_RANGE = 4;\r\n\r\nexport const GENRES_LIST = [\r\n  { optionValue: '', optionLabel: 'Tất cả' },\r\n  { optionValue: 'Action', optionLabel: 'Hành động' },\r\n  { optionValue: 'Comedy', optionLabel: 'Hài' },\r\n  { optionValue: 'Horror', optionLabel: 'Kinh dị' },\r\n  { optionValue: 'Romance', optionLabel: 'Lãng mạn' },\r\n  { optionValue: 'Drama', optionLabel: 'Chính kịch' },\r\n  { optionValue: 'Science fiction', optionLabel: 'Khoa học viễn tưởng' },\r\n  { optionValue: 'Documentary', optionLabel: 'Tài liệu' },\r\n  { optionValue: 'Anime', optionLabel: 'Hoạt Hình' },\r\n  { optionValue: 'Thriller', optionLabel: 'Giật gân' },\r\n];\r\n\r\nexport const NATION_LIST = [\r\n  { optionValue: '', optionLabel: 'Tất cả' },\r\n  { optionValue: 'US', optionLabel: 'Mỹ' },\r\n  { optionValue: 'Korea', optionLabel: 'Hàn Quốc' },\r\n  { optionValue: 'England', optionLabel: 'Anh' },\r\n  { optionValue: 'France', optionLabel: 'Pháp' },\r\n  { optionValue: 'Canada', optionLabel: 'Canada' },\r\n  { optionValue: 'China', optionLabel: 'Trung Quốc' },\r\n  { optionValue: 'Japan', optionLabel: 'Nhật Bản' },\r\n  { optionValue: 'Vietnam', optionLabel: 'Việt Nam' },\r\n];\r\n\r\nexport const LOCAL_STORAGE_KEY = 'xem-phim-zz';\r\n\r\n//name: to show on the select in the filter movies\r\n//id: to send to movies db\r\nexport const GENRES_LIST_VN = [\r\n  {\r\n    id: 28,\r\n    name: 'Hành Động',\r\n  },\r\n  {\r\n    id: 12,\r\n    name: 'Phiêu Lưu',\r\n  },\r\n  {\r\n    id: 16,\r\n    name: 'Hoạt Hình',\r\n  },\r\n  {\r\n    id: 35,\r\n    name: 'Hài',\r\n  },\r\n  {\r\n    id: 80,\r\n    name: 'Hình Sự',\r\n  },\r\n  {\r\n    id: 99,\r\n    name: 'Tài Liệu',\r\n  },\r\n  {\r\n    id: 18,\r\n    name: 'Chính Kịch',\r\n  },\r\n  {\r\n    id: 10751,\r\n    name: 'Gia Đình',\r\n  },\r\n  {\r\n    id: 14,\r\n    name: 'Giả Tượng',\r\n  },\r\n  {\r\n    id: 36,\r\n    name: 'Lịch Sử',\r\n  },\r\n  {\r\n    id: 27,\r\n    name: 'Kinh Dị',\r\n  },\r\n  {\r\n    id: 10402,\r\n    name: 'Nhạc',\r\n  },\r\n  {\r\n    id: 9648,\r\n    name: 'Bí Ẩn',\r\n  },\r\n  {\r\n    id: 10749,\r\n    name: 'Lãng Mạn',\r\n  },\r\n  {\r\n    id: 878,\r\n    name: 'Khoa Học Viễn Tưởng',\r\n  },\r\n  {\r\n    id: 10770,\r\n    name: 'Chương Trình Truyền Hình',\r\n  },\r\n  {\r\n    id: 53,\r\n    name: 'Gây Cấn',\r\n  },\r\n  {\r\n    id: 10752,\r\n    name: 'Chiến Tranh',\r\n  },\r\n  {\r\n    id: 37,\r\n    name: 'Miền Tây',\r\n  },\r\n];\r\n\r\nexport const LANGUAGE_LIST_VN = [\r\n  {\r\n    id: 'ja',\r\n    name: 'Nhật',\r\n  },\r\n  {\r\n    id: 'vi',\r\n    name: 'Việt Nam',\r\n  },\r\n  {\r\n    id: 'fr',\r\n    name: 'Pháp',\r\n  },\r\n  {\r\n    id: 'ko',\r\n    name: 'Hàn Quốc',\r\n  },\r\n  {\r\n    id: 'ru',\r\n    name: 'Nga',\r\n  },\r\n  {\r\n    id: 'en',\r\n    name: 'Mỹ',\r\n  },\r\n  {\r\n    id: 'CN',\r\n    name: 'Trung Quốc',\r\n  },\r\n  {\r\n    id: 'nl',\r\n    name: 'Hà Lan',\r\n  },\r\n  {\r\n    id: 'pt',\r\n    name: 'Bồ Đào Nha',\r\n  },\r\n  {\r\n    id: 'es',\r\n    name: 'Tây Ban Nha',\r\n  },\r\n  {\r\n    id: 'in',\r\n    name: 'Ấn Độ',\r\n  },\r\n  {\r\n    id: 'ml',\r\n    name: 'Malaysia',\r\n  },\r\n  {\r\n    id: 'th',\r\n    name: 'Thái Lan',\r\n  },\r\n  {\r\n    id: 'de',\r\n    name: 'Đức',\r\n  },\r\n  {\r\n    id: 'it',\r\n    name: 'Ý',\r\n  },\r\n  {\r\n    id: 'sv',\r\n    name: 'Thụy Điển',\r\n  },\r\n  {\r\n    id: 'cs',\r\n    name: 'Cộng Hòa Czech',\r\n  },\r\n];\r\n\r\nconst genrateYear = () => {\r\n  let years = [];\r\n  for (let y = 2021; y >= 2011; y--) {\r\n    years.push({ id: y.toString(), name: y.toString() });\r\n  }\r\n  return years;\r\n};\r\n\r\nexport const RELEASE_YEAR = genrateYear();\r\n\r\nexport const LENGTH = [\r\n  {\r\n    id: {\r\n      max: 60,\r\n    },\r\n    name: 'Dưới 1 tiếng',\r\n  },\r\n  {\r\n    id: {\r\n      min: 60,\r\n      max: 90,\r\n    },\r\n    name: '1 - 1.5 tiếng',\r\n  },\r\n  {\r\n    id: {\r\n      min: 90,\r\n      max: 120,\r\n    },\r\n    name: '1.5 - 2 tiếng',\r\n  },\r\n  {\r\n    id: {\r\n      min: 120,\r\n      max: 150,\r\n    },\r\n    name: '2 - 2.5 tiếng',\r\n  },\r\n  {\r\n    id: {\r\n      min: '150',\r\n    },\r\n    name: 'Trên 2.5 tiếng',\r\n  },\r\n];\r\n\r\nexport const SORT = [\r\n  {\r\n    id: 'popularity',\r\n    name: 'Phổ biến',\r\n  },\r\n  {\r\n    id: 'vote_count',\r\n    name: 'Đánh giá',\r\n  },\r\n  {\r\n    id: 'revenue',\r\n    name: 'Doanh thu',\r\n  },\r\n];\r\n","import { useState, useCallback } from 'react';\r\n\r\nimport { API_MOVIE, API_KEY, API_USER } from '../util/config';\r\n\r\nexport default function useHttp() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  //save data of user`\r\n  const sendUser = useCallback(\r\n    async (uri, method = 'GET', body = null, headers) => {\r\n      setIsLoading(true);\r\n      try {\r\n        const res = await fetch(`${API_USER}/${uri}`, {\r\n          method,\r\n          body,\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            ...headers,\r\n          },\r\n        });\r\n\r\n        const resData = await res.json();\r\n\r\n        setIsLoading(false);\r\n\r\n        return resData;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const sendRequest = useCallback(\r\n    async (uri, method = 'GET', body = null, headers) => {\r\n      // 1 page = 20 movies\r\n\r\n      setIsLoading(true);\r\n      try {\r\n        const resDetails = await fetch(\r\n          `${API_MOVIE}/${uri}?api_key=${API_KEY}&language=vi&append_to_response=credits,videos`,\r\n          {\r\n            method,\r\n            body,\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              ...headers,\r\n            },\r\n          }\r\n        );\r\n\r\n        const resVideosAndCast = await fetch(\r\n          `${API_MOVIE}/${uri}?api_key=${API_KEY}&append_to_response=credits,videos`,\r\n          {\r\n            method,\r\n            body,\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              ...headers,\r\n            },\r\n          }\r\n        );\r\n\r\n        const resDataDetails = await resDetails.json();\r\n\r\n        const resDataVideosAndCast = await resVideosAndCast.json();\r\n\r\n        if (!resDetails.ok) {\r\n          throw resDetails;\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return { ...resDataDetails, ...resDataVideosAndCast };\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const fetchMovieDetails = useCallback(\r\n    async (uri, method = 'GET', body = null, headers) => {\r\n      // 1 page = 20 movies\r\n\r\n      setIsLoading(true);\r\n      try {\r\n        //get details in vietnamese\r\n        const resDetails = await fetch(\r\n          `${API_MOVIE}/${uri}?api_key=${API_KEY}&language=vi`,\r\n          {\r\n            method,\r\n            body,\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              ...headers,\r\n            },\r\n          }\r\n        );\r\n\r\n        const resVideosAndCast = await fetch(\r\n          `${API_MOVIE}/${uri}?api_key=${API_KEY}&append_to_response=credits,videos`,\r\n          {\r\n            method,\r\n            body,\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              ...headers,\r\n            },\r\n          }\r\n        );\r\n\r\n        //vietnamese\r\n        const resDataDetails = await resDetails.json();\r\n\r\n        const resDataVideosAndCast = await resVideosAndCast.json();\r\n\r\n        if (!resDetails.ok) {\r\n          throw resDetails;\r\n        }\r\n\r\n        // console.log(resDataVideosAndCast);\r\n\r\n        const { crew } = resDataVideosAndCast.credits;\r\n\r\n        // console.log(crew);\r\n\r\n        let directors = [];\r\n        for (let i = 0; i < crew.length; i++) {\r\n          if (\r\n            crew[i].department === 'Directing' &&\r\n            crew[i].job === 'Director'\r\n          ) {\r\n            directors.push(crew[i].name);\r\n          }\r\n        }\r\n\r\n        const resData = {\r\n          backdrop_path: resDataVideosAndCast.backdrop_path,\r\n          credits: resDataVideosAndCast.credits,\r\n          genres: resDataDetails.genres,\r\n          vote_average: resDataVideosAndCast.vote_average,\r\n          original_title: resDataDetails.original_title,\r\n          overview: resDataDetails.overview,\r\n          poster_path: resDataVideosAndCast.poster_path,\r\n          release_date: resDataVideosAndCast.release_date,\r\n          runtime: resDataVideosAndCast.runtime,\r\n          title: resDataDetails.title,\r\n          videos: resDataVideosAndCast.videos,\r\n          production_countries: resDataDetails.production_countries[0].name,\r\n          directors,\r\n        };\r\n\r\n        setIsLoading(false);\r\n        return resData;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const fetchPersonDetails = useCallback(async (uri, method = 'GET') => {\r\n    // 1 page = 20 movies\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      //get info for an person\r\n      const resPerson = await fetch(\r\n        `${API_MOVIE}/${uri}?api_key=${API_KEY}&append_to_response=credits,images`\r\n      );\r\n\r\n      //vietnamese\r\n      const resPersonData = await resPerson.json();\r\n\r\n      setIsLoading(false);\r\n\r\n      return { ...resPersonData };\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const fetchMovies = useCallback(\r\n    async (uri, method = 'GET', numberOfPages = 1) => {\r\n      // 1 page = 20 movies\r\n\r\n      setIsLoading(true);\r\n\r\n      try {\r\n        let responseList = [];\r\n\r\n        for (let i = 1; i <= numberOfPages; i++) {\r\n          //append params to url\r\n          var url = new URL(`${API_MOVIE}/${uri}`),\r\n            params = { api_key: API_KEY, language: 'vi', page: i };\r\n\r\n          Object.keys(params).forEach((key) =>\r\n            url.searchParams.append(key, params[key])\r\n          );\r\n\r\n          //make request to api\r\n          const res = await fetch(url, {\r\n            method,\r\n          });\r\n\r\n          const data = await res.json();\r\n\r\n          responseList.push(...data.results);\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return responseList;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const searchMovie = useCallback(async (query) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const resPerson = await fetch(\r\n        `${API_MOVIE}/search/multi?api_key=${API_KEY}&query=${query}`\r\n      );\r\n\r\n      //vietnamese\r\n      const resPersonData = await resPerson.json();\r\n\r\n      setIsLoading(false);\r\n\r\n      return { ...resPersonData };\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const filterMovies = useCallback(async (filter) => {\r\n    filter = filter.replace('?', '&');\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      const url = `${API_MOVIE}/discover/movie?api_key=${API_KEY}${filter}&language=vi`;\r\n\r\n      const res = await fetch(url);\r\n\r\n      const resData = await res.json();\r\n\r\n      setIsLoading(false);\r\n\r\n      return resData.results;\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  return {\r\n    fetchMovies,\r\n    fetchMovieDetails,\r\n    sendRequest,\r\n    filterMovies,\r\n    fetchPersonDetails,\r\n    searchMovie,\r\n    isLoading,\r\n    error,\r\n    clearError,\r\n    sendUser,\r\n  };\r\n}\r\n","import React from 'react';\r\n\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Backdrop.css';\r\n\r\nexport default function Backdrop(props) {\r\n  const backdrop = <div onClick={props.onClick} className='backdrop'></div>;\r\n\r\n  return ReactDOM.createPortal(\r\n    backdrop,\r\n    document.getElementById('backdrop-hook')\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport BackDrop from '../../shared/components/UI/Backdrop';\r\n\r\nimport './MovieTrailer.css';\r\n\r\nexport default function MovieTrailer(props) {\r\n  const { backdropClick, trailer } = props;\r\n  console.log('MovieTrailer', trailer);\r\n  return (\r\n    <>\r\n      <BackDrop onClick={backdropClick} />\r\n      <div className='movie-trailer'>\r\n        <iframe\r\n          src={`https://www.youtube.com/embed/${trailer.key}`}\r\n          title='YouTube video player'\r\n          frameborder='0'\r\n          allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture'\r\n          allowfullscreen></iframe>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Slider from 'react-slick';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport 'slick-carousel/slick/slick.css';\r\nimport 'slick-carousel/slick/slick-theme.css';\r\n\r\nimport './Slider.css';\r\n\r\nimport { API_MOVIE_IMAGE } from '../../util/config';\r\n\r\nexport default function SimpleSlider(props) {\r\n  const history = useHistory();\r\n\r\n  var settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 5,\r\n    slidesToScroll: 2,\r\n    className: 'slider-item',\r\n  };\r\n\r\n  const gotoPersonPage = (personId) => {\r\n    history.push(`/person/${personId}`);\r\n  };\r\n\r\n  return (\r\n    <div className='slider-container'>\r\n      <Slider {...settings}>\r\n        {props.cast.map((actor) => (\r\n          <div className='slider-item'>\r\n            <img\r\n              onClick={() => gotoPersonPage(actor.id)}\r\n              src={`${API_MOVIE_IMAGE}/${actor.profile_path}`}\r\n              alt='title'\r\n            />\r\n            <div\r\n              onClick={() => gotoPersonPage(actor.id)}\r\n              className='actor-name'>\r\n              {actor.name}\r\n            </div>\r\n            <div className='actor-cast'>{actor.character}</div>\r\n          </div>\r\n        ))}\r\n      </Slider>\r\n    </div>\r\n  );\r\n}\r\n","import { createContext, useState, useCallback } from 'react';\r\n\r\nexport const AuthContext = createContext({\r\n  isLoggedIn: false,\r\n  token: null,\r\n  user: null,\r\n  login: () => {},\r\n  logout: () => {},\r\n});\r\n\r\nexport function AuthContextWrapper(props) {\r\n  const [user, setUser] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  const login = useCallback((token, user) => {\r\n    setToken(token);\r\n    setUser(user);\r\n    setIsLoggedIn(true);\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isLoggedIn, token, user, login, logout }}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport './Collection.css';\r\n\r\nexport default function Collection(props) {\r\n  const [show, setShow] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <span\r\n        onMouseEnter={() => setShow(true)}\r\n        onMouseLeave={() => {\r\n          setShow(false);\r\n        }}\r\n        className='collection'>\r\n        <i className='fa fa-bookmark'></i>\r\n        <span>Bộ sưu tập</span>\r\n        {show && (\r\n          <div className='collection-dropdown'>\r\n            <p\r\n              onClick={() => props.onClick('finished')}\r\n              className='collection-dropdown--item'>\r\n              Thêm vào danh sách <span>Đã xem</span>\r\n            </p>\r\n            <p\r\n              onClick={() => props.onClick('wishlist')}\r\n              className='collection-dropdown--item'>\r\n              Thêm vào danh sách <span>Muốn xem</span>\r\n            </p>\r\n          </div>\r\n        )}\r\n      </span>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport MovieTrailer from '../../components/movieTrailer/MovieTrailer';\r\nimport Slider from '../../shared/components/Slider/Slider';\r\n\r\nimport { API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport './MovieDetailPage.css';\r\nimport Collection from '../../components/collection/Collection';\r\n\r\nexport default function MovieDetailPage() {\r\n  const auth = useContext(AuthContext);\r\n  const { sendUser } = useHttp();\r\n  const { movieId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [trailer, setTrailer] = useState('');\r\n  const {\r\n    sendRequest,\r\n    isLoading,\r\n    error,\r\n    clearError,\r\n    fetchMovieDetails,\r\n  } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const fetchMovie = async () => {\r\n      const data = await fetchMovieDetails(`movie/${movieId}`, 'GET');\r\n\r\n      console.log(data);\r\n      setMovie(data);\r\n    };\r\n\r\n    fetchMovie();\r\n  }, [sendRequest, movieId]);\r\n\r\n  const convertMovieLength = (runtime) => {\r\n    const minutes = +runtime % 60;\r\n    const hours = Math.floor(+runtime / 60);\r\n\r\n    return `${hours} giờ ${minutes} phút`;\r\n  };\r\n\r\n  const renderGenres = (genres) => {\r\n    return genres.map((genre) => {\r\n      genre.name = genre.name.replace('Phim', '');\r\n\r\n      return (\r\n        <span key={genre.id} className='movie-detail__genres--item'>\r\n          {genre.name}\r\n        </span>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderDirectors = (directors) =>\r\n    directors.map((director, index) =>\r\n      index === directors.length - 1 ? (\r\n        <span>{director} </span>\r\n      ) : (\r\n        <span>{director}, </span>\r\n      )\r\n    );\r\n\r\n  const clickCollectionHandler = async (type) => {\r\n    console.log(type, movieId);\r\n\r\n    let updateUser;\r\n\r\n    if (type === 'wishlist') {\r\n      //wish list\r\n      const updateWhisList = [...auth.user.whisList] || [];\r\n\r\n      const index = updateWhisList.findIndsex((mId) => mId === movieId);\r\n\r\n      if (index === -1) {\r\n        //add to list\r\n        updateWhisList.push(movieId);\r\n      } else {\r\n        updateWhisList.splice(index, 1);\r\n      }\r\n\r\n      console.log(updateWhisList);\r\n\r\n      updateUser = {\r\n        whisList: updateWhisList,\r\n        ...updateUser,\r\n      };\r\n\r\n      auth.user.whisList = updateWhisList;\r\n    } else {\r\n      //finish list\r\n      const updateFinishList = [...auth.user.finishList] || [];\r\n\r\n      const index = updateFinishList.findIndex((mId) => mId === movieId);\r\n\r\n      if (index === -1) {\r\n        //add to list\r\n        updateFinishList.push(movieId);\r\n      } else {\r\n        updateFinishList.splice(index, 1);\r\n      }\r\n\r\n      updateUser = {\r\n        finishList: updateFinishList,\r\n        ...updateUser,\r\n      };\r\n\r\n      auth.user.finishList = updateFinishList;\r\n    }\r\n\r\n    console.log(auth.user);\r\n\r\n    // const data = await sendUser('user', 'PATCH', JSON.stringify(updateUser), {\r\n    //   Authorization: auth.token,\r\n    // });\r\n\r\n    // console.log(data);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {movie && trailer && (\r\n        <MovieTrailer trailer={trailer} backdropClick={() => setTrailer} />\r\n      )}\r\n\r\n      {movie && (\r\n        <div className='movie-detail'>\r\n          {/* background */}\r\n          <div\r\n            style={{\r\n              backgroundImage: `url(\"${API_MOVIE_IMAGE}/${movie.backdrop_path}\")`,\r\n            }}\r\n            className='movie-detail__background-image'></div>\r\n\r\n          {/* content */}\r\n          <div className='movie-detail__content'>\r\n            <div className='movie-detail__image'>\r\n              <img\r\n                src={`${API_MOVIE_IMAGE}/${movie.poster_path}`}\r\n                alt={movie.original_title}\r\n              />\r\n\r\n              <Button isFull isPrimary>\r\n                <i class='fa fa-play'></i>\r\n                Xem phim\r\n              </Button>\r\n            </div>\r\n\r\n            <div className='movie-detail__info'>\r\n              <div className='movie-detail__title-eng'>\r\n                {movie.original_title}\r\n              </div>\r\n              <div className='movie-detail__title-vn'>{movie.title}</div>\r\n              <div className='movie-detail__length'>\r\n                {convertMovieLength(movie.runtime)}\r\n              </div>\r\n\r\n              <div className='movie-detail__IMDb'>\r\n                <span className='movie-detail__IMDb--icon'>IMDb</span>\r\n                {movie.vote_average}\r\n              </div>\r\n\r\n              <div className='movie-detail__wrap-share-genres'>\r\n                <div className='movie-detail__share'>\r\n                  <span className='movie-detail__share--facebook'>\r\n                    <i className='fab fa-facebook'></i>\r\n                    Chia sẻ\r\n                  </span>\r\n                  <span className='movie-detail__share--bookmark'>\r\n                    <Collection onClick={clickCollectionHandler} />\r\n                  </span>\r\n                </div>\r\n\r\n                <div className='movie-detail__genres text-right'>\r\n                  {renderGenres(movie.genres)}\r\n                </div>\r\n              </div>\r\n\r\n              <div className='movie-detail__sub-info'>\r\n                <p>\r\n                  <span className='movie-detail__sub-info--label'>\r\n                    ĐẠO DIỄN\r\n                  </span>\r\n                  <span className='movie-detail__sub-info--value'>\r\n                    {renderDirectors(movie.directors)}\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span className='movie-detail__sub-info--label'>\r\n                    QUỐC GIA\r\n                  </span>\r\n                  <span className='movie-detail__sub-info--value'>\r\n                    {movie.production_countries}\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span className='movie-detail__sub-info--label'>\r\n                    KHỞI CHIẾU\r\n                  </span>\r\n                  <span className='movie-detail__sub-info--value'>\r\n                    {movie.release_date}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n\r\n              <div className='movie-detail__description'>\r\n                <p>{movie.overview}</p>\r\n              </div>\r\n\r\n              <div className='movie-detail__casts'>\r\n                <div className='movie-detail__casts--title'>Diễn viên</div>\r\n                <Slider cast={movie.credits.cast.slice(0, 20)} />\r\n              </div>\r\n\r\n              <div className='movie-detail__trailers--title'>Trailer</div>\r\n              <div className='movie-detail__trailers'>\r\n                {/* just use for render icon */}\r\n                {movie.videos.results.map((trailer) => (\r\n                  <div\r\n                    onClick={() => setTrailer(trailer)}\r\n                    className='movie-detail__trailers-item'>\r\n                    <iframe\r\n                      src={`https://www.youtube.com/embed/${trailer.key}`}\r\n                      title='YouTube video player'\r\n                      frameborder='0'></iframe>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nimport './MovieItem.css';\r\n\r\nexport default function MovieItem(props) {\r\n  const { id, original_title, title, poster_path } = props.movie;\r\n  const history = useHistory();\r\n\r\n  const imageUrl = `${API_MOVIE_IMAGE}/${poster_path}`;\r\n\r\n  const gotoMovieDetailPage = () => {\r\n    history.push(`/movie/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className='movie-item'>\r\n      <div onClick={gotoMovieDetailPage} className='movie-item__image'>\r\n        <img src={imageUrl} alt={original_title} />\r\n        <div className='movie-item__overlay'></div>\r\n        <div className='movie-item__play-icon'>\r\n          <i className='fa fa-play '></i>\r\n        </div>\r\n      </div>\r\n      <p className='movie-item__title--vn'>{title}</p>\r\n      {!props.noVnTitle && (\r\n        <p className='movie-item__title--eng'>{original_title}</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useCallback, useEffect } from 'react';\r\n\r\nimport MovieItem from '../movieItem/MovieItem';\r\n\r\nimport './MovieList.css';\r\n\r\nimport {\r\n  MOVIES_PER_PAGE,\r\n  MOVIES_PAGINATION_RANGE,\r\n} from '../../shared/util/config';\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nexport default function MovieList(props) {\r\n  const { movies } = props;\r\n\r\n  console.log(movies);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const numberOfPages = Math.ceil(movies.length / MOVIES_PER_PAGE);\r\n\r\n  const pagination = (movies, page) => {\r\n    const start = (page - 1) * MOVIES_PER_PAGE;\r\n    const end = page * MOVIES_PER_PAGE;\r\n\r\n    return movies.slice(start, end);\r\n  };\r\n\r\n  const nextPage = () => {\r\n    setCurrentPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const prevPage = () => {\r\n    setCurrentPage((prevPage) => prevPage - 1);\r\n  };\r\n\r\n  const gotoPage = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  const renderPageNumbers = (movies) => {\r\n    const pageNumbers = [];\r\n\r\n    const numberOfPages = Math.ceil(movies.length / MOVIES_PER_PAGE);\r\n\r\n    if (numberOfPages <= 5) {\r\n      for (let page = 1; page <= numberOfPages; page++) {\r\n        pageNumbers.push(\r\n          <span\r\n            className={page === currentPage ? 'pagination-page--active' : ''}\r\n            onClick={() => gotoPage(page)}>\r\n            {page}\r\n          </span>\r\n        );\r\n      }\r\n\r\n      return pageNumbers;\r\n    }\r\n\r\n    if (currentPage > numberOfPages - MOVIES_PAGINATION_RANGE + 1) {\r\n      pageNumbers.unshift(\r\n        <span onClick={() => gotoPage(currentPage - 2)}>{currentPage - 2}</span>\r\n      );\r\n    }\r\n\r\n    for (\r\n      let page = currentPage - 1;\r\n      page <= currentPage + MOVIES_PAGINATION_RANGE - 2;\r\n      page++\r\n    ) {\r\n      if (page > numberOfPages) {\r\n        break;\r\n      }\r\n\r\n      if (page <= 0) {\r\n        continue;\r\n      }\r\n\r\n      pageNumbers.push(\r\n        <span\r\n          className={page === currentPage ? 'pagination-page--active' : ''}\r\n          onClick={() => gotoPage(page)}>\r\n          {page}\r\n        </span>\r\n      );\r\n    }\r\n\r\n    //reander first few pages\r\n    if (currentPage <= MOVIES_PAGINATION_RANGE - 1) {\r\n      pageNumbers.push(\r\n        <span onClick={() => gotoPage(currentPage + 2)}>{currentPage + 2}</span>\r\n      );\r\n    }\r\n\r\n    if (currentPage >= MOVIES_PAGINATION_RANGE + 1) {\r\n      pageNumbers.unshift(<p>...</p>);\r\n      pageNumbers.unshift(<span onClick={() => gotoPage(1)}>{1}</span>);\r\n    }\r\n\r\n    if (currentPage <= numberOfPages - MOVIES_PAGINATION_RANGE) {\r\n      pageNumbers.push(<p>...</p>);\r\n      pageNumbers.push(\r\n        <span onClick={() => gotoPage(numberOfPages)}>{numberOfPages}</span>\r\n      );\r\n    }\r\n\r\n    return pageNumbers;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='movie-list'>\r\n        {pagination(movies, currentPage).map((movie) => (\r\n          <MovieItem key={movie.id} movie={movie} />\r\n        ))}\r\n\r\n        <div className='pagination'>\r\n          {/* page numbers */}\r\n          <div className='pagination-page'>{renderPageNumbers(movies)}</div>\r\n\r\n          {/* next and prev button */}\r\n          <div>\r\n            <Button\r\n              onClick={prevPage}\r\n              disabled={currentPage === 1}\r\n              style={{ margin: '1rem' }}\r\n              isClear>\r\n              Trang trước\r\n            </Button>\r\n            <Button\r\n              disabled={currentPage === numberOfPages}\r\n              onClick={nextPage}\r\n              isClear>\r\n              Trang sau\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './LoadingSpinner.css';\r\n\r\nexport default function LoadingSpinner(props) {\r\n  const asOverlay = props.asOverlay && 'loading-spinner__asOverlay';\r\n\r\n  return (\r\n    <div className={`loading-spinner ${asOverlay}`}>\r\n      <div class='lds-ring'>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Modal.css';\r\n\r\nimport Backdrop from './Backdrop';\r\n\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nexport default function Modal(props) {\r\n  const { showed, backdropClick } = props;\r\n\r\n  const modal = (\r\n    <>\r\n      {showed && <Backdrop onClick={backdropClick} />}\r\n      <CSSTransition\r\n        in={showed}\r\n        timeout={200}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        classNames='modal'>\r\n        <div className='modal'>{props.children}</div>\r\n      </CSSTransition>\r\n    </>\r\n  );\r\n\r\n  return ReactDOM.createPortal(modal, document.getElementById('modal-hook'));\r\n}\r\n","import React from 'react';\r\n\r\nimport './ErrorModal.css';\r\n\r\nimport Modal from './Modal';\r\nimport Button from './Button';\r\n\r\nexport default function ErrorModal(props) {\r\n  const errorModal = (\r\n    <div className='modal-error'>\r\n      <Modal showed={props.error} backdropClick={props.clearError}>\r\n        <p className='modal-error__title'>An Error Occured!</p>\r\n        <p className='modal-error__content'>{props.error}</p>\r\n        <p className='modal-error__footer'>\r\n          <Button onClick={props.clearError} isDarkblue>\r\n            OK\r\n          </Button>\r\n        </p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n\r\n  return <>{errorModal}</>;\r\n}\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\nconst VALIDATOR_TYPE_NUMBER_ONLY = 'NUMBER_ONLY';\r\n\r\n//----------------------------------------------\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\n\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = (val) => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val,\r\n});\r\n\r\nexport const VALIDATOR_MAXLENGTH = (val) => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val,\r\n});\r\n\r\nexport const VALIDATOR_MIN = (val) => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\n\r\nexport const VALIDATOR_MAX = (val) => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\n\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const VALIDATOR_NUMBER_ONLY = () => ({\r\n  type: VALIDATOR_TYPE_NUMBER_ONLY,\r\n});\r\n\r\n//-----------------------------------------\r\nexport const validate = (value, validators) => {\r\n  let errorText = [];\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid &= value.trim().length > 0;\r\n      !isValid && errorText.push('Trường này không được để trống');\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid &= value.trim().length >= validator.val;\r\n      !isValid &&\r\n        errorText.push(`Xin nhập tối thiểu là ${validator.val} ký tự`);\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid &= value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid &= +value >= validator.val;\r\n      !isValid && errorText.push(`Giá trị tối thiểu là ${validator.val}`);\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid &= +value <= validator.val;\r\n      !isValid && errorText.push(`Giá trị tối đa là ${validator.val}`);\r\n    }\r\n\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid &= /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n        value\r\n      );\r\n\r\n      !isValid && errorText.push('Xin hãy nhập đúng email');\r\n    }\r\n\r\n    if (validator.type === VALIDATOR_TYPE_NUMBER_ONLY) {\r\n      isValid &= /^\\d+$/.test(value);\r\n\r\n      !isValid && errorText.push('Xin hãy nhập số nguyên');\r\n    }\r\n  }\r\n  return [isValid, errorText];\r\n};\r\n","import React, {\r\n  useEffect,\r\n  useState,\r\n  useRef,\r\n  setState,\r\n  useCallback,\r\n} from 'react';\r\n\r\nimport './Select.css';\r\n\r\nimport { validate, VALIDATOR_REQUIRE } from '../../util/validators';\r\n\r\nexport default function CustomSelect(props) {\r\n  const { options, label, id, onChange, optionId } = props;\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n  const [errorText, setErrorText] = useState(null);\r\n\r\n  //when query for history location change\r\n  useEffect(() => {\r\n    if (!optionId) {\r\n      setSelectedOption('Tất cả');\r\n    }\r\n\r\n    const index = options.findIndex((opt) => opt.id === optionId);\r\n\r\n    if (index === -1) return;\r\n\r\n    setSelectedOption(options[index].name);\r\n  }, [optionId]);\r\n\r\n  const selectRef = useRef();\r\n\r\n  const selectOptionHandler = (optionId, name) => {\r\n    setSelectedOption(name);\r\n    setIsOpen(false);\r\n\r\n    //handle require\r\n    const [isValid, error] = validate(name, [VALIDATOR_REQUIRE()]);\r\n    setErrorText(error.join(' '));\r\n\r\n    // id: genres, nation ... to define type of filter\r\n    //optionId: Ex: 28 - 'Hành động\" : config by server\r\n    onChange(id, optionId.toString(), isValid);\r\n  };\r\n\r\n  const toggleOpenHandler = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const renderOptionList = () => {\r\n    return (\r\n      <div className='dropdown-list'>\r\n        {options.map((option) => (\r\n          <div\r\n            key={option.id}\r\n            onClick={() => selectOptionHandler(option.id, option.name)}\r\n            className='dropdown-list--item'>\r\n            {option.name}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const clickOutSideHandler = (e) => {\r\n    if (selectRef.current && !selectRef.current.contains(e.target)) {\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', clickOutSideHandler);\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={selectRef} className='custom-select'>\r\n      <div className='custom-select-label'>{label}</div>\r\n      <div onClick={toggleOpenHandler} className='dropdown-header'>\r\n        <div> {selectedOption || '- Tất cả -'}</div>\r\n        <i class='fa fa-chevron-down arrow-expand'></i>\r\n      </div>\r\n      {props.required && errorText && (\r\n        <div className='custom-select__error-text'>{errorText}</div>\r\n      )}\r\n      {isOpen && renderOptionList()}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './MovieFilter.css';\r\n\r\nimport Select from '../../shared/components/FormElement/Select';\r\n\r\nimport {\r\n  GENRES_LIST_VN,\r\n  LANGUAGE_LIST_VN,\r\n  RELEASE_YEAR,\r\n  LENGTH,\r\n  SORT,\r\n} from '../../shared/util/config';\r\n\r\nexport default function MovieFilter(props) {\r\n  const { filterHandler, filterTerm } = props;\r\n\r\n  console.log(filterTerm);\r\n\r\n  return (\r\n    <div className='movie-filter'>\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Thể loại: '}\r\n          id='with_genres'\r\n          options={GENRES_LIST_VN}\r\n          optionId={filterTerm.with_genres}\r\n          onSelect={() => {}}\r\n        />\r\n      </div>\r\n\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Ngôn ngữ: '}\r\n          id='with_original_language'\r\n          options={LANGUAGE_LIST_VN}\r\n          optionId={filterTerm.with_original_language}\r\n          onSelect={() => {}}\r\n        />\r\n      </div>\r\n\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Năm: '}\r\n          id='primary_release_year'\r\n          optionId={filterTerm.primary_release_year}\r\n          options={RELEASE_YEAR}\r\n          onSelect={() => {}}\r\n        />\r\n      </div>\r\n\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Thời lượng: '}\r\n          id='length'\r\n          options={LENGTH}\r\n          onSelect={() => {}}\r\n        />\r\n      </div>\r\n\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Sắp xếp: '}\r\n          id='sort'\r\n          options={SORT}\r\n          onSelect={() => {}}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\n\r\nimport MovieList from '../../components/movieList/MovieList';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\n\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\nimport MovieFilter from '../../components/movieFilter/MovieFilter';\r\n\r\nimport './HomePage.css';\r\n\r\nexport default function HomePage() {\r\n  const history = useHistory();\r\n\r\n  const historySearch = history.location.search;\r\n\r\n  const { fetchMovies, filterMovies, isLoading, error, clearError } = useHttp();\r\n\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  const [filterTerm, setFilterTerm] = useState({\r\n    with_genres: '',\r\n    with_original_language: '',\r\n    primary_release_year: '',\r\n    'with_runtime.lte': '',\r\n    'with_runtime.gte': '',\r\n    sort: '',\r\n  });\r\n\r\n  window.addEventListener('load', () => {\r\n    history.push('/');\r\n  });\r\n\r\n  const fetchFilterMovies = async () => {\r\n    const filteredMovies = await filterMovies(historySearch);\r\n\r\n    setMovies(filteredMovies);\r\n  };\r\n\r\n  console.log('Homepage');\r\n\r\n  const convertQueryToFilter = (query) => {\r\n    // console.log(query);\r\n\r\n    const myQuery = query.substring(1).split('&');\r\n\r\n    const filterUpdate = {\r\n      with_genres: '',\r\n      with_original_language: '',\r\n      primary_release_year: '',\r\n      'with_runtime.lte': '',\r\n      'with_runtime.gte': '',\r\n      sort: '',\r\n    };\r\n\r\n    myQuery.forEach((queryItem) => {\r\n      const [title, value] = queryItem.split('=');\r\n\r\n      filterUpdate[title] = value;\r\n    });\r\n\r\n    setFilterTerm(filterUpdate);\r\n  };\r\n\r\n  //when location search change\r\n  useEffect(() => {\r\n    fetchFilterMovies();\r\n\r\n    convertQueryToFilter(historySearch);\r\n  }, [historySearch]);\r\n\r\n  const covertFilterToQuery = (filter) => {\r\n    //use to params to hold state when user click backfilter.genres\r\n    const genres = filter.with_genres && `&with_genres=${filter.with_genres}`;\r\n\r\n    const language =\r\n      filter.with_original_language &&\r\n      `&with_original_language=${filter.with_original_language}`;\r\n\r\n    const year =\r\n      filter.primary_release_year &&\r\n      `&primary_release_year=${filter.primary_release_year}`;\r\n\r\n    //length greater than\r\n    const lengthMin =\r\n      filter['with_runtime.gte'] &&\r\n      `&with_runtime.gte=${filter['with_runtime.gte']}`;\r\n\r\n    //length less than\r\n    const lengthMax =\r\n      filter['with_runtime.lte'] &&\r\n      `&with_runtime.lte=${filter['with_runtime.lte']}`;\r\n\r\n    //sort descending\r\n    const sort = filter.sort && `&sort_by=${filter.sort}.desc`;\r\n\r\n    let filterCombied = [\r\n      genres,\r\n      language,\r\n      year,\r\n      lengthMin,\r\n      lengthMax,\r\n      sort,\r\n    ].join('');\r\n\r\n    filterCombied = filterCombied.replace('&', '');\r\n\r\n    return filterCombied;\r\n  };\r\n\r\n  //listen to user select filter movies\r\n  const filterHandler = (type, value) => {\r\n    const filterUpdate = { ...filterTerm };\r\n\r\n    if (type === 'length') {\r\n      filterUpdate['with_runtime.lte'] = value.max;\r\n\r\n      filterUpdate['with_runtime.gte'] = value.min;\r\n    } else {\r\n      filterUpdate[type] = value;\r\n    }\r\n\r\n    console.log(filterUpdate);\r\n\r\n    const query = covertFilterToQuery(filterUpdate);\r\n\r\n    history.push({\r\n      pathname: '/',\r\n      search: `${query}`,\r\n    });\r\n\r\n    setFilterTerm((prev) => ({ ...prev, ...filterUpdate }));\r\n  };\r\n\r\n  const memoFilter = useMemo(\r\n    () => <MovieFilter filterTerm={filterTerm} filterHandler={filterHandler} />,\r\n    [filterTerm]\r\n  );\r\n\r\n  const memeMovieList = useMemo(() => <MovieList movies={movies} />, [movies]);\r\n\r\n  return (\r\n    <div className='home-page'>\r\n      {true && <ErrorModal error={error} clearError={clearError} />}\r\n\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n      {memoFilter}\r\n\r\n      {!isLoading && movies.length > 0 && memeMovieList}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './HeaderDropdown.css';\r\n\r\nimport { AuthContext } from '../../../context/AuthContext';\r\n\r\nexport default function HeaderDropdown(props) {\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className='header-dropdown__list'>\r\n      <NavLink className='header-dropdown__item' to='/collection'>\r\n        <i className='fa fa-film'></i>\r\n        <span>Bộ sưu tập</span>\r\n      </NavLink>\r\n\r\n      <NavLink className='header-dropdown__item' to='/account'>\r\n        <i className='fa fa-user'></i>\r\n        <span>Tài khoản</span>\r\n      </NavLink>\r\n\r\n      <div onClick={auth.logout} className='header-dropdown__item'>\r\n        <i className='fa fa-sign-out-alt'></i>\r\n        <span>Thoát</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './Header.css';\r\n\r\nimport Button from '../UI/Button';\r\n\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nimport logo from '../../../assets/image/logo-full.png';\r\nimport HeaderDropdown from './HeaderDropdown/HeaderDropdown';\r\n\r\nexport default function Header() {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const auth = useContext(AuthContext);\r\n  const [changeNavbarColor, setChangeNavbarColor] = useState(false);\r\n\r\n  const renderLogin = () => {\r\n    return (\r\n      <>\r\n        <NavLink\r\n          to='/user'\r\n          className='navlinks__item fixed'\r\n          onMouseLeave={() => setShowDropdown(false)}>\r\n          <div onMouseEnter={() => setShowDropdown(true)} to='/user'>\r\n            {/* {auth.user.name} */}Minh\r\n            <i class='fa fa-chevron-down arrow-expand'></i>\r\n          </div>\r\n          {showDropdown && <HeaderDropdown username={'Minh'} />}\r\n        </NavLink>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const changeBackgroundColor = () => {\r\n    //fixed height of navbar\r\n    if (window.scrollY >= 70) {\r\n      setChangeNavbarColor(true);\r\n    } else {\r\n      setChangeNavbarColor(false);\r\n    }\r\n  };\r\n\r\n  window.addEventListener('scroll', changeBackgroundColor);\r\n\r\n  return (\r\n    <header className={`header ${changeNavbarColor ? 'active' : ''}`}>\r\n      <div className='header--wrapper'>\r\n        <NavLink to='/' className='logo'>\r\n          <img src={logo} alt='logo' />\r\n        </NavLink>\r\n\r\n        <nav className='navlinks'>\r\n          <NavLink className='navlinks__item' to='/movie'>\r\n            Phim lẻ\r\n          </NavLink>\r\n          <NavLink className='navlinks__item' to='/show'>\r\n            Phim bộ\r\n          </NavLink>\r\n          <NavLink className='navlinks__item' to='/FQA'>\r\n            FQA\r\n          </NavLink>\r\n          <NavLink className='navlinks__item fixed' to='/search'>\r\n            <i class='fa fa-search '></i> Tìm kiếm\r\n          </NavLink>\r\n        </nav>\r\n      </div>\r\n\r\n      <div className='login'>\r\n        {!auth.isLoggedIn && (\r\n          <NavLink to='/auth'>\r\n            <Button isPrimary>Đăng nhập</Button>\r\n          </NavLink>\r\n        )}\r\n\r\n        {auth.isLoggedIn && renderLogin()}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAABVCAMAAACCT4pQAAACx1BMVEVMaXHcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijYWjryAAAA7HRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqLC0uLzAxMjM0NTY3ODo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVNUVVdYWVpbXV5gYWJjZWdoa2xtbm9wcXJzdHV2d3h5ent8fX5/gYKEhYeIiYqLjY6PkJGUlZaX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\"","import { useReducer, useCallback } from 'react';\r\n\r\n// initialState = {\r\n//   inputs: {\r\n//     title: {\r\n//       value: '',\r\n//       isValid: false,\r\n//     },\r\n//     description: {\r\n//       value: '',\r\n//       isValid: false,\r\n//     },\r\n//   },\r\n// };\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'INPUT_CHANGE': {\r\n      let isFormValid = true;\r\n\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n\r\n        if (inputId === action.inputId) {\r\n          //set current input valid\r\n          isFormValid = isFormValid && action.isValid;\r\n        } else {\r\n          //set remian inputs valid\r\n          isFormValid = isFormValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid },\r\n        },\r\n\r\n        isValid: isFormValid,\r\n      };\r\n    }\r\n\r\n    case 'SELECT_CHANGE': {\r\n      let isFormValid = true;\r\n\r\n      for (const inputId in state.inputs) {\r\n        // if (!state.inputs[inputId]) {\r\n        //   continue;\r\n        // }\r\n\r\n        if (inputId === action.inputId) {\r\n          //set current input valid\r\n          isFormValid = isFormValid && action.isValid;\r\n        } else {\r\n          //set remian inputs valid\r\n          isFormValid = isFormValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: {\r\n            value: action.value,\r\n            isValid: action.isValid,\r\n          },\r\n        },\r\n\r\n        isValid: isFormValid,\r\n      };\r\n    }\r\n\r\n    case 'SET_DATA': {\r\n      return {\r\n        inputs: action.inputs,\r\n        isValid: action.isValid,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function useForm(initialInputs, isFormValid) {\r\n  const [formState, dispatch] = useReducer(formReducer, {\r\n    inputs: initialInputs,\r\n    isValid: isFormValid,\r\n  });\r\n\r\n  const inputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({ type: 'INPUT_CHANGE', value, isValid, inputId: id });\r\n  }, []);\r\n\r\n  const selectHandler = useCallback((id, value, isValid) => {\r\n    dispatch({ type: 'SELECT_CHANGE', isValid, value, inputId: id });\r\n  }, []);\r\n\r\n  const setFormData = useCallback((inputData, isValid) => {\r\n    dispatch({ type: 'SET_DATA', inputs: inputData, isValid });\r\n  }, []);\r\n\r\n  const inputArrHandler = useCallback((id, value, isValid) => {\r\n    // dispatch({ type: 'INPUT_ARR_CHANGE', value, isValid, inputId: id });\r\n    // console.log()\r\n  }, []);\r\n\r\n  return { formState, inputHandler, setFormData, selectHandler };\r\n}\r\n","import React, { useReducer, useEffect } from 'react';\r\n\r\nimport { validate } from '../../util/validators';\r\n\r\nimport './Input.css';\r\n\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'CHANGE': {\r\n      const [isValid, errorText] = validate(action.val, action.validators);\r\n\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n\r\n        //validate value here\r\n        isValid,\r\n        errorText,\r\n      };\r\n    }\r\n\r\n    case 'TOUCH': {\r\n      const [isValid, errorText] = validate(action.val, action.validators);\r\n\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n        isValid,\r\n        errorText,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function Input(props) {\r\n  const [inputState, dispatch] = useReducer(inputReducer, {\r\n    value: props.initialValue || '',\r\n    isTouched: false,\r\n    isValid: props.initialValid || false,\r\n    errorText: [],\r\n  });\r\n\r\n  const changeHandler = (e) => {\r\n    dispatch({\r\n      type: 'CHANGE',\r\n      val: e.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n\r\n  const touchHandler = (e) => {\r\n    dispatch({\r\n      type: 'TOUCH',\r\n      val: e.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n\r\n  const { id, onInput } = props;\r\n  useEffect(() => {\r\n    onInput(id, inputState.value, inputState.isValid);\r\n  }, [id, inputState.value, inputState.isValid, onInput]);\r\n\r\n  //set style for form control\r\n  const validStyle =\r\n    inputState.isTouched && inputState.isValid && 'form-control--valid';\r\n  const invalidStyle =\r\n    inputState.isTouched && !inputState.isValid && 'form-control--invalid';\r\n  const formControlStyle = ['form-control', validStyle, invalidStyle].join(' ');\r\n\r\n  return (\r\n    <>\r\n      <div className={` ${formControlStyle}`}>\r\n        <label htmlFor={props.id}>{props.label}</label>\r\n        <input\r\n          ref={props.ref}\r\n          className='form-input'\r\n          placeholder={props.placeholder}\r\n          type={props.type}\r\n          id={props.id}\r\n          onBlur={touchHandler}\r\n          onChange={changeHandler}\r\n          value={inputState.value}\r\n        />\r\n        {/* Error text */}\r\n        {inputState.isTouched && !inputState.isValid && (\r\n          <p className='form-control__error-text'>\r\n            {inputState.errorText.join(' / ')}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react';\r\n\r\nimport './ImageUpload.css';\r\n\r\nimport Button from '../UI/Button';\r\n\r\nexport default function ImageUpload(props) {\r\n  const { id, center, content } = props;\r\n\r\n  const [file, setFile] = useState();\r\n  const [previewUrl, setPreviewUrl] = useState(null);\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!file) return;\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      setPreviewUrl(fileReader.result);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  }, [file]);\r\n\r\n  const pickImageRef = useRef();\r\n\r\n  const pichImageHandlder = () => {\r\n    pickImageRef.current.click();\r\n  };\r\n\r\n  const pickHandler = (e) => {\r\n    let pickedFile;\r\n    let fileIsValid = isValid;\r\n\r\n    if (e.target.files && e.target.files.length === 1) {\r\n      pickedFile = e.target.files[0];\r\n\r\n      setFile(pickedFile);\r\n      setIsValid(true);\r\n      fileIsValid = true;\r\n    } else {\r\n      setIsValid(false);\r\n      fileIsValid = false;\r\n    }\r\n\r\n    props.onInput(props.id, pickedFile, fileIsValid);\r\n  };\r\n\r\n  return (\r\n    <div className='form-control'>\r\n      <input\r\n        ref={pickImageRef}\r\n        type='file'\r\n        id={id}\r\n        style={{ display: 'none' }}\r\n        accept='.jpg, .png, .jpeg'\r\n        onChange={pickHandler}\r\n      />\r\n      <div className={`image-upload ${center && 'center'}`}>\r\n        <div className='image-upload__preview'>\r\n          {previewUrl && <img src={previewUrl} alt='Preview' />}\r\n          {!previewUrl && <p>Please pick an image</p>}\r\n        </div>\r\n        <Button isGreen type='button' onClick={pichImageHandlder}>\r\n          {content}\r\n        </Button>\r\n      </div>\r\n      {!isValid && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useCallback, useEffect } from 'react';\r\n\r\nimport './InputArr.css';\r\n\r\nimport { VALIDATOR_REQUIRE } from '../../util/validators';\r\n\r\nimport Input from './Input';\r\n\r\nexport default function InputArr(props) {\r\n  //   const { formState, inputHandler } = useForm();\r\n  const [count, setCount] = useState(1);\r\n  const [inputArr, setInputArr] = useState([]);\r\n  const { id, onInput } = props;\r\n\r\n  const inputHandler = (index, value, isValid) => {\r\n    // console.log(index, value, isValid);\r\n    const updateInputArr = [...inputArr];\r\n    updateInputArr[index] = value;\r\n    setInputArr(updateInputArr);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const isValid = inputArr.length > 0 && inputArr[0].trim() !== '';\r\n\r\n    // console.log(inputArr, isValid, props.onInput);\r\n    onInput(id, inputArr, isValid);\r\n  }, [inputArr, onInput]);\r\n\r\n  const rendersInputTrailers = useCallback(() => {\r\n    let inputTrailers = [];\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      inputTrailers.push(\r\n        <Input\r\n          id={`${i}`}\r\n          label={`Link ${id} ${i + 1}`}\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n        />\r\n      );\r\n    }\r\n\r\n    return inputTrailers;\r\n  }, [count]);\r\n\r\n  const addInput = () => {\r\n    setCount((prevCount) => ++prevCount);\r\n  };\r\n\r\n  const removeInput = () => {\r\n    if (count <= 1) return;\r\n    setCount((prevCount) => --prevCount);\r\n  };\r\n\r\n  return (\r\n    <div className='input-arr'>\r\n      <div>{rendersInputTrailers()}</div>\r\n      <i onClick={addInput} class='fa fa-plus'></i>\r\n      {count > 1 && <i onClick={removeInput} class='fa fa-minus'></i>}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nimport './DatePicker.css';\r\n\r\nexport default function CustomDatePicker() {\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  return (\r\n    <div className='date-picker'>\r\n      <DatePicker\r\n        selected={startDate}\r\n        onChange={(date) => setStartDate(date)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport useForm from '../../shared/customHooks/useForm';\r\nimport Input from '../../shared/components/FormElement/Input';\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport {\r\n  VALIDATOR_MAX,\r\n  VALIDATOR_MIN,\r\n  VALIDATOR_NUMBER_ONLY,\r\n  VALIDATOR_REQUIRE,\r\n} from '../../shared/util/validators';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\n\r\nimport ImageUpload from '../../shared/components/FormElement/ImageUpload';\r\n\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\nimport Modal from '../../shared/components/UI/Modal';\r\n\r\nimport './AddMoviePage.css';\r\n\r\nimport Select from '../../shared/components/FormElement/Select';\r\nimport InputArrTrailer from '../../shared/components/FormElement/InputArr';\r\nimport DatePicker from '../../shared/components/DatePicker/DatePicker';\r\n\r\nimport { GENRES_LIST, NATION_LIST } from '../../shared/util/config';\r\n\r\nexport default function AddMoviePage() {\r\n  const { formState, inputHandler, setFormData, selectHandler } = useForm(\r\n    {\r\n      titleEng: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n      titleVn: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n      image: {\r\n        value: null,\r\n        isValid: false,\r\n      },\r\n      genres: {\r\n        value: null,\r\n        isValid: false,\r\n      },\r\n      trailer: {\r\n        value: [],\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const { sendRequest, isLoading, error, clearError } = useHttp();\r\n\r\n  const { createMovie, setCreateMovie } = useState(false);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    let titleEng = formState.inputs.titleEng.value;\r\n    const newMovie = {\r\n      titleEng,\r\n      titleVn: formState.inputs.titleVn.value,\r\n      genres: formState.inputs.genres.value,\r\n      nation: formState.inputs.nation.value,\r\n      trailer: formState.inputs.nation.value,\r\n    };\r\n\r\n    const fromData = new FormData();\r\n    fromData.append('image', formState.inputs.image.value);\r\n\r\n    //this title used to add to image name\r\n    const imageName = titleEng.toLowerCase().replaceAll(' ', '-');\r\n\r\n    try {\r\n      //send request to create new movie\r\n      const data = await sendRequest(\r\n        'movie',\r\n        'POST',\r\n        JSON.stringify(newMovie),\r\n        { 'Content-Type': 'application/json ' }\r\n      );\r\n\r\n      console.log(data);\r\n\r\n      //get id created by serve\r\n      const movieId = data.newMovie.id;\r\n\r\n      //use this id to add the image to database\r\n      await sendRequest(\r\n        `movie/image/${movieId}/${imageName}`,\r\n        'POST',\r\n        fromData\r\n      );\r\n\r\n      setCreateMovie(true);\r\n    } catch (err) {}\r\n  };\r\n\r\n  console.log(formState.inputs);\r\n\r\n  return (\r\n    <>\r\n      {createMovie && (\r\n        <Modal>\r\n          <h1>Success</h1>\r\n        </Modal>\r\n      )}\r\n\r\n      {error && <ErrorModal error={error} clearError={clearError} />}\r\n\r\n      <form className='form-add-movie' onSubmit={submitHandler}>\r\n        {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n        <h1>Thêm phim</h1>\r\n        <Input\r\n          id='titleEng'\r\n          label='Tên Tiếng Anh'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n        />\r\n\r\n        <Input\r\n          id='titleVn'\r\n          label='Tên Tiếng Việt'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n        />\r\n\r\n        <Input\r\n          id='length'\r\n          label='Độ dài phim (phút)'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE(), VALIDATOR_NUMBER_ONLY()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n          placeholder='phút'\r\n        />\r\n\r\n        <Input\r\n          id='imdb'\r\n          label='Điểm IMDb (1-10)'\r\n          initialValue=''\r\n          validators={[\r\n            VALIDATOR_REQUIRE(),\r\n            VALIDATOR_MAX(10),\r\n            VALIDATOR_MIN(1),\r\n          ]}\r\n          onInput={inputHandler}\r\n          type='number'\r\n        />\r\n\r\n        <Input\r\n          id='director'\r\n          label='Đạo diễn'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={inputHandler}\r\n          type='number'\r\n        />\r\n\r\n        <h3>Ngày khởi chiếu</h3>\r\n        <DatePicker />\r\n\r\n        {/* select thể loại, quốc gia */}\r\n        <div className='form-add-movie__select-container'>\r\n          <Select\r\n            required\r\n            id='genres'\r\n            onSelect={selectHandler}\r\n            options={GENRES_LIST}\r\n            label='Thể loại'\r\n            onChange={() => {}}\r\n          />\r\n\r\n          <Select\r\n            required\r\n            id='nation'\r\n            onSelect={selectHandler}\r\n            options={NATION_LIST}\r\n            label='Quốc gia'\r\n            onChange={() => {}}\r\n          />\r\n        </div>\r\n\r\n        <div className='form-add-movie__image-container'>\r\n          <div className='form-add-movie__image-container--image'>\r\n            <ImageUpload\r\n              onInput={inputHandler}\r\n              center\r\n              id='image'\r\n              content={'Pick movie'}\r\n            />\r\n          </div>\r\n          <div className='form-add-movie__image-container--bg-image'>\r\n            <ImageUpload\r\n              onInput={inputHandler}\r\n              center\r\n              id='bg-image'\r\n              content={'Pick movie background'}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* up trailer links */}\r\n        <InputArrTrailer onInput={inputHandler} id='trailer' />\r\n\r\n        <Button disabled={!formState.isValid} isSecondary>\r\n          Submit\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext, useRef } from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { GoogleLogin } from 'react-google-login';\r\n\r\nimport Input from '../../shared/components/FormElement/Input';\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport useForm from '../../shared/customHooks/useForm';\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport {\r\n  VALIDATOR_EMAIL,\r\n  VALIDATOR_MINLENGTH,\r\n  VALIDATOR_REQUIRE,\r\n} from '../../shared/util/validators';\r\n\r\nimport { LOCAL_STORAGE_KEY, OAUTH_CLIENT_KEY } from '../../shared/util/config';\r\n\r\nimport './Auth.css';\r\n\r\nexport default function Auth() {\r\n  const googleLoginRef = useRef();\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const [isLoginMode, setIsLoginMode] = useState(true);\r\n\r\n  const { formState, inputHandler, setFormData } = useForm(\r\n    {\r\n      email: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n      password: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const { sendRequest, isLoading, error, clearError, sendUser } = useHttp();\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = formState.inputs;\r\n\r\n    if (isLoginMode) {\r\n      //login\r\n      const user = {\r\n        email: email.value,\r\n        password: password.value,\r\n      };\r\n\r\n      const { token, logginedUser } = await sendUser(\r\n        'user/login',\r\n        'POST',\r\n        JSON.stringify(user)\r\n      );\r\n\r\n      auth.login(token, logginedUser);\r\n    } else {\r\n      //sign up\r\n      const newUser = {\r\n        email: email.value,\r\n        password: password.value,\r\n        name: formState.inputs.name.value,\r\n      };\r\n\r\n      const token = await sendRequest(\r\n        'user/signup',\r\n        'POST',\r\n        JSON.stringify(newUser)\r\n      );\r\n\r\n      auth.login(newUser.email, token);\r\n    }\r\n  };\r\n\r\n  // const saveTokenLocalStorage = (token) => {\r\n  //   localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(token));\r\n  // };\r\n\r\n  const responseGoogle = (response) => {\r\n    console.log(response);\r\n  };\r\n\r\n  //auto login read token from local storage\r\n  useEffect(() => {\r\n    // const fetchUser = async () => {\r\n    //   //get token from local storage\r\n    //   const token = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\r\n    //   const data = await sendUser('user', 'GET', null, {\r\n    //     Authorization: token,\r\n    //   });\r\n    //   auth.login(token, data.user);\r\n    // };\r\n    // fetchUser();\r\n  }, []);\r\n\r\n  //change from signup to login and vice-versa\r\n  useEffect(() => {\r\n    const { email, password } = formState.inputs;\r\n\r\n    if (isLoginMode) {\r\n      setFormData(\r\n        {\r\n          email: {\r\n            value: email.value,\r\n            isValid: email.isValid,\r\n          },\r\n          password: {\r\n            value: password.value,\r\n            isValid: password.isValid,\r\n          },\r\n          name: undefined,\r\n        },\r\n        email.isValid && password.isValid\r\n      );\r\n    } else {\r\n      setFormData(\r\n        {\r\n          email: {\r\n            value: email.value,\r\n            isValid: email.isValid,\r\n          },\r\n          password: {\r\n            value: password.value,\r\n            isValid: password.isValid,\r\n          },\r\n          name: {\r\n            value: '',\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    }\r\n  }, [isLoginMode]);\r\n\r\n  const renderFormLogin = () => {\r\n    let formCard;\r\n\r\n    if (auth.isLoggedIn) {\r\n      formCard = (\r\n        <>\r\n          <h1 className='auth-title__success-login'>\r\n            Bạn đã đăng nhập thành công\r\n          </h1>\r\n          <Button onClick={() => history.push('/')} isFull isSecondary>\r\n            Quay về trang chủ\r\n          </Button>\r\n        </>\r\n      );\r\n    } else {\r\n      formCard = !isLoading && (\r\n        <form onSubmit={submitHandler} className='auth-form'>\r\n          <Input\r\n            id='email'\r\n            initialValue=''\r\n            validators={[VALIDATOR_REQUIRE(), VALIDATOR_EMAIL()]}\r\n            onInput={inputHandler}\r\n            type='email'\r\n            placeholder='Email'\r\n          />\r\n          {!isLoginMode && (\r\n            <Input\r\n              id='name'\r\n              initialValue=''\r\n              validators={[VALIDATOR_REQUIRE()]}\r\n              onInput={inputHandler}\r\n              type='text'\r\n              placeholder='Tên bạn'\r\n            />\r\n          )}\r\n          <Input\r\n            id='password'\r\n            initialValue=''\r\n            validators={[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH(6)]}\r\n            onInput={inputHandler}\r\n            type='password'\r\n            placeholder='Password'\r\n          />\r\n\r\n          <Button disabled={!formState.isValid} isFull isSecondary>\r\n            {isLoginMode ? 'Đăng nhập' : 'Đăng ký'}\r\n          </Button>\r\n          <div className='auth-form__divied'>\r\n            <p className='auth-form__divied-text'>Hoặc</p>\r\n          </div>\r\n\r\n          <GoogleLogin\r\n            render={(renderProps) => (\r\n              <Button\r\n                isFull\r\n                isPrimary\r\n                onClick={renderProps.onClick}\r\n                disabled={renderProps.disabled}>\r\n                <i class='fab fa-google'></i>\r\n                Đăng nhập với Google on\r\n              </Button>\r\n            )}\r\n            clientId={OAUTH_CLIENT_KEY}\r\n            buttonText='Login'\r\n            onSuccess={responseGoogle}\r\n            onFailure={responseGoogle}\r\n            cookiePolicy={'single_host_origin'}\r\n          />\r\n        </form>\r\n      );\r\n    }\r\n\r\n    return formCard;\r\n  };\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <div className='auth-container'>\r\n        <h1 className='auth-title'>{!auth.isLoggedIn && 'Đăng nhập'}</h1>\r\n        <div className='auth-card'>\r\n          {error && !isLoading && (\r\n            <ErrorModal error={error} clearError={clearError} />\r\n          )}\r\n\r\n          {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n          {renderFormLogin()}\r\n        </div>\r\n\r\n        {!auth.isLoggedIn && (\r\n          <h1\r\n            onClick={() => setIsLoginMode(!isLoginMode)}\r\n            className='auth-signup'>\r\n            {isLoginMode ? 'Đăng ký' : 'Đăng nhập'}\r\n          </h1>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useContext, useState } from 'react';\r\n\r\nimport './MovieCollection.css';\r\n\r\nimport MovieItem from '../../components/movieItem/MovieItem';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nexport default function MovieCollection() {\r\n  const [likedMovies, setLikedMovies] = useState([]);\r\n  const [finishedMovies, setFinishedMovies] = useState([]);\r\n  const auth = useContext(AuthContext);\r\n\r\n  const { sendRequest, isLoading, error, clearError } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const { finishedList, likedList } = auth.user;\r\n\r\n    const fetchMovies = async () => {\r\n      const fetchLikedList = likedList.map((movieId) => {\r\n        return sendRequest(`/movie/${movieId}`);\r\n      });\r\n\r\n      const fetchFinishedList = finishedList.map((movieId) => {\r\n        return sendRequest(`/movie/${movieId}`);\r\n      });\r\n\r\n      const likedListResponse = await Promise.all(fetchLikedList);\r\n\r\n      const finishListRespons = await Promise.all(fetchFinishedList);\r\n\r\n      setLikedMovies(likedListResponse);\r\n      setFinishedMovies(finishListRespons);\r\n    };\r\n\r\n    fetchMovies();\r\n  }, [auth.user, sendRequest]);\r\n\r\n  const renderMovies = (movies) => {\r\n    if (!movies || movies.length === 0) {\r\n      return (\r\n        !isLoading && (\r\n          <h1>\r\n            Bạn chưa có phim nào. Hãy thêm phim vào danh sách để thưởng thức\r\n          </h1>\r\n        )\r\n      );\r\n    }\r\n\r\n    return movies.map((item) => (\r\n      <>{!isLoading && <MovieItem key={item.movie.id} movie={item.movie} />}</>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className='movie-collection'>\r\n      {error && <ErrorModal error={error} clearError={clearError} />}\r\n\r\n      <h1 className='text-center fs-1'>Bộ sưu tập phim của bạn</h1>\r\n\r\n      {/* liked movies */}\r\n      <h1 className='fs-1'>Các phim bạn muốn xem:</h1>\r\n      <div className='movie-collection__liked-movies'>\r\n        {isLoading && <LoadingSpinner />}\r\n        {renderMovies(likedMovies)}\r\n      </div>\r\n\r\n      {/* finished movies */}\r\n      <h1 className='fs-1'>Các phim bạn đã xem:</h1>\r\n      <div className='movie-collection__finished-movies'>\r\n        {isLoading && <LoadingSpinner />}\r\n        {renderMovies(finishedMovies)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nexport default function PrivateRoute({\r\n  component: Component,\r\n  redirectTo,\r\n  ...otherProps\r\n}) {\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      {...otherProps}\r\n      render={(props) =>\r\n        auth.isLoggedIn ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={redirectTo} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport './Account.css';\r\n\r\nexport default function Account() {\r\n  const auth = useContext(AuthContext);\r\n\r\n  const { name, email, createdAt } = auth.user;\r\n\r\n  console.log(auth.user);\r\n\r\n  return (\r\n    <div className='account-container'>\r\n      <div className='account-info text-center'>\r\n        <div className='account-info__name'>{name}</div>\r\n        <p>\r\n          Email: <span className='account-info__email'>{email}</span>\r\n        </p>\r\n        <p>\r\n          Ngày gia nhập:\r\n          <span className='account-info__join-date'>{createdAt}</span>\r\n        </p>\r\n\r\n        <div className='account-info__diveded'></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, NavLink } from 'react-router-dom';\r\n\r\nimport { googleApiKey } from '../../shared/util/googleApiKey';\r\nimport { API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nimport './Person.css';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nexport default function PersonPage() {\r\n  const [actor, setActor] = useState(null);\r\n  const { fetchPersonDetails } = useHttp();\r\n\r\n  const { personId } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchPerson = async () => {\r\n      const data = await fetchPersonDetails(`person/${personId}`);\r\n\r\n      //translate biography to vietnamese\r\n      const translation = await axios.post(\r\n        'https://translation.googleapis.com/language/translate/v2',\r\n        {},\r\n        {\r\n          params: {\r\n            q: data.biography,\r\n            target: 'vi',\r\n            key: googleApiKey,\r\n          },\r\n        }\r\n      );\r\n\r\n      const translatedBiography =\r\n        translation.data.data.translations[0].translatedText;\r\n\r\n      setActor({ ...data, biography: translatedBiography });\r\n    };\r\n\r\n    fetchPerson();\r\n  }, []);\r\n\r\n  const renderMovies = (movies) =>\r\n    movies.splice(0, 10).map((movie) => (\r\n      <NavLink\r\n        key={movie.id}\r\n        to={`/movie/${movie.id}`}\r\n        className='person-movies--item'>\r\n        <img src={`${API_MOVIE_IMAGE}${movie.poster_path}`} alt={movie.title} />\r\n        <p>{movie.title}</p>\r\n      </NavLink>\r\n    ));\r\n\r\n  const renderImages = (images) =>\r\n    images.map((img) => (\r\n      <div key={img.title} className='person-images--item'>\r\n        <img src={`${API_MOVIE_IMAGE}${img.file_path}`} alt={img.title} />\r\n      </div>\r\n    ));\r\n\r\n  const renderPersonInfo = () => (\r\n    <>\r\n      <img src={`${API_MOVIE_IMAGE}/${actor.profile_path}`} alt={actor.name} />\r\n      <p className='person-info--header'>Thông tin cá nhân</p>\r\n\r\n      <p className='person-info--title'>Nghề nghiệp</p>\r\n      <p className='person-info--value'>{actor.known_for_department}</p>\r\n\r\n      <p className='person-info--title'>Giới tính</p>\r\n      <p className='person-info--value'>{actor.gender === 2 ? 'NAM' : 'NỮ'}</p>\r\n\r\n      <p className='person-info--title'>Ngày sinh</p>\r\n      <p className='person-info--value'>{actor.birthday}</p>\r\n\r\n      <p className='person-info--title'> Nơi sinh</p>\r\n      <p className='person-info--value'>{actor.place_of_birth}</p>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    actor && (\r\n      <div className='person-container'>\r\n        <div className='person-info'>{renderPersonInfo()}</div>\r\n        <div className='person-wrapper'>\r\n          <div className='person-biography'>\r\n            <p className='person-biography--name'>{actor.name}</p>\r\n            <p className='person-biography--title'>Tiểu sử</p>\r\n            <p className='person-biography--content'>{actor.biography}</p>\r\n          </div>\r\n\r\n          <h2>Các phim đã tham gia</h2>\r\n          <div className='person-movies'>\r\n            {renderMovies(actor.credits.cast)}\r\n          </div>\r\n\r\n          <h2>Hình ảnh</h2>\r\n          <div className='person-images'>\r\n            {renderImages(actor.images.profiles)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n","export const googleApiKey = 'AIzaSyBa-hT3TBrYG21eXTrvrDhFIq9ac275-C8';\r\n","import React, { useEffect, useCallback, useState, useRef } from 'react';\r\n\r\nimport './SearchMovie.css';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport MovieItem from '../../components/movieItem/MovieItem';\r\n\r\nexport default function SearchMovie() {\r\n  const { searchMovie, isLoading } = useHttp();\r\n  const [query, setQuery] = useState('');\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  useEffect(() => {\r\n    //user stop enter keyword for 1s -> start fetching data\r\n    const timer = setTimeout(async () => {\r\n      const data = await searchMovie(query);\r\n\r\n      setMovies(data.results);\r\n    }, 1000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [query, searchMovie]);\r\n\r\n  return (\r\n    <div className='search-container'>\r\n      <input\r\n        placeholder='Nhập tên phim...'\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        value={query}\r\n      />\r\n\r\n      {isLoading && <LoadingSpinner />}\r\n\r\n      {movies && (\r\n        <div className='search-movies'>\r\n          {movies.map((movie) => (\r\n            <MovieItem noVnTitle key={movie.id} movie={movie} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\n\nimport MovieDetailPage from './pages/movieDetail/MovieDetailPage';\nimport HomePage from './pages/homePage/HomePage';\nimport Header from './shared/components/Header/Header';\n\nimport './App.css';\nimport AddMoviePage from './pages/addMovie/AddMoviePage';\n\nimport Auth from './pages/user/Auth';\n\nimport { AuthContextWrapper } from './shared/context/AuthContext';\nimport MovieCollection from './pages/collection/MovieCollection';\n\nimport PrivateRoute from './shared/components/PrivateRoute/PrivateRoute';\nimport Account from './pages/account/Account';\n\nimport PersonPage from './pages/person/PersonPage';\nimport SearchMovie from './pages/searchMovie/SearchMovie';\n\nfunction App() {\n  return (\n    <AuthContextWrapper>\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          {/* access for everyone */}\n          <Route exact path='/' component={HomePage} />\n          <Route exact path='/movie/:movieId' component={MovieDetailPage} />\n          <Route exact path='/auth' component={Auth} />\n          {/* only for login user*/}\n          <Route exact path='/search' component={SearchMovie} />\n          <Route exact path='/person/:personId' component={PersonPage} />\n          <PrivateRoute exact path='/account' component={Account} />\n          <PrivateRoute exact path='/add-movie' component={AddMoviePage} />\n          <PrivateRoute exact path='/collection' component={MovieCollection} />\n          <Redirect to='/' />;\n        </Switch>\n      </BrowserRouter>\n    </AuthContextWrapper>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}