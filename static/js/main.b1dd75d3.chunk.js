(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{110:function(e,t,i){},111:function(e,t,i){},116:function(e,t,i){},117:function(e,t,i){},118:function(e,t,i){},119:function(e,t,i){},120:function(e,t,i){},121:function(e,t,i){},122:function(e,t,i){},123:function(e,t,i){},124:function(e,t,i){},125:function(e,t,i){},126:function(e,t,i){},127:function(e,t,i){},128:function(e,t,i){},129:function(e,t,i){},130:function(e,t,i){},132:function(e,t,i){},215:function(e,t,i){},216:function(e,t,i){},217:function(e,t,i){},218:function(e,t,i){"use strict";i.r(t);var c=i(1),a=i.n(c),n=i(14),s=i.n(n),r=(i(87),i(12)),o=i(9),l=i(11),j=i.n(l),u=i(15),d=i(4),b=(i(89),i(0));function m(e){var t=[e.isPrimary?"button-primary":"",e.isSecondary?"button-secondary":"",e.isDarkblue?"button-dark-blue":"",e.isGreen?"button-green":"",e.isClear?"button-clear":"",e.isFull?"button-full":""].join(" ");return Object(b.jsx)("button",{style:e.style,type:e.type,disabled:e.disabled,onClick:e.onClick,className:"button ".concat(t," ").concat(e.className),children:e.children})}var p=i(7),h="http://localhost:5000/xem-phim-zz/us-central1/api",v=[{optionValue:"",optionLabel:"T\u1ea5t c\u1ea3"},{optionValue:"Action",optionLabel:"H\xe0nh \u0111\u1ed9ng"},{optionValue:"Comedy",optionLabel:"H\xe0i"},{optionValue:"Horror",optionLabel:"Kinh d\u1ecb"},{optionValue:"Romance",optionLabel:"L\xe3ng m\u1ea1n"},{optionValue:"Drama",optionLabel:"Ch\xednh k\u1ecbch"},{optionValue:"Science fiction",optionLabel:"Khoa h\u1ecdc vi\u1ec5n t\u01b0\u1edfng"},{optionValue:"Documentary",optionLabel:"T\xe0i li\u1ec7u"},{optionValue:"Anime",optionLabel:"Ho\u1ea1t H\xecnh"},{optionValue:"Thriller",optionLabel:"Gi\u1eadt g\xe2n"}],O=[{optionValue:"",optionLabel:"T\u1ea5t c\u1ea3"},{optionValue:"US",optionLabel:"M\u1ef9"},{optionValue:"Korea",optionLabel:"H\xe0n Qu\u1ed1c"},{optionValue:"England",optionLabel:"Anh"},{optionValue:"France",optionLabel:"Ph\xe1p"},{optionValue:"Canada",optionLabel:"Canada"},{optionValue:"China",optionLabel:"Trung Qu\u1ed1c"},{optionValue:"Japan",optionLabel:"Nh\u1eadt B\u1ea3n"},{optionValue:"Vietnam",optionLabel:"Vi\u1ec7t Nam"}],f="xem-phim-zz";function x(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),i=t[0],a=t[1],n=Object(c.useState)(null),s=Object(d.a)(n,2),r=s[0],o=s[1];return{sendRequest:Object(c.useCallback)(function(){var e=Object(u.a)(j.a.mark((function e(t){var i,c,n,s,r,l=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>1&&void 0!==l[1]?l[1]:"GET",c=l.length>2&&void 0!==l[2]?l[2]:null,n=l.length>3?l[3]:void 0,a(!0),e.prev=4,e.next=7,fetch("".concat(h,"/").concat(t),{method:i,body:c,headers:Object(p.a)({"Content-Type":"application/json"},n)});case 7:return s=e.sent,e.next=10,s.json();case 10:if(r=e.sent,s.ok){e.next=13;break}throw r;case 13:return a(!1),e.abrupt("return",r);case 17:throw e.prev=17,e.t0=e.catch(4),a(!1),o(e.t0.message),e.t0;case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),[]),isLoading:i,error:r,clearError:function(){o(null)}}}i(91);function g(e){var t=Object(b.jsx)("div",{onClick:e.onClick,className:"backdrop"});return s.a.createPortal(t,document.getElementById("backdrop-hook"))}i(92);function G(e){var t=e.backdropClick,i=e.trailer;return console.log("MovieTrailer",i),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{onClick:t}),Object(b.jsx)("div",{className:"movie-trailer",children:Object(b.jsx)("iframe",{src:i,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})})]})}var N=i(75),A=i.n(N),C=(i(108),i(109),i(110),[{name:"Ben Afflect",cast:"Batman",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/ben-affleck.jpg?alt=media&token=b26f4d67-3c0d-4534-b635-14380347acf4"},{name:"Henry Calvin",cast:"Superman",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/henry-cavill.jpg?alt=media&token=76ce0ff9-26e8-48d5-a1db-e1561ec48f08"},{name:"Gal Gadot",cast:"Wonder Woman",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/gal-gadot.jpg?alt=media&token=ec6bba45-e4bc-4c22-8a32-1e83c763493a"},{name:"Jason Momoa",cast:"Aquaman",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/jason-momoa.jpg?alt=media&token=1f59cdfc-f77e-4e72-8ffa-6880f11b0405"},{name:"Ezra Miler",cast:"The Flash",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/ezra-miller.jpg?alt=media&token=16bdfa19-ea64-4276-8355-430ea44f3eca"},{name:"Ray Fisher",cast:"Cybord",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/ray-fisher.jpg?alt=media&token=28ac7dfd-83b4-43dc-88e8-b0d1b62eaa33"},{name:"Amy Adams",cast:"Lois Lane",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/amy-adams.jpg?alt=media&token=e6ff72af-7a9e-484e-a3b8-7041be3c2589"},{name:"Jeremy Iron",cast:"Alfred",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/jeremy-irons.jpg?alt=media&token=32170a10-44de-49ed-9547-bd2b2f65e294"},{name:"Connie Nelson",cast:"Queen Hippoleta",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/connie-neilson.jpg?alt=media&token=723000b6-9f73-4447-9628-afee54f433c8"},{name:"Diana Lanne",cast:"Martha Kent",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/diana-lanne.jpg?alt=media&token=2f32ed75-7aff-42d9-acbe-010bf1c3c999"},{name:"J.K.Simmon",cast:"James Gordon",imageUrl:"https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/j.k.simmons.jpg?alt=media&token=d197a932-43a7-41af-b50c-f1c64f67db7e"}]);function V(){return Object(b.jsx)("div",{className:"slider-container",children:Object(b.jsx)(A.a,Object(p.a)(Object(p.a)({},{dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,className:"slider-item"}),{},{children:C.map((function(e){return Object(b.jsxs)("div",{className:"slider-item",children:[Object(b.jsx)("img",{src:e.imageUrl,alt:"title"}),Object(b.jsx)("div",{className:"actor-name",children:e.name}),Object(b.jsx)("div",{className:"actor-cast",children:e.cast})]})}))}))})}i(111);function k(){var e=Object(o.h)().movieId,t=Object(c.useState)(null),i=Object(d.a)(t,2),a=i[0],n=i[1],s=Object(c.useState)(""),r=Object(d.a)(s,2),l=r[0],p=r[1],h=x(),v=h.sendRequest;h.isLoading,h.error,h.clearError;Object(c.useEffect)((function(){(function(){var t=Object(u.a)(j.a.mark((function t(){var i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v("/movie/".concat(e),"GET");case 2:i=t.sent,console.log(i),n(i.movie);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[v,e]);return Object(b.jsxs)(b.Fragment,{children:[a&&l&&Object(b.jsx)(G,{trailer:l,backdropClick:function(){return p("")}}),a&&Object(b.jsxs)("div",{className:"movie-detail",children:[Object(b.jsx)("div",{style:{backgroundImage:'url("'.concat(a.backgroundUrl,'")')},className:"movie-detail__background-image"}),Object(b.jsxs)("div",{className:"movie-detail__content",children:[Object(b.jsxs)("div",{className:"movie-detail__image",children:[Object(b.jsx)("img",{src:a.imageUrl,alt:a.titleEng}),Object(b.jsxs)(m,{isFull:!0,isPrimary:!0,children:[Object(b.jsx)("i",{class:"fa fa-play"}),"Xem phim"]})]}),Object(b.jsxs)("div",{className:"movie-detail__info",children:[Object(b.jsx)("div",{className:"movie-detail__title-eng",children:a.titleEng}),Object(b.jsx)("div",{className:"movie-detail__title-vn",children:a.titleVn}),Object(b.jsx)("div",{className:"movie-detail__length",children:function(){var e=a.length,t=+e%60,i=Math.floor(+e/60);return"".concat(i," gi\u1edd ").concat(t," ph\xfat")}()}),Object(b.jsxs)("div",{className:"movie-detail__IMDb",children:[Object(b.jsx)("span",{className:"movie-detail__IMDb--icon",children:"IMDb"}),a.imdb]}),Object(b.jsxs)("div",{className:"movie-detail__share",children:[Object(b.jsxs)("span",{className:"movie-detail__share--facebook",children:[Object(b.jsx)("i",{className:"fab fa-facebook"}),"Chia s\u1ebb"]}),Object(b.jsxs)("span",{className:"movie-detail__share--bookmark",children:[Object(b.jsx)("i",{className:"fa fa-bookmark"}),"B\u1ed9 s\u01b0u t\u1eadp"]})]}),Object(b.jsxs)("div",{className:"movie-detail__sub-info",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"movie-detail__sub-info--label",children:"\u0110\u1ea0O DI\u1ec4N"}),Object(b.jsx)("span",{className:"movie-detail__sub-info--value",children:a.director})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"movie-detail__sub-info--label",children:"QU\u1ed0C GIA"}),Object(b.jsx)("span",{className:"movie-detail__sub-info--value",children:a.nation})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"movie-detail__sub-info--label",children:"KH\u1edeI CHI\u1ebeU"}),Object(b.jsx)("span",{className:"movie-detail__sub-info--value",children:a.openingDay})]})]}),Object(b.jsx)("div",{className:"movie-detail__description",children:Object(b.jsx)("p",{children:a.description})}),Object(b.jsxs)("div",{className:"movie-detail__casts",children:[Object(b.jsx)("div",{className:"movie-detail__casts--title",children:"Di\u1ec5n vi\xean"}),Object(b.jsx)(V,{})]}),Object(b.jsx)("div",{className:"movie-detail__trailers--title",children:"Trailer"}),Object(b.jsx)("div",{className:"movie-detail__trailers",children:a.trailers.map((function(e){return Object(b.jsx)("div",{onClick:function(){return p(e)},className:"movie-detail__trailers-item",children:Object(b.jsx)("iframe",{src:e,title:"YouTube video player",frameborder:"0"})})}))})]})]})]})]})}var y=i(20);i(116);function E(e){var t=e.movie,i=t.id,c=t.titleEng,a=t.titleVn,n=t.imageUrl,s=Object(o.g)();return Object(b.jsxs)("div",{className:"movie-item",children:[Object(b.jsxs)("div",{onClick:function(){s.push("/movie/".concat(i))},className:"movie-item__image",children:[Object(b.jsx)("img",{src:n,alt:c}),Object(b.jsx)("div",{className:"movie-item__overlay"}),Object(b.jsx)("div",{className:"movie-item__play-icon",children:Object(b.jsx)("i",{className:"fa fa-play "})})]}),Object(b.jsx)("p",{className:"movie-item__title--vn",children:a}),Object(b.jsx)("p",{className:"movie-item__title--eng",children:c})]})}i(117);function I(e){var t=e.movies,i=e.filterTermArr,a=Object(c.useState)(1),n=Object(d.a)(a,2),s=n[0],r=n[1],o=Object(c.useState)(t),l=Object(d.a)(o,2),j=l[0],u=l[1],p=Math.ceil(t.length/5),h=function(e){r(e)},v=Object(c.useCallback)((function(e){var t=Object(y.a)(e);i.length>0&&i.forEach((function(e){"nation"===e.type&&(t=t.filter((function(t){return t.nation===e.value}))),"genres"===e.type&&(t=t.filter((function(t){return t.genres===e.value})))})),u(t)}),[i]);return Object(c.useEffect)((function(){v(t)}),[i,v,t]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"movie-list",children:[function(e,t){var i=5*(t-1),c=5*t;return e.slice(i,c)}(j,s).map((function(e){return Object(b.jsx)(E,{movie:e},e.id)})),Object(b.jsxs)("div",{className:"pagination",children:[Object(b.jsx)("div",{className:"pagination-page",children:function(e){var t=[],i=Math.ceil(e.length/5);if(i<=5){for(var c=function(e){t.push(Object(b.jsx)("span",{className:e===s?"pagination-page--active":"",onClick:function(){return h(e)},children:e}))},a=1;a<=i;a++)c(a);return t}s>i-4+1&&t.unshift(Object(b.jsx)("span",{onClick:function(){return h(s-2)},children:s-2}));for(var n=function(e){return e>i?"break":e<=0?"continue":void t.push(Object(b.jsx)("span",{className:e===s?"pagination-page--active":"",onClick:function(){return h(e)},children:e}))},r=s-1;r<=s+4-2;r++){var o=n(r);if("break"===o)break}return s<=3&&t.push(Object(b.jsx)("span",{onClick:function(){return h(s+2)},children:s+2})),s>=5&&(t.unshift(Object(b.jsx)("p",{children:"..."})),t.unshift(Object(b.jsx)("span",{onClick:function(){return h(1)},children:1}))),s<=i-4&&(t.push(Object(b.jsx)("p",{children:"..."})),t.push(Object(b.jsx)("span",{onClick:function(){return h(i)},children:i}))),t}(j)}),Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{onClick:function(){r((function(e){return e-1}))},disabled:1===s,style:{margin:"1rem"},isClear:!0,children:"Trang tr\u01b0\u1edbc"}),Object(b.jsx)(m,{disabled:s===p,onClick:function(){r((function(e){return e+1}))},isClear:!0,children:"Trang sau"})]})]})]})})}i(118);function w(e){var t=e.asOverlay&&"loading-spinner__asOverlay";return Object(b.jsx)("div",{className:t,children:Object(b.jsxs)("div",{class:"lds-ring",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})})}i(119),i(120);var B=i(221);function S(e){var t=e.showed,i=e.backdropClick,c=Object(b.jsxs)(b.Fragment,{children:[t&&Object(b.jsx)(g,{onClick:i}),Object(b.jsx)(B.a,{in:t,timeout:200,mountOnEnter:!0,unmountOnExit:!0,classNames:"modal",children:Object(b.jsx)("div",{className:"modal",children:e.children})})]});return s.a.createPortal(c,document.getElementById("modal-hook"))}function T(e){var t=Object(b.jsx)("div",{className:"modal-error",children:Object(b.jsxs)(S,{showed:e.error,backdropClick:e.clearError,children:[Object(b.jsx)("p",{className:"modal-error__title",children:"An Error Occured!"}),Object(b.jsx)("p",{className:"modal-error__content",children:e.error}),Object(b.jsx)("p",{className:"modal-error__footer",children:Object(b.jsx)(m,{onClick:e.clearError,isDarkblue:!0,children:"OK"})})]})});return Object(b.jsx)(b.Fragment,{children:t})}i(121),i(122);var M=i(77),_="REQUIRE",L="MINLENGTH",U="MAXLENGTH",z="EMAIL",D="NUMBER_ONLY",Y=function(){return{type:_}},H=function(e){return{type:"MIN",val:e}},Q=function(e,t){var i,c=[],a=!0,n=Object(M.a)(t);try{for(n.s();!(i=n.n()).done;){var s=i.value;s.type===_&&!(a&=e.trim().length>0)&&c.push("Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),s.type===L&&!(a&=e.trim().length>=s.val)&&c.push("Xin nh\u1eadp t\u1ed1i thi\u1ec3u l\xe0 ".concat(s.val," k\xfd t\u1ef1")),s.type===U&&(a&=e.trim().length<=s.val),"MIN"===s.type&&!(a&=+e>=s.val)&&c.push("Gi\xe1 tr\u1ecb t\u1ed1i thi\u1ec3u l\xe0 ".concat(s.val)),"MAX"===s.type&&!(a&=+e<=s.val)&&c.push("Gi\xe1 tr\u1ecb t\u1ed1i \u0111a l\xe0 ".concat(s.val)),s.type===z&&!(a&=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))&&c.push("Xin h\xe3y nh\u1eadp \u0111\xfang email"),s.type===D&&!(a&=/^\d+$/.test(e))&&c.push("Xin h\xe3y nh\u1eadp s\u1ed1 nguy\xean")}}catch(r){n.e(r)}finally{n.f()}return[a,c]};function F(e){var t=e.options,i=e.label,a=e.onChange,n=e.type,s=e.id,r=Object(c.useState)(!1),o=Object(d.a)(r,2),l=o[0],j=o[1],u=Object(c.useState)(null),m=Object(d.a)(u,2),p=m[0],h=m[1],v=Object(c.useState)(null),O=Object(d.a)(v,2),f=O[0],x=O[1],g=Object(c.useRef)(),G=function(e){g.current&&!g.current.contains(e.target)&&j(!1)};return Object(c.useEffect)((function(){document.addEventListener("mousedown",G)}),[]),Object(b.jsxs)("div",{ref:g,className:"custom-select",children:[Object(b.jsx)("div",{className:"custom-select-label",children:i}),Object(b.jsxs)("div",{onClick:function(){j(!l)},className:"dropdown-header",children:[Object(b.jsxs)("div",{children:[" ",p||"- T\u1ea5t c\u1ea3 -"]}),Object(b.jsx)("i",{class:"fa fa-chevron-down arrow-expand"})]}),e.required&&f&&Object(b.jsx)("div",{className:"custom-select__error-text",children:f}),l&&Object(b.jsx)("div",{className:"dropdown-list",children:t.map((function(t){return Object(b.jsx)("div",{onClick:function(){return function(t,i){h(i),j(!1),a({value:t,type:n});var c=Q(t,[Y()]),r=Object(d.a)(c,2),o=r[0],l=r[1];x(l.join(" ")),e.onSelect(s,t,o)}(t.optionValue,t.optionLabel)},className:"dropdown-list--item",children:t.optionLabel},t.optionValue)}))})]})}function R(e){var t=e.filterHandler;return Object(b.jsxs)("div",{className:"movie-filter",children:[Object(b.jsx)(F,{onChange:t,label:"Th\u1ec3 lo\u1ea1i: ",type:"genres",options:v,onSelect:function(){}}),Object(b.jsx)(F,{onChange:t,label:"Qu\u1ed1c gia: ",type:"nation",options:O,onSelect:function(){}})]})}i(123);function q(){var e=x(),t=e.sendRequest,i=e.isLoading,a=e.error,n=e.clearError,s=Object(c.useState)([]),r=Object(d.a)(s,2),o=r[0],l=r[1],m=Object(c.useState)([]),p=Object(d.a)(m,2),h=p[0],v=p[1];Object(c.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("movie");case 3:i=e.sent,l(i.movies),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);return Object(b.jsxs)("div",{className:"home-page",children:[Object(b.jsx)(T,{error:a,clearError:n}),i&&Object(b.jsx)(w,{asOverlay:!0}),Object(b.jsx)(R,{filterHandler:function(e){if(0!==h.length){var t=h.findIndex((function(t){return t.type===e.type}));if(-1===t)v([].concat(Object(y.a)(h),[e]));else{var i=Object(y.a)(h);i[t]=e,v(i)}}else v([e])}}),!i&&o&&Object(b.jsx)(I,{filterTermArr:h,movies:o})]})}i(124);var K=Object(c.createContext)({isLoggedIn:!1,token:null,user:null,login:function(){},logout:function(){}});function P(e){var t=Object(c.useState)(null),i=Object(d.a)(t,2),a=i[0],n=i[1],s=Object(c.useState)(null),r=Object(d.a)(s,2),o=r[0],l=r[1],j=Object(c.useState)(!1),u=Object(d.a)(j,2),m=u[0],p=u[1],h=Object(c.useCallback)((function(e,t){l(e),n(t),p(!0)}),[]),v=Object(c.useCallback)((function(){l(null),n(null),p(!1)}),[]);return Object(b.jsx)(K.Provider,{value:{isLoggedIn:m,token:o,user:a,login:h,logout:v},children:e.children})}i(125);function J(e){var t=Object(c.useContext)(K);return Object(b.jsxs)("div",{className:"header-dropdown__list",children:[Object(b.jsxs)(r.b,{className:"header-dropdown__item",to:"/collection",children:[Object(b.jsx)("i",{className:"fa fa-film"}),Object(b.jsx)("span",{children:"B\u1ed9 s\u01b0u t\u1eadp"})]}),Object(b.jsxs)(r.b,{className:"header-dropdown__item",to:"/account",children:[Object(b.jsx)("i",{className:"fa fa-user"}),Object(b.jsx)("span",{children:"T\xe0i kho\u1ea3n"})]}),Object(b.jsxs)("div",{onClick:t.logout,className:"header-dropdown__item",children:[Object(b.jsx)("i",{className:"fa fa-sign-out-alt"}),Object(b.jsx)("span",{children:"Tho\xe1t"})]})]})}function X(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),i=t[0],a=t[1],n=Object(c.useContext)(K),s=Object(c.useState)(!1),o=Object(d.a)(s,2),l=o[0],j=o[1];return window.addEventListener("scroll",(function(){window.scrollY>=70?j(!0):j(!1)})),Object(b.jsxs)("header",{className:"header ".concat(l?"active":""),children:[Object(b.jsxs)("div",{className:"header--wrapper",children:[Object(b.jsx)(r.b,{to:"/",className:"logo",children:Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAABVCAMAAACCT4pQAAACx1BMVEVMaXHcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijYWjryAAAA7HRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqLC0uLzAxMjM0NTY3ODo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVNUVVdYWVpbXV5gYWJjZWdoa2xtbm9wcXJzdHV2d3h5ent8fX5/gYKEhYeIiYqLjY6PkJGUlZaX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",alt:"logo"})}),Object(b.jsxs)("nav",{className:"navlinks",children:[Object(b.jsx)(r.b,{className:"navlinks__item",to:"/movie",children:"Phim l\u1ebb"}),Object(b.jsx)(r.b,{className:"navlinks__item",to:"/show",children:"Phim b\u1ed9"}),Object(b.jsx)(r.b,{className:"navlinks__item",to:"/FQA",children:"FQA"}),Object(b.jsxs)(r.b,{className:"navlinks__item fixed",to:"/search",children:[Object(b.jsx)("i",{class:"fa fa-search "})," T\xecm ki\u1ebfm"]})]})]}),Object(b.jsxs)("div",{className:"login",children:[!n.isLoggedIn&&Object(b.jsx)(r.b,{to:"/auth",children:Object(b.jsx)(m,{isPrimary:!0,children:"\u0110\u0103ng nh\u1eadp"})}),n.isLoggedIn&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(r.b,{to:"/user",className:"navlinks__item fixed",onMouseLeave:function(){return a(!1)},children:[Object(b.jsxs)("div",{onMouseEnter:function(){return a(!0)},to:"/user",children:[n.user.name,Object(b.jsx)("i",{class:"fa fa-chevron-down arrow-expand"})]}),i&&Object(b.jsx)(J,{username:n.user.name})]})})]})]})}i(126);var W=i(29),Z=function(e,t){switch(t.type){case"INPUT_CHANGE":var i=!0;for(var c in e.inputs)e.inputs[c]&&(i=c===t.inputId?i&&t.isValid:i&&e.inputs[c].isValid);return Object(p.a)(Object(p.a)({},e),{},{inputs:Object(p.a)(Object(p.a)({},e.inputs),{},Object(W.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:i});case"SELECT_CHANGE":var a=!0;for(var n in e.inputs)a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid;return Object(p.a)(Object(p.a)({},e),{},{inputs:Object(p.a)(Object(p.a)({},e.inputs),{},Object(W.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.isValid};default:return e}};function $(e,t){var i=Object(c.useReducer)(Z,{inputs:e,isValid:t}),a=Object(d.a)(i,2),n=a[0],s=a[1],r=Object(c.useCallback)((function(e,t,i){s({type:"INPUT_CHANGE",value:t,isValid:i,inputId:e})}),[]),o=Object(c.useCallback)((function(e,t,i){s({type:"SELECT_CHANGE",isValid:i,value:t,inputId:e})}),[]),l=Object(c.useCallback)((function(e,t){s({type:"SET_DATA",inputs:e,isValid:t})}),[]);Object(c.useCallback)((function(e,t,i){}),[]);return{formState:n,inputHandler:r,setFormData:l,selectHandler:o}}i(127);var ee=function(e,t){switch(t.type){case"CHANGE":var i=Q(t.val,t.validators),c=Object(d.a)(i,2),a=c[0],n=c[1];return Object(p.a)(Object(p.a)({},e),{},{value:t.val,isValid:a,errorText:n});case"TOUCH":var s=Q(t.val,t.validators),r=Object(d.a)(s,2),o=r[0],l=r[1];return Object(p.a)(Object(p.a)({},e),{},{isTouched:!0,isValid:o,errorText:l});default:return e}};function te(e){var t=Object(c.useReducer)(ee,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1,errorText:[]}),i=Object(d.a)(t,2),a=i[0],n=i[1],s=e.id,r=e.onInput;Object(c.useEffect)((function(){r(s,a.value,a.isValid)}),[s,a.value,a.isValid,r]);var o=["form-control",a.isTouched&&a.isValid&&"form-control--valid",a.isTouched&&!a.isValid&&"form-control--invalid"].join(" ");return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:" ".concat(o),children:[Object(b.jsx)("label",{htmlFor:e.id,children:e.label}),Object(b.jsx)("input",{className:"form-input",placeholder:e.placeholder,type:e.type,id:e.id,onBlur:function(t){n({type:"TOUCH",val:t.target.value,validators:e.validators})},onChange:function(t){n({type:"CHANGE",val:t.target.value,validators:e.validators})},value:a.value}),a.isTouched&&!a.isValid&&Object(b.jsx)("p",{className:"form-control__error-text",children:a.errorText.join(" / ")})]})})}i(128);function ie(e){var t=e.id,i=e.center,a=e.content,n=Object(c.useState)(),s=Object(d.a)(n,2),r=s[0],o=s[1],l=Object(c.useState)(null),j=Object(d.a)(l,2),u=j[0],p=j[1],h=Object(c.useState)(!1),v=Object(d.a)(h,2),O=v[0],f=v[1];Object(c.useEffect)((function(){if(r){var e=new FileReader;e.onload=function(){p(e.result)},e.readAsDataURL(r)}}),[r]);var x=Object(c.useRef)();return Object(b.jsxs)("div",{className:"form-control",children:[Object(b.jsx)("input",{ref:x,type:"file",id:t,style:{display:"none"},accept:".jpg, .png, .jpeg",onChange:function(t){var i,c=O;t.target.files&&1===t.target.files.length?(i=t.target.files[0],o(i),f(!0),c=!0):(f(!1),c=!1),e.onInput(e.id,i,c)}}),Object(b.jsxs)("div",{className:"image-upload ".concat(i&&"center"),children:[Object(b.jsxs)("div",{className:"image-upload__preview",children:[u&&Object(b.jsx)("img",{src:u,alt:"Preview"}),!u&&Object(b.jsx)("p",{children:"Please pick an image"})]}),Object(b.jsx)(m,{isGreen:!0,type:"button",onClick:function(){x.current.click()},children:a})]}),!O&&Object(b.jsx)("p",{children:e.errorText})]})}i(129),i(130);function ce(e){var t=Object(c.useState)(1),i=Object(d.a)(t,2),a=i[0],n=i[1],s=Object(c.useState)([]),r=Object(d.a)(s,2),o=r[0],l=r[1],j=e.id,u=e.onInput,m=function(e,t,i){var c=Object(y.a)(o);c[e]=t,l(c)};Object(c.useEffect)((function(){var e=o.length>0&&""!==o[0].trim();u(j,o,e)}),[o,u]);var p=Object(c.useCallback)((function(){for(var e=[],t=0;t<a;t++)e.push(Object(b.jsx)(te,{id:"".concat(t),label:"Link ".concat(j," ").concat(t+1),initialValue:"",validators:[Y()],onInput:m,type:"text"}));return e}),[a]);return Object(b.jsxs)("div",{className:"input-arr",children:[Object(b.jsx)("div",{children:p()}),Object(b.jsx)("i",{onClick:function(){n((function(e){return++e}))},class:"fa fa-plus"}),a>1&&Object(b.jsx)("i",{onClick:function(){a<=1||n((function(e){return--e}))},class:"fa fa-minus"})]})}var ae=i(78),ne=i.n(ae);i(131),i(132);function se(){var e=Object(c.useState)(new Date),t=Object(d.a)(e,2),i=t[0],a=t[1];return Object(b.jsx)("div",{className:"date-picker",children:Object(b.jsx)(ne.a,{selected:i,onChange:function(e){return a(e)}})})}function re(){var e,t=$({titleEng:{value:"",isValid:!1},titleVn:{value:"",isValid:!1},image:{value:null,isValid:!1},genres:{value:null,isValid:!1},trailer:{value:[],isValid:!1}},!1),i=t.formState,a=t.inputHandler,n=(t.setFormData,t.selectHandler),s=x(),r=s.sendRequest,o=s.isLoading,l=s.error,d=s.clearError,p=Object(c.useState)(!1),h=p.createMovie,f=p.setCreateMovie,g=function(){var e=Object(u.a)(j.a.mark((function e(t){var c,a,n,s,o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(i.inputs),c=i.inputs.titleEng.value,a={titleEng:c,titleVn:i.inputs.titleVn.value,genres:i.inputs.genres.value,nation:i.inputs.nation.value,trailer:i.inputs.nation.value},(n=new FormData).append("image",i.inputs.image.value),s=c.toLowerCase().replaceAll(" ","-"),e.prev=7,e.next=10,r("movie","POST",JSON.stringify(a),{"Content-Type":"application/json "});case 10:return o=e.sent,console.log(o),l=o.newMovie.id,e.next=15,r("movie/image/".concat(l,"/").concat(s),"POST",n);case 15:f(!0),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}();return console.log(i.inputs),Object(b.jsxs)(b.Fragment,{children:[h&&Object(b.jsx)(S,{children:Object(b.jsx)("h1",{children:"Success"})}),l&&Object(b.jsx)(T,{error:l,clearError:d}),Object(b.jsxs)("form",{className:"form-add-movie",onSubmit:g,children:[o&&Object(b.jsx)(w,{asOverlay:!0}),Object(b.jsx)("h1",{children:"Th\xeam phim"}),Object(b.jsx)(te,{id:"titleEng",label:"T\xean Ti\u1ebfng Anh",initialValue:"",validators:[Y()],onInput:a,type:"text"}),Object(b.jsx)(te,{id:"titleVn",label:"T\xean Ti\u1ebfng Vi\u1ec7t",initialValue:"",validators:[Y()],onInput:a,type:"text"}),Object(b.jsx)(te,{id:"length",label:"\u0110\u1ed9 d\xe0i phim (ph\xfat)",initialValue:"",validators:[Y(),{type:D}],onInput:a,type:"text",placeholder:"ph\xfat"}),Object(b.jsx)(te,{id:"imdb",label:"\u0110i\u1ec3m IMDb (1-10)",initialValue:"",validators:[Y(),(e=10,{type:"MAX",val:e}),H(1)],onInput:a,type:"number"}),Object(b.jsx)(te,{id:"director",label:"\u0110\u1ea1o di\u1ec5n",initialValue:"",validators:[Y()],onInput:a,type:"number"}),Object(b.jsx)("h3",{children:"Ng\xe0y kh\u1edfi chi\u1ebfu"}),Object(b.jsx)(se,{}),Object(b.jsxs)("div",{className:"form-add-movie__select-container",children:[Object(b.jsx)(F,{required:!0,id:"genres",onSelect:n,options:v,label:"Th\u1ec3 lo\u1ea1i",onChange:function(){}}),Object(b.jsx)(F,{required:!0,id:"nation",onSelect:n,options:O,label:"Qu\u1ed1c gia",onChange:function(){}})]}),Object(b.jsxs)("div",{className:"form-add-movie__image-container",children:[Object(b.jsx)("div",{className:"form-add-movie__image-container--image",children:Object(b.jsx)(ie,{onInput:a,center:!0,id:"image",content:"Pick movie"})}),Object(b.jsx)("div",{className:"form-add-movie__image-container--bg-image",children:Object(b.jsx)(ie,{onInput:a,center:!0,id:"bg-image",content:"Pick movie background"})})]}),Object(b.jsx)(ce,{onInput:a,id:"trailer"}),Object(b.jsx)(m,{disabled:!i.isValid,isSecondary:!0,children:"Submit"})]})]})}i(215);function oe(){var e=Object(c.useContext)(K),t=Object(o.g)(),i=Object(c.useState)(!0),a=Object(d.a)(i,2),n=a[0],s=a[1],r=$({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),l=r.formState,p=r.inputHandler,h=r.setFormData,v=x(),O=v.sendRequest,g=v.isLoading,G=v.error,N=v.clearError,A=function(){var t=Object(u.a)(j.a.mark((function t(i){var c,a,s,r,o,u,d,b,m;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.preventDefault(),c=l.inputs,a=c.email,s=c.password,!n){t.next=13;break}return r={email:a.value,password:s.value},t.next=6,O("user/login","POST",JSON.stringify(r));case 6:o=t.sent,u=o.token,d=o.logginedUser,e.login(u,d),C("Bearer ".concat(u)),t.next=18;break;case 13:return b={email:a.value,password:s.value,name:l.inputs.name.value},t.next=16,O("user/signup","POST",JSON.stringify(b));case 16:m=t.sent,e.login(b.email,m);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(e){localStorage.setItem(f,JSON.stringify(e))};Object(c.useEffect)((function(){(function(){var t=Object(u.a)(j.a.mark((function t(){var i,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=JSON.parse(localStorage.getItem(f)),t.next=3,O("user","GET",null,{Authorization:i});case 3:c=t.sent,e.login(i,c.user);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){var e=l.inputs,t=e.email,i=e.password;n?h({email:{value:t.value,isValid:t.isValid},password:{value:i.value,isValid:i.isValid},name:void 0},t.isValid&&i.isValid):h({email:{value:t.value,isValid:t.isValid},password:{value:i.value,isValid:i.isValid},name:{value:"",isValid:!1}},!1)}),[n]);return Object(b.jsx)("div",{className:"auth",children:Object(b.jsxs)("div",{className:"auth-container",children:[Object(b.jsx)("h1",{className:"auth-title",children:!e.isLoggedIn&&"\u0110\u0103ng nh\u1eadp"}),Object(b.jsxs)("div",{className:"auth-card",children:[G&&!g&&Object(b.jsx)(T,{error:G,clearError:N}),g&&Object(b.jsx)(w,{asOverlay:!0}),function(){var i;return e.isLoggedIn?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"auth-title__success-login",children:"B\u1ea1n \u0111\xe3 \u0111\u0103ng nh\u1eadp th\xe0nh c\xf4ng"}),Object(b.jsx)(m,{onClick:function(){return t.push("/")},isFull:!0,isSecondary:!0,children:"Quay v\u1ec1 trang ch\u1ee7"})]}):!g&&Object(b.jsxs)("form",{onSubmit:A,className:"auth-form",children:[Object(b.jsx)(te,{id:"email",initialValue:"",validators:[Y(),{type:z}],onInput:p,type:"email",placeholder:"Email"}),!n&&Object(b.jsx)(te,{id:"name",initialValue:"",validators:[Y()],onInput:p,type:"text",placeholder:"T\xean b\u1ea1n"}),Object(b.jsx)(te,{id:"password",initialValue:"",validators:[Y(),(i=6,{type:L,val:i})],onInput:p,type:"password",placeholder:"Password"}),Object(b.jsx)(m,{disabled:!l.isValid,isFull:!0,isSecondary:!0,children:n?"\u0110\u0103ng nh\u1eadp":"\u0110\u0103ng k\xfd"}),Object(b.jsx)("div",{className:"auth-form__divied",children:Object(b.jsx)("p",{className:"auth-form__divied-text",children:"Ho\u1eb7c"})}),Object(b.jsxs)(m,{isFull:!0,isPrimary:!0,children:[Object(b.jsx)("i",{class:"fab fa-google"}),"\u0110\u0103ng nh\u1eadp v\u1edbi Google"]})]})}()]}),!e.isLoggedIn&&Object(b.jsx)("h1",{onClick:function(){return s(!n)},className:"auth-signup",children:n?"\u0110\u0103ng k\xfd":"\u0110\u0103ng nh\u1eadp"})]})})}i(216);function le(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),i=t[0],a=t[1],n=Object(c.useState)([]),s=Object(d.a)(n,2),r=s[0],o=s[1],l=Object(c.useContext)(K),m=x(),p=m.sendRequest,h=m.isLoading,v=m.error,O=m.clearError;Object(c.useEffect)((function(){var e=l.user,t=e.finishedList,i=e.likedList;(function(){var e=Object(u.a)(j.a.mark((function e(){var c,n,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.map((function(e){return p("/movie/".concat(e))})),n=t.map((function(e){return p("/movie/".concat(e))})),e.next=4,Promise.all(c);case 4:return s=e.sent,e.next=7,Promise.all(n);case 7:r=e.sent,a(s),o(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l.user,p]);var f=function(e){return e&&0!==e.length?e.map((function(e){return Object(b.jsx)(b.Fragment,{children:!h&&Object(b.jsx)(E,{movie:e.movie},e.movie.id)})})):!h&&Object(b.jsx)("h1",{children:"B\u1ea1n ch\u01b0a c\xf3 phim n\xe0o. H\xe3y th\xeam phim v\xe0o danh s\xe1ch \u0111\u1ec3 th\u01b0\u1edfng th\u1ee9c"})};return Object(b.jsxs)("div",{className:"movie-collection",children:[v&&Object(b.jsx)(T,{error:v,clearError:O}),Object(b.jsx)("h1",{className:"text-center fs-1",children:"B\u1ed9 s\u01b0u t\u1eadp phim c\u1ee7a b\u1ea1n"}),Object(b.jsx)("h1",{className:"fs-1",children:"C\xe1c phim b\u1ea1n mu\u1ed1n xem:"}),Object(b.jsxs)("div",{className:"movie-collection__liked-movies",children:[h&&Object(b.jsx)(w,{}),f(i)]}),Object(b.jsx)("h1",{className:"fs-1",children:"C\xe1c phim b\u1ea1n \u0111\xe3 xem:"}),Object(b.jsxs)("div",{className:"movie-collection__finished-movies",children:[h&&Object(b.jsx)(w,{}),f(r)]})]})}var je=i(81);function ue(e){var t=e.component,i=e.redirectTo,a=Object(je.a)(e,["component","redirectTo"]),n=Object(c.useContext)(K);return Object(b.jsx)(o.b,Object(p.a)(Object(p.a)({},a),{},{render:function(e){return n.isLoggedIn?Object(b.jsx)(t,Object(p.a)({},e)):Object(b.jsx)(o.a,{to:i})}}))}i(217);function de(){var e=Object(c.useContext)(K),t=e.user,i=t.name,a=t.email,n=t.createdAt;return console.log(e.user),Object(b.jsx)("div",{className:"account-container",children:Object(b.jsxs)("div",{className:"account-info text-center",children:[Object(b.jsx)("div",{className:"account-info__name",children:i}),Object(b.jsxs)("p",{children:["Email: ",Object(b.jsx)("span",{className:"account-info__email",children:a})]}),Object(b.jsxs)("p",{children:["Ng\xe0y gia nh\u1eadp:",Object(b.jsx)("span",{className:"account-info__join-date",children:n})]}),Object(b.jsx)("div",{className:"account-info__diveded"})]})})}var be=function(){return Object(b.jsx)(P,{children:Object(b.jsxs)(r.a,{children:[Object(b.jsx)(X,{}),Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/",component:q}),Object(b.jsx)(o.b,{exact:!0,path:"/movie/:movieId",component:k}),Object(b.jsx)(o.b,{exact:!0,path:"/auth",component:oe}),Object(b.jsx)(ue,{exact:!0,path:"/account",component:de}),Object(b.jsx)(ue,{exact:!0,path:"/add-movie",component:re}),Object(b.jsx)(ue,{exact:!0,path:"/collection",component:le}),Object(b.jsx)(o.a,{to:"/"}),";"]})]})})},me=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,222)).then((function(t){var i=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;i(e),c(e),a(e),n(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(be,{})}),document.getElementById("root")),me()},87:function(e,t,i){},89:function(e,t,i){},91:function(e,t,i){},92:function(e,t,i){}},[[218,1,2]]]);
//# sourceMappingURL=main.b1dd75d3.chunk.js.map