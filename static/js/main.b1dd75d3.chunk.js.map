{"version":3,"sources":["shared/components/UI/Button.js","shared/util/config.js","shared/customHooks/useHttp.js","shared/components/UI/Backdrop.js","components/movieTrailer/MovieTrailer.js","shared/components/Slider/Slider.js","pages/movieDetail/MovieDetailPage.js","components/movieItem/MovieItem.js","components/movieList/MovieList.js","shared/components/UI/LoadingSpinner.js","shared/components/UI/Modal.js","shared/components/UI/ErrorModal.js","shared/util/validators.js","shared/components/FormElement/Select.js","components/movieFilter/MovieFilter.js","pages/homePage/HomePage.js","shared/context/AuthContext.js","shared/components/Header/HeaderDropdown/HeaderDropdown.js","shared/components/Header/Header.js","assets/image/logo-full.png","shared/customHooks/useForm.js","shared/components/FormElement/Input.js","shared/components/FormElement/ImageUpload.js","shared/components/FormElement/InputArr.js","shared/components/DatePicker/DatePicker.js","pages/addMovie/AddMoviePage.js","pages/user/Auth.js","pages/collection/MovieCollection.js","shared/components/PrivateRoute/PrivateRoute.js","pages/account/Account.js","App.js","reportWebVitals.js","index.js"],"names":["Button","props","buttonStyled","isPrimary","isSecondary","isDarkblue","isGreen","isClear","isFull","join","style","type","disabled","onClick","className","children","API_URL","GENRES_LIST","optionValue","optionLabel","NATION_LIST","LOCAL_STORAGE_KEY","useHttp","useState","isLoading","setIsLoading","error","setError","sendRequest","useCallback","uri","a","method","body","headers","fetch","res","json","resData","ok","message","clearError","Backdrop","backdrop","ReactDOM","createPortal","document","getElementById","MovieTrailer","backdropClick","trailer","console","log","src","title","frameborder","allow","allowfullscreen","DUMMY_CAST","name","cast","imageUrl","SimpleSlider","dots","infinite","speed","slidesToShow","slidesToScroll","map","actor","alt","MovieDetailPage","movieId","useParams","movie","setMovie","setTrailer","useEffect","data","fetchMovie","backgroundImage","backgroundUrl","titleEng","class","titleVn","length","minutes","hours","Math","floor","convertMovieLength","imdb","director","nation","openingDay","description","trailers","MovieItem","id","history","useHistory","push","MovieList","movies","filterTermArr","currentPage","setCurrentPage","filteredMovies","setFilteredMovies","numberOfPages","ceil","gotoPage","page","filterMovies","forEach","_filter","filter","value","genres","start","end","slice","pagination","pageNumbers","unshift","MOVIES_PAGINATION_RANGE","renderPageNumbers","prevPage","margin","LoadingSpinner","asOverlay","Modal","showed","modal","CSSTransition","in","timeout","mountOnEnter","unmountOnExit","classNames","ErrorModal","errorModal","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_TYPE_NUMBER_ONLY","VALIDATOR_REQUIRE","VALIDATOR_MIN","val","validate","validators","errorText","isValid","validator","trim","test","CustomSelect","options","label","onChange","isOpen","setIsOpen","selectedOption","setSelectedOption","setErrorText","selectRef","useRef","clickOutSideHandler","e","current","contains","target","addEventListener","ref","required","option","optionEng","optionVn","onSelect","selectOptionHandler","MovieFilter","filterHandler","HomePage","setMovies","setFilterTermArr","fetchMovies","_filer","termIndex","findIndex","term","updateFilter","AuthContext","createContext","isLoggedIn","token","user","login","logout","AuthContextWrapper","setUser","setToken","setIsLoggedIn","Provider","HeaderDropdown","auth","useContext","to","Header","showDropdown","setShowDropdown","changeNavbarColor","setChangeNavbarColor","window","scrollY","onMouseLeave","onMouseEnter","username","formReducer","state","action","isFormValid","inputId","inputs","useForm","initialInputs","useReducer","formState","dispatch","inputHandler","selectHandler","setFormData","inputData","inputReducer","isTouched","Input","initialValue","initialValid","inputState","onInput","formControlStyle","htmlFor","placeholder","onBlur","ImageUpload","center","content","file","setFile","previewUrl","setPreviewUrl","setIsValid","fileReader","FileReader","onload","result","readAsDataURL","pickImageRef","display","accept","pickedFile","fileIsValid","files","click","InputArr","count","setCount","inputArr","setInputArr","index","updateInputArr","rendersInputTrailers","inputTrailers","i","prevCount","CustomDatePicker","Date","startDate","setStartDate","selected","date","AddMoviePage","image","createMovie","setCreateMovie","submitHandler","preventDefault","newMovie","fromData","FormData","append","imageName","toLowerCase","replaceAll","JSON","stringify","onSubmit","Auth","isLoginMode","setIsLoginMode","email","password","logginedUser","saveTokenLocalStorage","newUser","localStorage","setItem","parse","getItem","Authorization","fetchUser","undefined","renderFormLogin","MovieCollection","likedMovies","setLikedMovies","finishedMovies","setFinishedMovies","finishedList","likedList","fetchLikedList","fetchFinishedList","Promise","all","likedListResponse","finishListRespons","renderMovies","item","PrivateRoute","Component","component","redirectTo","otherProps","render","Account","createdAt","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.b1dd75d3.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './Button.css';\r\n\r\nexport default function Button(props) {\r\n  const buttonPrimary = (props.isPrimary && 'button-primary') || '';\r\n  const buttonSecondary = (props.isSecondary && 'button-secondary') || '';\r\n  const buttonDarkblue = (props.isDarkblue && 'button-dark-blue') || '';\r\n  const buttonGreen = (props.isGreen && 'button-green') || '';\r\n  const buttonClear = (props.isClear && 'button-clear') || '';\r\n  const buttonFull = (props.isFull && 'button-full') || '';\r\n\r\n  const buttonStyled = [\r\n    buttonPrimary,\r\n    buttonSecondary,\r\n    buttonDarkblue,\r\n    buttonGreen,\r\n    buttonClear,\r\n    buttonFull,\r\n  ].join(' ');\r\n\r\n  return (\r\n    <button\r\n      style={props.style}\r\n      type={props.type}\r\n      disabled={props.disabled}\r\n      onClick={props.onClick}\r\n      className={`button ${buttonStyled} ${props.className}`}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n","export const API_URL = 'http://localhost:5000/xem-phim-zz/us-central1/api';\r\n\r\nexport const MOVIES_PER_PAGE = 5;\r\n\r\nexport const MOVIES_PAGINATION_RANGE = 4;\r\n\r\nexport const GENRES_LIST = [\r\n  { optionValue: '', optionLabel: 'Tất cả' },\r\n  { optionValue: 'Action', optionLabel: 'Hành động' },\r\n  { optionValue: 'Comedy', optionLabel: 'Hài' },\r\n  { optionValue: 'Horror', optionLabel: 'Kinh dị' },\r\n  { optionValue: 'Romance', optionLabel: 'Lãng mạn' },\r\n  { optionValue: 'Drama', optionLabel: 'Chính kịch' },\r\n  { optionValue: 'Science fiction', optionLabel: 'Khoa học viễn tưởng' },\r\n  { optionValue: 'Documentary', optionLabel: 'Tài liệu' },\r\n  { optionValue: 'Anime', optionLabel: 'Hoạt Hình' },\r\n  { optionValue: 'Thriller', optionLabel: 'Giật gân' },\r\n];\r\n\r\nexport const NATION_LIST = [\r\n  { optionValue: '', optionLabel: 'Tất cả' },\r\n  { optionValue: 'US', optionLabel: 'Mỹ' },\r\n  { optionValue: 'Korea', optionLabel: 'Hàn Quốc' },\r\n  { optionValue: 'England', optionLabel: 'Anh' },\r\n  { optionValue: 'France', optionLabel: 'Pháp' },\r\n  { optionValue: 'Canada', optionLabel: 'Canada' },\r\n  { optionValue: 'China', optionLabel: 'Trung Quốc' },\r\n  { optionValue: 'Japan', optionLabel: 'Nhật Bản' },\r\n  { optionValue: 'Vietnam', optionLabel: 'Việt Nam' },\r\n];\r\n\r\nexport const LOCAL_STORAGE_KEY = 'xem-phim-zz';\r\n","import { useState, useCallback } from 'react';\r\n\r\nimport { API_URL } from '../util/config';\r\n\r\nexport default function useHttp() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const sendRequest = useCallback(\r\n    async (uri, method = 'GET', body = null, headers) => {\r\n      setIsLoading(true);\r\n      try {\r\n        const res = await fetch(`${API_URL}/${uri}`, {\r\n          method,\r\n          body,\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            ...headers,\r\n          },\r\n        });\r\n\r\n        const resData = await res.json();\r\n\r\n        if (!res.ok) {\r\n          throw resData;\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return resData;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  return { sendRequest, isLoading, error, clearError };\r\n}\r\n","import React from 'react';\r\n\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Backdrop.css';\r\n\r\nexport default function Backdrop(props) {\r\n  const backdrop = <div onClick={props.onClick} className='backdrop'></div>;\r\n\r\n  return ReactDOM.createPortal(\r\n    backdrop,\r\n    document.getElementById('backdrop-hook')\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport BackDrop from '../../shared/components/UI/Backdrop';\r\n\r\nimport './MovieTrailer.css';\r\n\r\nexport default function MovieTrailer(props) {\r\n  const { backdropClick, trailer } = props;\r\n  console.log('MovieTrailer', trailer);\r\n  return (\r\n    <>\r\n      <BackDrop onClick={backdropClick} />\r\n      <div className='movie-trailer'>\r\n        <iframe\r\n          src={trailer}\r\n          title='YouTube video player'\r\n          frameborder='0'\r\n          allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture'\r\n          allowfullscreen></iframe>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Slider from 'react-slick';\r\n\r\nimport 'slick-carousel/slick/slick.css';\r\nimport 'slick-carousel/slick/slick-theme.css';\r\n\r\nimport './Slider.css';\r\n\r\nconst DUMMY_CAST = [\r\n  {\r\n    name: 'Ben Afflect',\r\n    cast: 'Batman',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/ben-affleck.jpg?alt=media&token=b26f4d67-3c0d-4534-b635-14380347acf4',\r\n  },\r\n  {\r\n    name: 'Henry Calvin',\r\n    cast: 'Superman',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/henry-cavill.jpg?alt=media&token=76ce0ff9-26e8-48d5-a1db-e1561ec48f08',\r\n  },\r\n  {\r\n    name: 'Gal Gadot',\r\n    cast: 'Wonder Woman',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/gal-gadot.jpg?alt=media&token=ec6bba45-e4bc-4c22-8a32-1e83c763493a',\r\n  },\r\n  {\r\n    name: 'Jason Momoa',\r\n    cast: 'Aquaman',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/jason-momoa.jpg?alt=media&token=1f59cdfc-f77e-4e72-8ffa-6880f11b0405',\r\n  },\r\n  {\r\n    name: 'Ezra Miler',\r\n    cast: 'The Flash',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/ezra-miller.jpg?alt=media&token=16bdfa19-ea64-4276-8355-430ea44f3eca',\r\n  },\r\n  {\r\n    name: 'Ray Fisher',\r\n    cast: 'Cybord',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/ray-fisher.jpg?alt=media&token=28ac7dfd-83b4-43dc-88e8-b0d1b62eaa33',\r\n  },\r\n  {\r\n    name: 'Amy Adams',\r\n    cast: 'Lois Lane',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/amy-adams.jpg?alt=media&token=e6ff72af-7a9e-484e-a3b8-7041be3c2589',\r\n  },\r\n  {\r\n    name: 'Jeremy Iron',\r\n    cast: 'Alfred',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/jeremy-irons.jpg?alt=media&token=32170a10-44de-49ed-9547-bd2b2f65e294',\r\n  },\r\n  {\r\n    name: 'Connie Nelson',\r\n    cast: 'Queen Hippoleta',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/connie-neilson.jpg?alt=media&token=723000b6-9f73-4447-9628-afee54f433c8',\r\n  },\r\n  {\r\n    name: 'Diana Lanne',\r\n    cast: 'Martha Kent',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/diana-lanne.jpg?alt=media&token=2f32ed75-7aff-42d9-acbe-010bf1c3c999',\r\n  },\r\n  {\r\n    name: 'J.K.Simmon',\r\n    cast: 'James Gordon',\r\n    imageUrl:\r\n      'https://firebasestorage.googleapis.com/v0/b/xem-phim-zz.appspot.com/o/j.k.simmons.jpg?alt=media&token=d197a932-43a7-41af-b50c-f1c64f67db7e',\r\n  },\r\n];\r\n\r\nexport default function SimpleSlider() {\r\n  var settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 4,\r\n    slidesToScroll: 1,\r\n    className: 'slider-item',\r\n  };\r\n  return (\r\n    <div className='slider-container'>\r\n      <Slider {...settings}>\r\n        {DUMMY_CAST.map((actor) => (\r\n          <div className='slider-item'>\r\n            <img src={actor.imageUrl} alt='title' />\r\n            <div className='actor-name'>{actor.name}</div>\r\n            <div className='actor-cast'>{actor.cast}</div>\r\n          </div>\r\n        ))}\r\n      </Slider>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport MovieTrailer from '../../components/movieTrailer/MovieTrailer';\r\nimport Slider from '../../shared/components/Slider/Slider';\r\n\r\nimport './MovieDetailPage.css';\r\n\r\nexport default function MovieDetailPage() {\r\n  const { movieId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [trailer, setTrailer] = useState('');\r\n  const { sendRequest, isLoading, error, clearError } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const fetchMovie = async () => {\r\n      const data = await sendRequest(`/movie/${movieId}`, 'GET');\r\n\r\n      console.log(data);\r\n      setMovie(data.movie);\r\n    };\r\n\r\n    fetchMovie();\r\n  }, [sendRequest, movieId]);\r\n\r\n  const convertMovieLength = () => {\r\n    const { length } = movie;\r\n\r\n    const minutes = +length % 60;\r\n    const hours = Math.floor(+length / 60);\r\n\r\n    return `${hours} giờ ${minutes} phút`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {movie && trailer && (\r\n        <MovieTrailer trailer={trailer} backdropClick={() => setTrailer('')} />\r\n      )}\r\n\r\n      {movie && (\r\n        <div className='movie-detail'>\r\n          {/* background */}\r\n          <div\r\n            style={{\r\n              backgroundImage: `url(\"${movie.backgroundUrl}\")`,\r\n            }}\r\n            className='movie-detail__background-image'></div>\r\n\r\n          {/* content */}\r\n          <div className='movie-detail__content'>\r\n            <div className='movie-detail__image'>\r\n              <img src={movie.imageUrl} alt={movie.titleEng} />\r\n\r\n              <Button isFull isPrimary>\r\n                <i class='fa fa-play'></i>\r\n                Xem phim\r\n              </Button>\r\n            </div>\r\n            <div className='movie-detail__info'>\r\n              <div className='movie-detail__title-eng'>{movie.titleEng}</div>\r\n              <div className='movie-detail__title-vn'>{movie.titleVn}</div>\r\n              <div className='movie-detail__length'>{convertMovieLength()}</div>\r\n\r\n              <div className='movie-detail__IMDb'>\r\n                <span className='movie-detail__IMDb--icon'>IMDb</span>\r\n                {movie.imdb}\r\n              </div>\r\n\r\n              <div className='movie-detail__share'>\r\n                <span className='movie-detail__share--facebook'>\r\n                  <i className='fab fa-facebook'></i>\r\n                  Chia sẻ\r\n                </span>\r\n                <span className='movie-detail__share--bookmark'>\r\n                  <i className='fa fa-bookmark'></i>\r\n                  Bộ sưu tập\r\n                </span>\r\n              </div>\r\n\r\n              <div className='movie-detail__sub-info'>\r\n                <p>\r\n                  <span className='movie-detail__sub-info--label'>\r\n                    ĐẠO DIỄN\r\n                  </span>\r\n                  <span className='movie-detail__sub-info--value'>\r\n                    {movie.director}\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span className='movie-detail__sub-info--label'>\r\n                    QUỐC GIA\r\n                  </span>\r\n                  <span className='movie-detail__sub-info--value'>\r\n                    {movie.nation}\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  <span className='movie-detail__sub-info--label'>\r\n                    KHỞI CHIẾU\r\n                  </span>\r\n                  <span className='movie-detail__sub-info--value'>\r\n                    {movie.openingDay}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n\r\n              <div className='movie-detail__description'>\r\n                <p>{movie.description}</p>\r\n              </div>\r\n\r\n              <div className='movie-detail__casts'>\r\n                <div className='movie-detail__casts--title'>Diễn viên</div>\r\n                <Slider />\r\n              </div>\r\n\r\n              <div className='movie-detail__trailers--title'>Trailer</div>\r\n              <div className='movie-detail__trailers'>\r\n                {movie.trailers.map((trailer) => (\r\n                  <div\r\n                    onClick={() => setTrailer(trailer)}\r\n                    className='movie-detail__trailers-item'>\r\n                    <iframe\r\n                      src={trailer}\r\n                      title='YouTube video player'\r\n                      frameborder='0'></iframe>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport './MovieItem.css';\r\n\r\nexport default function MovieItem(props) {\r\n  const { id, titleEng, titleVn, imageUrl } = props.movie;\r\n  const history = useHistory();\r\n\r\n  const gotoMovieDetailPage = () => {\r\n    history.push(`/movie/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className='movie-item'>\r\n      <div onClick={gotoMovieDetailPage} className='movie-item__image'>\r\n        <img src={imageUrl} alt={titleEng} />\r\n        <div className='movie-item__overlay'></div>\r\n        <div className='movie-item__play-icon'>\r\n          <i className='fa fa-play '></i>\r\n        </div>\r\n      </div>\r\n      <p className='movie-item__title--vn'>{titleVn}</p>\r\n      <p className='movie-item__title--eng'>{titleEng}</p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useCallback, useEffect } from 'react';\r\n\r\nimport MovieItem from '../movieItem/MovieItem';\r\n\r\nimport './MovieList.css';\r\n\r\nimport {\r\n  MOVIES_PER_PAGE,\r\n  MOVIES_PAGINATION_RANGE,\r\n} from '../../shared/util/config';\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nexport default function MovieList(props) {\r\n  const { movies, filterTermArr } = props;\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [filteredMovies, setFilteredMovies] = useState(movies);\r\n\r\n  const numberOfPages = Math.ceil(movies.length / MOVIES_PER_PAGE);\r\n\r\n  const pagination = (movies, page) => {\r\n    const start = (page - 1) * MOVIES_PER_PAGE;\r\n    const end = page * MOVIES_PER_PAGE;\r\n\r\n    return movies.slice(start, end);\r\n  };\r\n\r\n  const nextPage = () => {\r\n    setCurrentPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const prevPage = () => {\r\n    setCurrentPage((prevPage) => prevPage - 1);\r\n  };\r\n\r\n  const gotoPage = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  const renderPageNumbers = (movies) => {\r\n    const pageNumbers = [];\r\n\r\n    const numberOfPages = Math.ceil(movies.length / MOVIES_PER_PAGE);\r\n\r\n    if (numberOfPages <= 5) {\r\n      for (let page = 1; page <= numberOfPages; page++) {\r\n        pageNumbers.push(\r\n          <span\r\n            className={page === currentPage ? 'pagination-page--active' : ''}\r\n            onClick={() => gotoPage(page)}>\r\n            {page}\r\n          </span>\r\n        );\r\n      }\r\n\r\n      return pageNumbers;\r\n    }\r\n\r\n    if (currentPage > numberOfPages - MOVIES_PAGINATION_RANGE + 1) {\r\n      pageNumbers.unshift(\r\n        <span onClick={() => gotoPage(currentPage - 2)}>{currentPage - 2}</span>\r\n      );\r\n    }\r\n\r\n    for (\r\n      let page = currentPage - 1;\r\n      page <= currentPage + MOVIES_PAGINATION_RANGE - 2;\r\n      page++\r\n    ) {\r\n      if (page > numberOfPages) {\r\n        break;\r\n      }\r\n\r\n      if (page <= 0) {\r\n        continue;\r\n      }\r\n\r\n      pageNumbers.push(\r\n        <span\r\n          className={page === currentPage ? 'pagination-page--active' : ''}\r\n          onClick={() => gotoPage(page)}>\r\n          {page}\r\n        </span>\r\n      );\r\n    }\r\n\r\n    //reander first few pages\r\n    if (currentPage <= MOVIES_PAGINATION_RANGE - 1) {\r\n      pageNumbers.push(\r\n        <span onClick={() => gotoPage(currentPage + 2)}>{currentPage + 2}</span>\r\n      );\r\n    }\r\n\r\n    if (currentPage >= MOVIES_PAGINATION_RANGE + 1) {\r\n      pageNumbers.unshift(<p>...</p>);\r\n      pageNumbers.unshift(<span onClick={() => gotoPage(1)}>{1}</span>);\r\n    }\r\n\r\n    if (currentPage <= numberOfPages - MOVIES_PAGINATION_RANGE) {\r\n      pageNumbers.push(<p>...</p>);\r\n      pageNumbers.push(\r\n        <span onClick={() => gotoPage(numberOfPages)}>{numberOfPages}</span>\r\n      );\r\n    }\r\n\r\n    return pageNumbers;\r\n  };\r\n\r\n  const filterMovies = useCallback(\r\n    (movies) => {\r\n      let filteredMovies = [...movies];\r\n\r\n      // filterTermArr.length ===\r\n      // user don't search\r\n      if (filterTermArr.length > 0)\r\n        filterTermArr.forEach((_filter) => {\r\n          if (_filter.type === 'nation') {\r\n            filteredMovies = filteredMovies.filter(\r\n              (movie) => movie.nation === _filter.value\r\n            );\r\n          }\r\n          if (_filter.type === 'genres') {\r\n            filteredMovies = filteredMovies.filter(\r\n              (movie) => movie.genres === _filter.value\r\n            );\r\n          }\r\n        });\r\n\r\n      setFilteredMovies(filteredMovies);\r\n    },\r\n    [filterTermArr]\r\n  );\r\n\r\n  useEffect(() => {\r\n    filterMovies(movies);\r\n  }, [filterTermArr, filterMovies, movies]);\r\n\r\n  return (\r\n    <>\r\n      <div className='movie-list'>\r\n        {pagination(filteredMovies, currentPage).map((movie) => (\r\n          <MovieItem key={movie.id} movie={movie} />\r\n        ))}\r\n\r\n        <div className='pagination'>\r\n          {/* page numbers */}\r\n          <div className='pagination-page'>\r\n            {renderPageNumbers(filteredMovies)}\r\n          </div>\r\n\r\n          {/* next and prev button */}\r\n          <div>\r\n            <Button\r\n              onClick={prevPage}\r\n              disabled={currentPage === 1}\r\n              style={{ margin: '1rem' }}\r\n              isClear>\r\n              Trang trước\r\n            </Button>\r\n            <Button\r\n              disabled={currentPage === numberOfPages}\r\n              onClick={nextPage}\r\n              isClear>\r\n              Trang sau\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './LoadingSpinner.css';\r\n\r\nexport default function LoadingSpinner(props) {\r\n  const asOverlay = props.asOverlay && 'loading-spinner__asOverlay';\r\n\r\n  return (\r\n    <div className={asOverlay}>\r\n      <div class='lds-ring'>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Modal.css';\r\n\r\nimport Backdrop from './Backdrop';\r\n\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nexport default function Modal(props) {\r\n  const { showed, backdropClick } = props;\r\n\r\n  const modal = (\r\n    <>\r\n      {showed && <Backdrop onClick={backdropClick} />}\r\n      <CSSTransition\r\n        in={showed}\r\n        timeout={200}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        classNames='modal'>\r\n        <div className='modal'>{props.children}</div>\r\n      </CSSTransition>\r\n    </>\r\n  );\r\n\r\n  return ReactDOM.createPortal(modal, document.getElementById('modal-hook'));\r\n}\r\n","import React from 'react';\r\n\r\nimport './ErrorModal.css';\r\n\r\nimport Modal from './Modal';\r\nimport Button from './Button';\r\n\r\nexport default function ErrorModal(props) {\r\n  const errorModal = (\r\n    <div className='modal-error'>\r\n      <Modal showed={props.error} backdropClick={props.clearError}>\r\n        <p className='modal-error__title'>An Error Occured!</p>\r\n        <p className='modal-error__content'>{props.error}</p>\r\n        <p className='modal-error__footer'>\r\n          <Button onClick={props.clearError} isDarkblue>\r\n            OK\r\n          </Button>\r\n        </p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n\r\n  return <>{errorModal}</>;\r\n}\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\nconst VALIDATOR_TYPE_NUMBER_ONLY = 'NUMBER_ONLY';\r\n\r\n//----------------------------------------------\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\n\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = (val) => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val,\r\n});\r\n\r\nexport const VALIDATOR_MAXLENGTH = (val) => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val,\r\n});\r\n\r\nexport const VALIDATOR_MIN = (val) => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\n\r\nexport const VALIDATOR_MAX = (val) => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\n\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const VALIDATOR_NUMBER_ONLY = () => ({\r\n  type: VALIDATOR_TYPE_NUMBER_ONLY,\r\n});\r\n\r\n//-----------------------------------------\r\nexport const validate = (value, validators) => {\r\n  let errorText = [];\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid &= value.trim().length > 0;\r\n      !isValid && errorText.push('Trường này không được để trống');\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid &= value.trim().length >= validator.val;\r\n      !isValid &&\r\n        errorText.push(`Xin nhập tối thiểu là ${validator.val} ký tự`);\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid &= value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid &= +value >= validator.val;\r\n      !isValid && errorText.push(`Giá trị tối thiểu là ${validator.val}`);\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid &= +value <= validator.val;\r\n      !isValid && errorText.push(`Giá trị tối đa là ${validator.val}`);\r\n    }\r\n\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid &= /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n        value\r\n      );\r\n\r\n      !isValid && errorText.push('Xin hãy nhập đúng email');\r\n    }\r\n\r\n    if (validator.type === VALIDATOR_TYPE_NUMBER_ONLY) {\r\n      isValid &= /^\\d+$/.test(value);\r\n\r\n      !isValid && errorText.push('Xin hãy nhập số nguyên');\r\n    }\r\n  }\r\n  return [isValid, errorText];\r\n};\r\n","import React, { useEffect, useState, useRef, setState } from 'react';\r\n\r\nimport './Select.css';\r\n\r\nimport { validate, VALIDATOR_REQUIRE } from '../../util/validators';\r\n\r\nexport default function CustomSelect(props) {\r\n  const { options, label, onChange, type, id } = props;\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n  const [errorText, setErrorText] = useState(null);\r\n\r\n  const selectRef = useRef();\r\n\r\n  const selectOptionHandler = (optionEng, optionVn) => {\r\n    setSelectedOption(optionVn);\r\n    setIsOpen(false);\r\n    onChange({ value: optionEng, type });\r\n\r\n    //handle require\r\n    const [isValid, error] = validate(optionEng, [VALIDATOR_REQUIRE()]);\r\n    setErrorText(error.join(' '));\r\n\r\n    props.onSelect(id, optionEng, isValid);\r\n  };\r\n\r\n  const toggleOpenHandler = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const renderOptionList = () => {\r\n    return (\r\n      <div className='dropdown-list'>\r\n        {options.map((option) => (\r\n          <div\r\n            key={option.optionValue}\r\n            onClick={() =>\r\n              selectOptionHandler(option.optionValue, option.optionLabel)\r\n            }\r\n            className='dropdown-list--item'>\r\n            {option.optionLabel}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const clickOutSideHandler = (e) => {\r\n    if (selectRef.current && !selectRef.current.contains(e.target)) {\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', clickOutSideHandler);\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={selectRef} className='custom-select'>\r\n      <div className='custom-select-label'>{label}</div>\r\n      <div onClick={toggleOpenHandler} className='dropdown-header'>\r\n        <div> {selectedOption || '- Tất cả -'}</div>\r\n        <i class='fa fa-chevron-down arrow-expand'></i>\r\n      </div>\r\n      {props.required && errorText && (\r\n        <div className='custom-select__error-text'>{errorText}</div>\r\n      )}\r\n      {isOpen && renderOptionList()}\r\n    </div>\r\n  );\r\n}\r\n\r\n// export function Select(props) {\r\n//   const [optionValue, setOptionValue] = useState(null);\r\n\r\n//   const changeHandler = (e) => {\r\n//     console.log(e.target.value);\r\n//   };\r\n\r\n//   const { id, onInput } = props;\r\n//   useEffect(() => {\r\n//     // onInput(id, optionValue);\r\n//   }, [id, optionValue, onInput]);\r\n\r\n//   return (\r\n//     <>\r\n//       <div className='select-field'>\r\n//         <label className='select-label' htmlFor={props.id}>\r\n//           {props.label}\r\n//         </label>\r\n//         <div className='select-control'>\r\n//           {/* use to handle event */}\r\n//           <select\r\n//             style={{ display: 'none' }}\r\n//             id={props.id}\r\n//             onChange={changeHandler}\r\n//             value={optionValue}>\r\n//             {props.options.map((opt) => (\r\n//               <option value={opt.optionValue}>{opt.optionLabel}</option>\r\n//             ))}\r\n//           </select>\r\n\r\n//           {/* use to render ONLY */}\r\n//           <CustomSelect options={props.options} />\r\n//         </div>\r\n//       </div>\r\n//     </>\r\n//   );\r\n// }\r\n","import React from 'react';\r\n\r\nimport './MovieFilter.css';\r\n\r\nimport Select from '../../shared/components/FormElement/Select';\r\n\r\nimport { GENRES_LIST, NATION_LIST } from '../../shared/util/config';\r\n\r\n//filterTerm\r\n\r\n// filterTermArr: [{ filterTerm: '', filterType: 'genres' }];\r\n\r\nexport default function MovieFilter(props) {\r\n  const { filterHandler } = props;\r\n\r\n  return (\r\n    <div className='movie-filter'>\r\n      <Select\r\n        onChange={filterHandler}\r\n        label={'Thể loại: '}\r\n        type='genres'\r\n        options={GENRES_LIST}\r\n        onSelect={() => {}}\r\n      />\r\n      <Select\r\n        onChange={filterHandler}\r\n        label={'Quốc gia: '}\r\n        type='nation'\r\n        options={NATION_LIST}\r\n        onSelect={() => {}}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport MovieList from '../../components/movieList/MovieList';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\n\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\nimport MovieFilter from '../../components/movieFilter/MovieFilter';\r\n\r\nimport './HomePage.css';\r\n\r\nexport default function HomePage() {\r\n  const { sendRequest, isLoading, error, clearError } = useHttp();\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  const [filterTermArr, setFilterTermArr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchMovies = async () => {\r\n      try {\r\n        const data = await sendRequest('movie');\r\n        setMovies(data.movies);\r\n      } catch (err) {}\r\n    };\r\n\r\n    fetchMovies();\r\n  }, [sendRequest]);\r\n\r\n  const filterHandler = (_filer) => {\r\n    //user don't search anything before\r\n    if (filterTermArr.length === 0) {\r\n      setFilterTermArr([_filer]);\r\n      return;\r\n    }\r\n\r\n    //user alreay filter\r\n    const termIndex = filterTermArr.findIndex(\r\n      (term) => term.type === _filer.type\r\n    );\r\n\r\n    if (termIndex === -1) {\r\n      //and then filter in another type\r\n      setFilterTermArr([...filterTermArr, _filer]);\r\n    } else {\r\n      //and then filter in the same type\r\n      const updateFilter = [...filterTermArr];\r\n      updateFilter[termIndex] = _filer;\r\n      setFilterTermArr(updateFilter);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='home-page'>\r\n      {true && <ErrorModal error={error} clearError={clearError} />}\r\n\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n      <MovieFilter filterHandler={filterHandler} />\r\n\r\n      {!isLoading && movies && (\r\n        <MovieList filterTermArr={filterTermArr} movies={movies} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { createContext, useState, useCallback } from 'react';\r\n\r\nexport const AuthContext = createContext({\r\n  isLoggedIn: false,\r\n  token: null,\r\n  user: null,\r\n  login: () => {},\r\n  logout: () => {},\r\n});\r\n\r\nexport function AuthContextWrapper(props) {\r\n  const [user, setUser] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  const login = useCallback((token, user) => {\r\n    setToken(token);\r\n    setUser(user);\r\n    setIsLoggedIn(true);\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isLoggedIn, token, user, login, logout }}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './HeaderDropdown.css';\r\n\r\nimport { AuthContext } from '../../../context/AuthContext';\r\n\r\nexport default function HeaderDropdown(props) {\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className='header-dropdown__list'>\r\n      <NavLink className='header-dropdown__item' to='/collection'>\r\n        <i className='fa fa-film'></i>\r\n        <span>Bộ sưu tập</span>\r\n      </NavLink>\r\n\r\n      <NavLink className='header-dropdown__item' to='/account'>\r\n        <i className='fa fa-user'></i>\r\n        <span>Tài khoản</span>\r\n      </NavLink>\r\n\r\n      <div onClick={auth.logout} className='header-dropdown__item'>\r\n        <i className='fa fa-sign-out-alt'></i>\r\n        <span>Thoát</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './Header.css';\r\n\r\nimport Button from '../UI/Button';\r\n\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nimport logo from '../../../assets/image/logo-full.png';\r\nimport HeaderDropdown from './HeaderDropdown/HeaderDropdown';\r\n\r\nexport default function Header() {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const auth = useContext(AuthContext);\r\n  const [changeNavbarColor, setChangeNavbarColor] = useState(false);\r\n\r\n  const renderLogin = () => {\r\n    return (\r\n      <>\r\n        <NavLink\r\n          to='/user'\r\n          className='navlinks__item fixed'\r\n          onMouseLeave={() => setShowDropdown(false)}>\r\n          <div onMouseEnter={() => setShowDropdown(true)} to='/user'>\r\n            {auth.user.name}\r\n            <i class='fa fa-chevron-down arrow-expand'></i>\r\n          </div>\r\n          {showDropdown && <HeaderDropdown username={auth.user.name} />}\r\n        </NavLink>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const changeBackgroundColor = () => {\r\n    //fixed height of navbar\r\n    if (window.scrollY >= 70) {\r\n      setChangeNavbarColor(true);\r\n    } else {\r\n      setChangeNavbarColor(false);\r\n    }\r\n  };\r\n\r\n  window.addEventListener('scroll', changeBackgroundColor);\r\n\r\n  return (\r\n    <header className={`header ${changeNavbarColor ? 'active' : ''}`}>\r\n      <div className='header--wrapper'>\r\n        <NavLink to='/' className='logo'>\r\n          <img src={logo} alt='logo' />\r\n        </NavLink>\r\n\r\n        <nav className='navlinks'>\r\n          <NavLink className='navlinks__item' to='/movie'>\r\n            Phim lẻ\r\n          </NavLink>\r\n          <NavLink className='navlinks__item' to='/show'>\r\n            Phim bộ\r\n          </NavLink>\r\n          <NavLink className='navlinks__item' to='/FQA'>\r\n            FQA\r\n          </NavLink>\r\n          <NavLink className='navlinks__item fixed' to='/search'>\r\n            <i class='fa fa-search '></i> Tìm kiếm\r\n          </NavLink>\r\n        </nav>\r\n      </div>\r\n\r\n      <div className='login'>\r\n        {!auth.isLoggedIn && (\r\n          <NavLink to='/auth'>\r\n            <Button isPrimary>Đăng nhập</Button>\r\n          </NavLink>\r\n        )}\r\n\r\n        {auth.isLoggedIn && renderLogin()}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAABVCAMAAACCT4pQAAACx1BMVEVMaXHcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijYWjryAAAA7HRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqLC0uLzAxMjM0NTY3ODo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVNUVVdYWVpbXV5gYWJjZWdoa2xtbm9wcXJzdHV2d3h5ent8fX5/gYKEhYeIiYqLjY6PkJGUlZaX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\"","import { useReducer, useCallback } from 'react';\r\n\r\n// initialState = {\r\n//   inputs: {\r\n//     title: {\r\n//       value: '',\r\n//       isValid: false,\r\n//     },\r\n//     description: {\r\n//       value: '',\r\n//       isValid: false,\r\n//     },\r\n//   },\r\n// };\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'INPUT_CHANGE': {\r\n      let isFormValid = true;\r\n\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n\r\n        if (inputId === action.inputId) {\r\n          //set current input valid\r\n          isFormValid = isFormValid && action.isValid;\r\n        } else {\r\n          //set remian inputs valid\r\n          isFormValid = isFormValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid },\r\n        },\r\n\r\n        isValid: isFormValid,\r\n      };\r\n    }\r\n\r\n    case 'SELECT_CHANGE': {\r\n      let isFormValid = true;\r\n\r\n      for (const inputId in state.inputs) {\r\n        // if (!state.inputs[inputId]) {\r\n        //   continue;\r\n        // }\r\n\r\n        if (inputId === action.inputId) {\r\n          //set current input valid\r\n          isFormValid = isFormValid && action.isValid;\r\n        } else {\r\n          //set remian inputs valid\r\n          isFormValid = isFormValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: {\r\n            value: action.value,\r\n            isValid: action.isValid,\r\n          },\r\n        },\r\n\r\n        isValid: isFormValid,\r\n      };\r\n    }\r\n\r\n    case 'SET_DATA': {\r\n      return {\r\n        inputs: action.inputs,\r\n        isValid: action.isValid,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function useForm(initialInputs, isFormValid) {\r\n  const [formState, dispatch] = useReducer(formReducer, {\r\n    inputs: initialInputs,\r\n    isValid: isFormValid,\r\n  });\r\n\r\n  const inputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({ type: 'INPUT_CHANGE', value, isValid, inputId: id });\r\n  }, []);\r\n\r\n  const selectHandler = useCallback((id, value, isValid) => {\r\n    dispatch({ type: 'SELECT_CHANGE', isValid, value, inputId: id });\r\n  }, []);\r\n\r\n  const setFormData = useCallback((inputData, isValid) => {\r\n    dispatch({ type: 'SET_DATA', inputs: inputData, isValid });\r\n  }, []);\r\n\r\n  const inputArrHandler = useCallback((id, value, isValid) => {\r\n    // dispatch({ type: 'INPUT_ARR_CHANGE', value, isValid, inputId: id });\r\n    // console.log()\r\n  }, []);\r\n\r\n  return { formState, inputHandler, setFormData, selectHandler };\r\n}\r\n","import React, { useReducer, useEffect } from 'react';\r\n\r\nimport { validate } from '../../util/validators';\r\n\r\nimport './Input.css';\r\n\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'CHANGE': {\r\n      const [isValid, errorText] = validate(action.val, action.validators);\r\n\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n\r\n        //validate value here\r\n        isValid,\r\n        errorText,\r\n      };\r\n    }\r\n\r\n    case 'TOUCH': {\r\n      const [isValid, errorText] = validate(action.val, action.validators);\r\n\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n        isValid,\r\n        errorText,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function Input(props) {\r\n  const [inputState, dispatch] = useReducer(inputReducer, {\r\n    value: props.initialValue || '',\r\n    isTouched: false,\r\n    isValid: props.initialValid || false,\r\n    errorText: [],\r\n  });\r\n\r\n  const changeHandler = (e) => {\r\n    dispatch({\r\n      type: 'CHANGE',\r\n      val: e.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n\r\n  const touchHandler = (e) => {\r\n    dispatch({\r\n      type: 'TOUCH',\r\n      val: e.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n\r\n  const { id, onInput } = props;\r\n  useEffect(() => {\r\n    onInput(id, inputState.value, inputState.isValid);\r\n  }, [id, inputState.value, inputState.isValid, onInput]);\r\n\r\n  //set style for form control\r\n  const validStyle =\r\n    inputState.isTouched && inputState.isValid && 'form-control--valid';\r\n  const invalidStyle =\r\n    inputState.isTouched && !inputState.isValid && 'form-control--invalid';\r\n  const formControlStyle = ['form-control', validStyle, invalidStyle].join(' ');\r\n\r\n  return (\r\n    <>\r\n      <div className={` ${formControlStyle}`}>\r\n        <label htmlFor={props.id}>{props.label}</label>\r\n        <input\r\n          className='form-input'\r\n          placeholder={props.placeholder}\r\n          type={props.type}\r\n          id={props.id}\r\n          onBlur={touchHandler}\r\n          onChange={changeHandler}\r\n          value={inputState.value}\r\n        />\r\n        {/* Error text */}\r\n        {inputState.isTouched && !inputState.isValid && (\r\n          <p className='form-control__error-text'>\r\n            {inputState.errorText.join(' / ')}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react';\r\n\r\nimport './ImageUpload.css';\r\n\r\nimport Button from '../UI/Button';\r\n\r\nexport default function ImageUpload(props) {\r\n  const { id, center, content } = props;\r\n\r\n  const [file, setFile] = useState();\r\n  const [previewUrl, setPreviewUrl] = useState(null);\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!file) return;\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      setPreviewUrl(fileReader.result);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  }, [file]);\r\n\r\n  const pickImageRef = useRef();\r\n\r\n  const pichImageHandlder = () => {\r\n    pickImageRef.current.click();\r\n  };\r\n\r\n  const pickHandler = (e) => {\r\n    let pickedFile;\r\n    let fileIsValid = isValid;\r\n\r\n    if (e.target.files && e.target.files.length === 1) {\r\n      pickedFile = e.target.files[0];\r\n\r\n      setFile(pickedFile);\r\n      setIsValid(true);\r\n      fileIsValid = true;\r\n    } else {\r\n      setIsValid(false);\r\n      fileIsValid = false;\r\n    }\r\n\r\n    props.onInput(props.id, pickedFile, fileIsValid);\r\n  };\r\n\r\n  return (\r\n    <div className='form-control'>\r\n      <input\r\n        ref={pickImageRef}\r\n        type='file'\r\n        id={id}\r\n        style={{ display: 'none' }}\r\n        accept='.jpg, .png, .jpeg'\r\n        onChange={pickHandler}\r\n      />\r\n      <div className={`image-upload ${center && 'center'}`}>\r\n        <div className='image-upload__preview'>\r\n          {previewUrl && <img src={previewUrl} alt='Preview' />}\r\n          {!previewUrl && <p>Please pick an image</p>}\r\n        </div>\r\n        <Button isGreen type='button' onClick={pichImageHandlder}>\r\n          {content}\r\n        </Button>\r\n      </div>\r\n      {!isValid && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useCallback, useEffect } from 'react';\r\n\r\nimport './InputArr.css';\r\n\r\nimport { VALIDATOR_REQUIRE } from '../../util/validators';\r\n\r\nimport Input from './Input';\r\n\r\nexport default function InputArr(props) {\r\n  //   const { formState, inputHandler } = useForm();\r\n  const [count, setCount] = useState(1);\r\n  const [inputArr, setInputArr] = useState([]);\r\n  const { id, onInput } = props;\r\n\r\n  const inputHandler = (index, value, isValid) => {\r\n    // console.log(index, value, isValid);\r\n    const updateInputArr = [...inputArr];\r\n    updateInputArr[index] = value;\r\n    setInputArr(updateInputArr);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const isValid = inputArr.length > 0 && inputArr[0].trim() !== '';\r\n\r\n    // console.log(inputArr, isValid, props.onInput);\r\n    onInput(id, inputArr, isValid);\r\n  }, [inputArr, onInput]);\r\n\r\n  const rendersInputTrailers = useCallback(() => {\r\n    let inputTrailers = [];\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      inputTrailers.push(\r\n        <Input\r\n          id={`${i}`}\r\n          label={`Link ${id} ${i + 1}`}\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n        />\r\n      );\r\n    }\r\n\r\n    return inputTrailers;\r\n  }, [count]);\r\n\r\n  const addInput = () => {\r\n    setCount((prevCount) => ++prevCount);\r\n  };\r\n\r\n  const removeInput = () => {\r\n    if (count <= 1) return;\r\n    setCount((prevCount) => --prevCount);\r\n  };\r\n\r\n  return (\r\n    <div className='input-arr'>\r\n      <div>{rendersInputTrailers()}</div>\r\n      <i onClick={addInput} class='fa fa-plus'></i>\r\n      {count > 1 && <i onClick={removeInput} class='fa fa-minus'></i>}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nimport './DatePicker.css';\r\n\r\nexport default function CustomDatePicker() {\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  return (\r\n    <div className='date-picker'>\r\n      <DatePicker\r\n        selected={startDate}\r\n        onChange={(date) => setStartDate(date)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport useForm from '../../shared/customHooks/useForm';\r\nimport Input from '../../shared/components/FormElement/Input';\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport {\r\n  VALIDATOR_MAX,\r\n  VALIDATOR_MIN,\r\n  VALIDATOR_NUMBER_ONLY,\r\n  VALIDATOR_REQUIRE,\r\n} from '../../shared/util/validators';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\n\r\nimport ImageUpload from '../../shared/components/FormElement/ImageUpload';\r\n\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\nimport Modal from '../../shared/components/UI/Modal';\r\n\r\nimport './AddMoviePage.css';\r\n\r\nimport Select from '../../shared/components/FormElement/Select';\r\nimport InputArrTrailer from '../../shared/components/FormElement/InputArr';\r\nimport DatePicker from '../../shared/components/DatePicker/DatePicker';\r\n\r\nimport { GENRES_LIST, NATION_LIST } from '../../shared/util/config';\r\n\r\nexport default function AddMoviePage() {\r\n  const { formState, inputHandler, setFormData, selectHandler } = useForm(\r\n    {\r\n      titleEng: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n      titleVn: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n      image: {\r\n        value: null,\r\n        isValid: false,\r\n      },\r\n      genres: {\r\n        value: null,\r\n        isValid: false,\r\n      },\r\n      trailer: {\r\n        value: [],\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const { sendRequest, isLoading, error, clearError } = useHttp();\r\n\r\n  const { createMovie, setCreateMovie } = useState(false);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    console.log(formState.inputs);\r\n\r\n    let titleEng = formState.inputs.titleEng.value;\r\n    const newMovie = {\r\n      titleEng,\r\n      titleVn: formState.inputs.titleVn.value,\r\n      genres: formState.inputs.genres.value,\r\n      nation: formState.inputs.nation.value,\r\n      trailer: formState.inputs.nation.value,\r\n    };\r\n\r\n    const fromData = new FormData();\r\n    fromData.append('image', formState.inputs.image.value);\r\n\r\n    //this title used to add to image name\r\n    const imageName = titleEng.toLowerCase().replaceAll(' ', '-');\r\n\r\n    try {\r\n      //send request to create new movie\r\n      const data = await sendRequest(\r\n        'movie',\r\n        'POST',\r\n        JSON.stringify(newMovie),\r\n        { 'Content-Type': 'application/json ' }\r\n      );\r\n\r\n      console.log(data);\r\n\r\n      //get id created by serve\r\n      const movieId = data.newMovie.id;\r\n\r\n      //use this id to add the image to database\r\n      await sendRequest(\r\n        `movie/image/${movieId}/${imageName}`,\r\n        'POST',\r\n        fromData\r\n      );\r\n\r\n      setCreateMovie(true);\r\n    } catch (err) {}\r\n  };\r\n\r\n  console.log(formState.inputs);\r\n\r\n  return (\r\n    <>\r\n      {createMovie && (\r\n        <Modal>\r\n          <h1>Success</h1>\r\n        </Modal>\r\n      )}\r\n\r\n      {error && <ErrorModal error={error} clearError={clearError} />}\r\n\r\n      <form className='form-add-movie' onSubmit={submitHandler}>\r\n        {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n        <h1>Thêm phim</h1>\r\n        <Input\r\n          id='titleEng'\r\n          label='Tên Tiếng Anh'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n        />\r\n\r\n        <Input\r\n          id='titleVn'\r\n          label='Tên Tiếng Việt'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n        />\r\n\r\n        <Input\r\n          id='length'\r\n          label='Độ dài phim (phút)'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE(), VALIDATOR_NUMBER_ONLY()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n          placeholder='phút'\r\n        />\r\n\r\n        <Input\r\n          id='imdb'\r\n          label='Điểm IMDb (1-10)'\r\n          initialValue=''\r\n          validators={[\r\n            VALIDATOR_REQUIRE(),\r\n            VALIDATOR_MAX(10),\r\n            VALIDATOR_MIN(1),\r\n          ]}\r\n          onInput={inputHandler}\r\n          type='number'\r\n        />\r\n\r\n        <Input\r\n          id='director'\r\n          label='Đạo diễn'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={inputHandler}\r\n          type='number'\r\n        />\r\n\r\n        <h3>Ngày khởi chiếu</h3>\r\n        <DatePicker />\r\n\r\n        {/* select thể loại, quốc gia */}\r\n        <div className='form-add-movie__select-container'>\r\n          <Select\r\n            required\r\n            id='genres'\r\n            onSelect={selectHandler}\r\n            options={GENRES_LIST}\r\n            label='Thể loại'\r\n            onChange={() => {}}\r\n          />\r\n\r\n          <Select\r\n            required\r\n            id='nation'\r\n            onSelect={selectHandler}\r\n            options={NATION_LIST}\r\n            label='Quốc gia'\r\n            onChange={() => {}}\r\n          />\r\n        </div>\r\n\r\n        <div className='form-add-movie__image-container'>\r\n          <div className='form-add-movie__image-container--image'>\r\n            <ImageUpload\r\n              onInput={inputHandler}\r\n              center\r\n              id='image'\r\n              content={'Pick movie'}\r\n            />\r\n          </div>\r\n          <div className='form-add-movie__image-container--bg-image'>\r\n            <ImageUpload\r\n              onInput={inputHandler}\r\n              center\r\n              id='bg-image'\r\n              content={'Pick movie background'}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* up trailer links */}\r\n        <InputArrTrailer onInput={inputHandler} id='trailer' />\r\n\r\n        <Button disabled={!formState.isValid} isSecondary>\r\n          Submit\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Input from '../../shared/components/FormElement/Input';\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport useForm from '../../shared/customHooks/useForm';\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport {\r\n  VALIDATOR_EMAIL,\r\n  VALIDATOR_MINLENGTH,\r\n  VALIDATOR_REQUIRE,\r\n} from '../../shared/util/validators';\r\n\r\nimport { LOCAL_STORAGE_KEY } from '../../shared/util/config';\r\n\r\nimport './Auth.css';\r\n\r\nexport default function Auth() {\r\n  const auth = useContext(AuthContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const [isLoginMode, setIsLoginMode] = useState(true);\r\n\r\n  const { formState, inputHandler, setFormData } = useForm(\r\n    {\r\n      email: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n      password: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const { sendRequest, isLoading, error, clearError } = useHttp();\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = formState.inputs;\r\n\r\n    if (isLoginMode) {\r\n      //login\r\n      const user = {\r\n        email: email.value,\r\n        password: password.value,\r\n      };\r\n\r\n      const { token, logginedUser } = await sendRequest(\r\n        'user/login',\r\n        'POST',\r\n        JSON.stringify(user)\r\n      );\r\n\r\n      auth.login(token, logginedUser);\r\n\r\n      saveTokenLocalStorage(`Bearer ${token}`);\r\n    } else {\r\n      //sign up\r\n      const newUser = {\r\n        email: email.value,\r\n        password: password.value,\r\n        name: formState.inputs.name.value,\r\n      };\r\n\r\n      const token = await sendRequest(\r\n        'user/signup',\r\n        'POST',\r\n        JSON.stringify(newUser)\r\n      );\r\n\r\n      auth.login(newUser.email, token);\r\n    }\r\n  };\r\n\r\n  const saveTokenLocalStorage = (token) => {\r\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(token));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      //get token from local storage\r\n      const token = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\r\n\r\n      const data = await sendRequest('user', 'GET', null, {\r\n        Authorization: token,\r\n      });\r\n\r\n      auth.login(token, data.user);\r\n    };\r\n\r\n    fetchUser();\r\n  }, []);\r\n\r\n  //change from signup to login and vice-versa\r\n  useEffect(() => {\r\n    const { email, password } = formState.inputs;\r\n\r\n    if (isLoginMode) {\r\n      setFormData(\r\n        {\r\n          email: {\r\n            value: email.value,\r\n            isValid: email.isValid,\r\n          },\r\n          password: {\r\n            value: password.value,\r\n            isValid: password.isValid,\r\n          },\r\n          name: undefined,\r\n        },\r\n        email.isValid && password.isValid\r\n      );\r\n    } else {\r\n      setFormData(\r\n        {\r\n          email: {\r\n            value: email.value,\r\n            isValid: email.isValid,\r\n          },\r\n          password: {\r\n            value: password.value,\r\n            isValid: password.isValid,\r\n          },\r\n          name: {\r\n            value: '',\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    }\r\n  }, [isLoginMode]);\r\n\r\n  const renderFormLogin = () => {\r\n    let formCard;\r\n\r\n    if (auth.isLoggedIn) {\r\n      formCard = (\r\n        <>\r\n          <h1 className='auth-title__success-login'>\r\n            Bạn đã đăng nhập thành công\r\n          </h1>\r\n          <Button onClick={() => history.push('/')} isFull isSecondary>\r\n            Quay về trang chủ\r\n          </Button>\r\n        </>\r\n      );\r\n    } else {\r\n      formCard = !isLoading && (\r\n        <form onSubmit={submitHandler} className='auth-form'>\r\n          <Input\r\n            id='email'\r\n            initialValue=''\r\n            validators={[VALIDATOR_REQUIRE(), VALIDATOR_EMAIL()]}\r\n            onInput={inputHandler}\r\n            type='email'\r\n            placeholder='Email'\r\n          />\r\n\r\n          {!isLoginMode && (\r\n            <Input\r\n              id='name'\r\n              initialValue=''\r\n              validators={[VALIDATOR_REQUIRE()]}\r\n              onInput={inputHandler}\r\n              type='text'\r\n              placeholder='Tên bạn'\r\n            />\r\n          )}\r\n\r\n          <Input\r\n            id='password'\r\n            initialValue=''\r\n            validators={[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH(6)]}\r\n            onInput={inputHandler}\r\n            type='password'\r\n            placeholder='Password'\r\n          />\r\n\r\n          <Button disabled={!formState.isValid} isFull isSecondary>\r\n            {isLoginMode ? 'Đăng nhập' : 'Đăng ký'}\r\n          </Button>\r\n          <div className='auth-form__divied'>\r\n            <p className='auth-form__divied-text'>Hoặc</p>\r\n          </div>\r\n          <Button isFull isPrimary>\r\n            <i class='fab fa-google'></i>\r\n            Đăng nhập với Google\r\n          </Button>\r\n        </form>\r\n      );\r\n    }\r\n\r\n    return formCard;\r\n  };\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <div className='auth-container'>\r\n        <h1 className='auth-title'>{!auth.isLoggedIn && 'Đăng nhập'}</h1>\r\n        <div className='auth-card'>\r\n          {error && !isLoading && (\r\n            <ErrorModal error={error} clearError={clearError} />\r\n          )}\r\n\r\n          {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n          {renderFormLogin()}\r\n        </div>\r\n\r\n        {!auth.isLoggedIn && (\r\n          <h1\r\n            onClick={() => setIsLoginMode(!isLoginMode)}\r\n            className='auth-signup'>\r\n            {isLoginMode ? 'Đăng ký' : 'Đăng nhập'}\r\n          </h1>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useContext, useState } from 'react';\r\n\r\nimport './MovieCollection.css';\r\n\r\nimport MovieItem from '../../components/movieItem/MovieItem';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nexport default function MovieCollection() {\r\n  const [likedMovies, setLikedMovies] = useState([]);\r\n  const [finishedMovies, setFinishedMovies] = useState([]);\r\n  const auth = useContext(AuthContext);\r\n\r\n  const { sendRequest, isLoading, error, clearError } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const { finishedList, likedList } = auth.user;\r\n\r\n    const fetchMovies = async () => {\r\n      const fetchLikedList = likedList.map((movieId) => {\r\n        return sendRequest(`/movie/${movieId}`);\r\n      });\r\n\r\n      const fetchFinishedList = finishedList.map((movieId) => {\r\n        return sendRequest(`/movie/${movieId}`);\r\n      });\r\n\r\n      const likedListResponse = await Promise.all(fetchLikedList);\r\n\r\n      const finishListRespons = await Promise.all(fetchFinishedList);\r\n\r\n      setLikedMovies(likedListResponse);\r\n      setFinishedMovies(finishListRespons);\r\n    };\r\n\r\n    fetchMovies();\r\n  }, [auth.user, sendRequest]);\r\n\r\n  const renderMovies = (movies) => {\r\n    if (!movies || movies.length === 0) {\r\n      return (\r\n        !isLoading && (\r\n          <h1>\r\n            Bạn chưa có phim nào. Hãy thêm phim vào danh sách để thưởng thức\r\n          </h1>\r\n        )\r\n      );\r\n    }\r\n\r\n    return movies.map((item) => (\r\n      <>{!isLoading && <MovieItem key={item.movie.id} movie={item.movie} />}</>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className='movie-collection'>\r\n      {error && <ErrorModal error={error} clearError={clearError} />}\r\n\r\n      <h1 className='text-center fs-1'>Bộ sưu tập phim của bạn</h1>\r\n\r\n      {/* liked movies */}\r\n      <h1 className='fs-1'>Các phim bạn muốn xem:</h1>\r\n      <div className='movie-collection__liked-movies'>\r\n        {isLoading && <LoadingSpinner />}\r\n        {renderMovies(likedMovies)}\r\n      </div>\r\n\r\n      {/* finished movies */}\r\n      <h1 className='fs-1'>Các phim bạn đã xem:</h1>\r\n      <div className='movie-collection__finished-movies'>\r\n        {isLoading && <LoadingSpinner />}\r\n        {renderMovies(finishedMovies)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nexport default function PrivateRoute({\r\n  component: Component,\r\n  redirectTo,\r\n  ...otherProps\r\n}) {\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      {...otherProps}\r\n      render={(props) =>\r\n        auth.isLoggedIn ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={redirectTo} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport './Account.css';\r\n\r\nexport default function Account() {\r\n  const auth = useContext(AuthContext);\r\n\r\n  const { name, email, createdAt } = auth.user;\r\n\r\n  console.log(auth.user);\r\n\r\n  return (\r\n    <div className='account-container'>\r\n      <div className='account-info text-center'>\r\n        <div className='account-info__name'>{name}</div>\r\n        <p>\r\n          Email: <span className='account-info__email'>{email}</span>\r\n        </p>\r\n        <p>\r\n          Ngày gia nhập:\r\n          <span className='account-info__join-date'>{createdAt}</span>\r\n        </p>\r\n\r\n        <div className='account-info__diveded'></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\n\nimport MovieDetailPage from './pages/movieDetail/MovieDetailPage';\nimport HomePage from './pages/homePage/HomePage';\nimport Header from './shared/components/Header/Header';\n\nimport './App.css';\nimport AddMoviePage from './pages/addMovie/AddMoviePage';\n\nimport Auth from './pages/user/Auth';\n\nimport { AuthContextWrapper } from './shared/context/AuthContext';\nimport MovieCollection from './pages/collection/MovieCollection';\n\nimport PrivateRoute from './shared/components/PrivateRoute/PrivateRoute';\nimport Account from './pages/account/Account';\n\nfunction App() {\n  return (\n    <AuthContextWrapper>\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          {/* access for everyone */}\n          <Route exact path='/' component={HomePage} />\n          <Route exact path='/movie/:movieId' component={MovieDetailPage} />\n          <Route exact path='/auth' component={Auth} />\n          {/* only for login user*/}\n          <PrivateRoute exact path='/account' component={Account} />\n          <PrivateRoute exact path='/add-movie' component={AddMoviePage} />\n          <PrivateRoute exact path='/collection' component={MovieCollection} />\n          <Redirect to='/' />;\n        </Switch>\n      </BrowserRouter>\n    </AuthContextWrapper>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}