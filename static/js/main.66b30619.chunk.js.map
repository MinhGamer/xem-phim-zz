{"version":3,"sources":["shared/components/UI/Button.js","shared/util/config.js","shared/context/AuthContext.js","shared/components/Header/HeaderDropdown/HeaderDropdown.js","shared/customHooks/useHttp.js","shared/components/Header/Header.js","assets/image/logo-full.png","assets/image/footer-bg.jpg","shared/components/Footer/Footer.js","shared/components/UI/LoadingSpinner.js","components/movieItem/MovieItem.js","components/movieList/MovieList.js","shared/components/UI/Backdrop.js","shared/components/UI/Modal.js","shared/components/UI/ErrorModal.js","shared/util/validators.js","shared/components/FormElement/Select.js","components/movieFilter/MovieFilter.js","routes/PrivateRoute.js","shared/components/FormElement/Input.js","shared/customHooks/useForm.js","admin/components/userForm/UserForm.js","redux/actionTypes/actionTypes.js","admin/components/userItem/UserItem.js","redux/actionCreator/userActions.js","admin/components/userDetail/UserDetail.js","admin/components/allUser/AllUser.js","admin/AdminPage.js","components/movieTrailer/MovieTrailer.js","components/trailerSlider/TrailerSlider.js","components/similarMovies/SimilarMovies.js","components/moviePoster/MoviePoster.js","components/belongToCollection/MovieBelongToCollection.js","components/collection/Collection.js","components/movieInfo/MovieInfo.js","components/castSlider/CastSlider.js","components/movieSeason/MovieSeason.js","components/movieImageSlider/MovieImageSlider.js","components/productionCompany/ProductionCompany.js","pages/movieDetail/MovieDetailPage.js","components/movieSeriesDetail/MovieSeriesDetail.js","pages/movieSeries/MovieSeriesPage.js","shared/util/refreshToken.js","routes/routes.js","pages/homePage/HomePage.js","pages/tvSeries/TvSeriesPage.js","pages/FAQ/FAQPage.js","pages/user/Auth.js","pages/searchMovie/SearchMovie.js","pages/person/PersonPage.js","shared/util/googleApiKey.js","pages/account/Account.js","pages/collection/MovieCollectionPage.js","App.js","reportWebVitals.js","redux/reducers/userReducer.js","redux/reducers/rootReducer.js","index.js"],"names":["Button","props","buttonStyled","isPrimary","isSecondary","isDarkblue","isGreen","isClear","isFull","join","style","type","disabled","onClick","className","children","API_KEY","ADMIN_EMAIL","API_USER","API_MOVIE","API_MOVIE_IMAGE","LOCAL_STORAGE_KEY","GENRES_LIST_VN","id","name","LANGUAGE_LIST_VN","RELEASE_YEAR","years","y","push","toString","genrateYear","LENGTH","min","max","SORT","seriesList","JOB_LIST","AuthContext","createContext","isLoggedIn","token","user","isAdmin","login","logout","AuthContextWrapper","useState","setUser","setToken","setIsLoggedIn","setIsAdmin","useCallback","email","Provider","value","HeaderDropdown","auth","useContext","to","class","useHttp","isLoading","setIsLoading","error","setError","sendUser","uri","a","method","body","headers","fetch","res","json","resData","message","sendRequest","resDetails","resVideosAndCast","resDataDetails","resDataVideosAndCast","ok","fetchMovieDetails","crew","credits","directors","i","length","department","job","console","log","backdrop_path","genres","vote_average","original_title","overview","poster_path","release_date","runtime","title","videos","seasons","original_language","images","posters","belongs_to_collection","production_companies","fetchSimilarMovies","movieId","url","data","results","fetchTvDetails","tvId","season","created_by","forEach","creater","first_air_date","original_name","episode_run_time","origin_country","number_of_episodes","number_of_seasons","resSeason","resSeasonData","air_date","fetchPersonDetails","resPerson","resPersonData","fetchProductionCompany","companyId","fetchMovies","numberOfPages","responseList","fetchTvSerires","URL","params","api_key","language","page","Object","keys","key","searchParams","append","searchMovie","query","filterMovies","filter","replace","movieUrls","Promise","all","allRes","map","allResults","result","concat","clearError","fetchMoviesByIdList","idList","transFormedIdList","urlList","resList","fetchSeries","requestList","Header","showDropdown","setShowDropdown","changeNavbarColor","setChangeNavbarColor","useEffect","tokenId","localStorage","getItem","Authorization","loginUser","window","addEventListener","scrollY","src","alt","onMouseLeave","onMouseEnter","username","Footer","history","useHistory","scrollTo","top","behavior","location","path","backgroundImage","footerBg","LoadingSpinner","asOverlay","MovieItem","movie","clickMovieHandler","isAlreadyWatchced","isEdit","imageUrl","onClickMovieHandler","onClickMovieEdit","e","action","stopPropagation","renderMovie","noVnTitle","once","offset","height","placeholder","MovieList","movies","currentPage","setCurrentPage","MOVIE_ITEM_PER_PAGE","Math","ceil","gotoPage","start","end","slice","pagination","pageNumbers","unshift","MOVIES_PAGINATION_RANGE","renderPageNumbers","prevPage","margin","React","memo","Backdrop","backdrop","ReactDOM","createPortal","document","getElementById","Modal","showed","backdropClick","modal","CSSTransition","in","timeout","mountOnEnter","unmountOnExit","classNames","ErrorModal","errorModal","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_TYPE_NUMBER_ONLY","VALIDATOR_REQUIRE","VALIDATOR_MINLENGTH","val","VALIDATOR_EMAIL","validate","validators","errorText","isValid","validator","trim","test","CustomSelect","options","label","onChange","optionId","isOpen","setIsOpen","selectedOption","setSelectedOption","index","findIndex","opt","selectRef","useRef","clickOutSideHandler","current","contains","target","ref","required","option","selectOptionHandler","MovieFilter","filterHandler","filterTerm","memoGENRES_LIST_VN","useMemo","memoLANGUAGE_LIST_VN","memoRELEASE_YEAR","with_genres","onSelect","with_original_language","primary_release_year","sort_by","PrivateRoute","Component","component","redirectTo","otherProps","render","inputReducer","state","isTouched","Input","useReducer","initialValue","initialValid","inputState","dispatch","onInput","formControlStyle","htmlFor","onBlur","formReducer","isFormValid","inputId","inputs","useForm","initialInputs","formState","inputHandler","selectHandler","setFormData","inputData","UserForm","password","onSubmit","preventDefault","DELETE_USER","GET_USER","SET_ALL_USER","SORT_USER","connect","userDetail","userReducer","deleteUser","userEmail","payload","actDeleteUser","getUser","actGetUser","createdAt","collection","confirmDelete","setConfirmDelete","setCollection","_collection","isDone","settingsFinishlist","infinite","speed","slidesToShow","slidesToScroll","arrows","draggable","settingsWhislist","renderMovies","allUser","sortUsersByField","field","actSortUsers","search","setSearch","users","pageNumber","filterUsersByName","keyword","toLowerCase","includes","header","userId","TOTAL_PAGE","createPages","from","totalPages","pageEle","dots","USERS_PAGINATION_RANGE","renderTotalPages","renderPagination","ADMIN_NAVTAB_LIST","setAllUser","actSetAllUser","navtabIndex","setNavtabIndex","ADMIN_NAVTAB_ITEM","fetchAllUser","navtab","navItem","MovieTrailer","trailer","frameborder","allow","allowfullscreen","TrailerSlider","onClickTrailer","trailers","settings","SimilarMovies","MoviePoster","MovieBelongToCollection","gotoSeriesPage","Collection","status","show","setShow","collectionStyle","MovieInfo","pathname","split","convertMovieLength","minutes","hours","floor","gotoHomePageToFilter","gotoPersonPage","personId","clickCollectionHandler","JSON","stringify","genre","director","langugeId","languge","renderLanguge","CastSlider","cast","responsive","breakpoint","actor","profile_path","character","MovieSeason","season_number","gotoSeasonDetailPage","episode_count","MovieImageSlider","onBackdropClick","sliderRef","activeIndex","setActiveIndex","showActive","setShowActive","nextSlideHandler","preIndex","slickNext","prevSlideHandler","slickPrev","gotoSlide","slickGoTo","onEntered","image","file_path","ProductionCompany","companies","company","logo_path","MovieDetailPage","useParams","seasonNumber","setMovie","similarMovies","setSimilarMovies","setTrailer","movieImages","setMovieImages","fetchMovie","similarM","MovieSeriesDetail","series","renderGenres","genres_ids","genres_id","genresId","gotoMovieDetailPage","vote_count","genre_ids","MovieSeriesPage","seriesId","setSeries","setMovieId","seriesImages","setSeriesImages","fetchedseries","fetchSeriesData","clickId","singleSeries","renderSeriesInfo","onExiting","parts","refreshTokenSetup","refreshTiming","tokenObj","expires_in","refreshToken","reloadAuthResponse","newAuthRes","setItem","id_token","setTimeout","commonRoutes","exact","historySearch","setMovies","productionCompany","setProductionCompany","with_companies","setFilterTerm","convertQueryToFilter","myQuery","substring","filterUpdate","queryItem","filteredMovies","parseFilterTerm","companyData","fetchFilterMovies","updateFilterTerm","filterCombied","covertFilterToQuery","prev","rel","href","homepage","fetchMovieList","isLoginMode","setIsLoginMode","submitHandler","loginedUser","newUser","onLoginGoogleSuccess","onLoginGoogleFail","undefined","renderProps","clientId","buttonText","onSuccess","onFailure","cookiePolicy","setQuery","term","timer","clearTimeout","setActor","axios","post","q","biography","translation","translatedBiography","translations","translatedText","fetchPerson","jobId","known_for_department","find","gender","birthday","place_of_birth","renderPersonInfo","splice","profiles","img","privateRoutes","activeId","setActiveId","deleteMovie","setDeleteMovie","authCollection","renderCollection","appear","deleveMovieHandler","adminRoutes","AdminPage","App","basename","route","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","sortASC","allUserArr","values","updateAllUsers","sortUsers","updateSortASC","compare","b","aLength","bLength","sort","rootReducer","combineReducers","store","createStore","__REDUX_DEVTOOLS_EXTENSION__"],"mappings":"ggCAIe,SAASA,EAAOC,GAC7B,IAOMC,EAAe,CAPED,EAAME,UAAa,iBAAqB,GACtCF,EAAMG,YAAe,mBAAuB,GAC7CH,EAAMI,WAAc,mBAAuB,GAC9CJ,EAAMK,QAAW,eAAmB,GACpCL,EAAMM,QAAW,eAAmB,GACrCN,EAAMO,OAAU,cAAkB,IASpDC,KAAK,KAEP,OACE,wBACEC,MAAOT,EAAMS,MACbC,KAAMV,EAAMU,KACZC,SAAUX,EAAMW,SAChBC,QAASZ,EAAMY,QACfC,UAAS,iBAAYZ,EAAZ,YAA4BD,EAAMa,WAL7C,SAMGb,EAAMc,WC5BN,IAAMC,EAAU,mCAEVC,EAAc,6BAEdC,EAAW,oDAKXC,EAAY,+BAEZC,EAAkB,sCAqClBC,EAAoB,cAIpBC,EAAiB,CAC5B,CACEC,GAAI,MACJC,KAAM,wBAER,CACED,GAAI,KACJC,KAAM,0BAER,CACED,GAAI,KACJC,KAAM,qBAER,CACED,GAAI,KACJC,KAAM,qBAER,CACED,GAAI,KACJC,KAAM,UAER,CACED,GAAI,KACJC,KAAM,mBAER,CACED,GAAI,KACJC,KAAM,oBAER,CACED,GAAI,KACJC,KAAM,sBAER,CACED,GAAI,QACJC,KAAM,oBAER,CACED,GAAI,KACJC,KAAM,4BAER,CACED,GAAI,KACJC,KAAM,qBAER,CACED,GAAI,KACJC,KAAM,gBAER,CACED,GAAI,QACJC,KAAM,aAER,CACED,GAAI,OACJC,KAAM,iBAER,CACED,GAAI,QACJC,KAAM,oBAER,CACED,GAAI,MACJC,KAAM,2CAER,CACED,GAAI,QACJC,KAAM,iDAER,CACED,GAAI,KACJC,KAAM,mBAER,CACED,GAAI,QACJC,KAAM,oBAER,CACED,GAAI,KACJC,KAAM,oBAER,CACED,GAAI,QACJC,KAAM,8CAER,CACED,GAAI,QACJC,KAAM,4BAER,CACED,GAAI,QACJC,KAAM,aAER,CACED,GAAI,QACJC,KAAM,sBAIGC,EAAmB,CAC9B,CACEF,GAAI,MACJC,KAAM,wBAER,CACED,GAAI,KACJC,KAAM,aAER,CACED,GAAI,KACJC,KAAM,iBAER,CACED,GAAI,KACJC,KAAM,WAER,CACED,GAAI,KACJC,KAAM,oBAER,CACED,GAAI,KACJC,KAAM,OAER,CACED,GAAI,KACJC,KAAM,kBAER,CACED,GAAI,KACJC,KAAM,mBAER,CACED,GAAI,KACJC,KAAM,aAER,CACED,GAAI,KACJC,KAAM,2BAER,CACED,GAAI,KACJC,KAAM,kBAER,CACED,GAAI,KACJC,KAAM,wBAER,CACED,GAAI,KACJC,KAAM,YAER,CACED,GAAI,KACJC,KAAM,eAER,CACED,GAAI,KACJC,KAAM,iBAER,CACED,GAAI,KACJC,KAAM,QAER,CACED,GAAI,KACJC,KAAM,4BAER,CACED,GAAI,KACJC,KAAM,2BAiBGE,EAbO,WAOlB,IANA,IAAIC,EAAQ,CACV,CACEJ,GAAI,MACJC,KAAM,yBAGDI,EAAI,KAAMA,GAAK,IAAMA,IAC5BD,EAAME,KAAK,CAAEN,GAAIK,EAAEE,WAAYN,KAAMI,EAAEE,aAEzC,OAAOH,EAGmBI,GAEfC,EAAS,CACpB,CACET,GAAI,MACJC,KAAM,wBAER,CACED,GAAI,CACFU,IAAK,GACLC,IAAK,MAEPV,KAAM,+BAER,CACED,GAAI,CACFU,IAAK,KACLC,IAAK,MAEPV,KAAM,sBAER,CACED,GAAI,CACFU,IAAK,KACLC,IAAK,OAEPV,KAAM,sBAER,CACED,GAAI,CACFU,IAAK,MACLC,IAAK,OAEPV,KAAM,sBAER,CACED,GAAI,CACFU,IAAK,MACLC,IAAK,IAEPV,KAAM,2BAIGW,EAAO,CAClB,CACEZ,GAAI,MACJC,KAAM,wBAER,CACED,GAAI,kBACJC,KAAM,sBAER,CACED,GAAI,kBACJC,KAAM,uBAER,CACED,GAAI,eACJC,KAAM,cAIGY,EAAa,CACxB,CAAEb,GAAI,GAAIC,KAAM,wBAChB,CAAED,GAAI,GAAIC,KAAM,4BAChB,CAAED,GAAI,IAAKC,KAAM,oCACjB,CAAED,GAAI,IAAKC,KAAM,6BACjB,CAAED,GAAI,IAAKC,KAAM,6CACjB,CAAED,GAAI,IAAKC,KAAM,4BACjB,CAAED,GAAI,IAAKC,KAAM,8BA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","file":"static/js/main.66b30619.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './Button.css';\r\n\r\nexport default function Button(props) {\r\n  const buttonPrimary = (props.isPrimary && 'button-primary') || '';\r\n  const buttonSecondary = (props.isSecondary && 'button-secondary') || '';\r\n  const buttonDarkblue = (props.isDarkblue && 'button-dark-blue') || '';\r\n  const buttonGreen = (props.isGreen && 'button-green') || '';\r\n  const buttonClear = (props.isClear && 'button-clear') || '';\r\n  const buttonFull = (props.isFull && 'button-full') || '';\r\n\r\n  const buttonStyled = [\r\n    buttonPrimary,\r\n    buttonSecondary,\r\n    buttonDarkblue,\r\n    buttonGreen,\r\n    buttonClear,\r\n    buttonFull,\r\n  ].join(' ');\r\n\r\n  return (\r\n    <button\r\n      style={props.style}\r\n      type={props.type}\r\n      disabled={props.disabled}\r\n      onClick={props.onClick}\r\n      className={`button ${buttonStyled} ${props.className}`}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n","export const API_KEY = '838c50953b29e1152a488ae92467e67c';\r\n\r\nexport const ADMIN_EMAIL = 'minhnguyenuehk38@gmail.com';\r\n\r\nexport const API_USER = 'http://localhost:5000/xem-phim-zz/us-central1/api';\r\n\r\nexport const OAUTH_CLIENT_KEY =\r\n  '727042721453-71eou4s34mf4mro6e11k0j0n0f29f3sq.apps.googleusercontent.com';\r\n\r\nexport const API_MOVIE = 'https://api.themoviedb.org/3';\r\n\r\nexport const API_MOVIE_IMAGE = 'https://image.tmdb.org/t/p/original';\r\n\r\nexport const USERS_PER_PAGE = 3;\r\n\r\nexport const USERS_PAGINATION_RANGE = 3;\r\n\r\nexport const MOVIES_PER_PAGE = 15;\r\n\r\nexport const MOVIES_PAGINATION_RANGE = 4;\r\n\r\nexport const SERIES_PER_PAGE = 5;\r\n\r\n// export const GENRES_LIST = [\r\n//   { optionValue: 'all', optionLabel: 'Tất cả' },\r\n//   { optionValue: 'Action', optionLabel: 'Hành động' },\r\n//   { optionValue: 'Comedy', optionLabel: 'Hài' },\r\n//   { optionValue: 'Horror', optionLabel: 'Kinh dị' },\r\n//   { optionValue: 'Romance', optionLabel: 'Lãng mạn' },\r\n//   { optionValue: 'Drama', optionLabel: 'Chính kịch' },\r\n//   { optionValue: 'Science fiction', optionLabel: 'Khoa học viễn tưởng' },\r\n//   { optionValue: 'Documentary', optionLabel: 'Tài liệu' },\r\n//   { optionValue: 'Anime', optionLabel: 'Hoạt Hình' },\r\n//   { optionValue: 'Thriller', optionLabel: 'Giật gân' },\r\n// ];\r\n\r\n// export const NATION_LIST = [\r\n//   { optionValue: 'all', optionLabel: 'Tất cả' },\r\n//   { optionValue: 'US', optionLabel: 'Mỹ' },\r\n//   { optionValue: 'Korea', optionLabel: 'Hàn Quốc' },\r\n//   { optionValue: 'England', optionLabel: 'Anh' },\r\n//   { optionValue: 'France', optionLabel: 'Pháp' },\r\n//   { optionValue: 'Canada', optionLabel: 'Canada' },\r\n//   { optionValue: 'China', optionLabel: 'Trung Quốc' },\r\n//   { optionValue: 'Japan', optionLabel: 'Nhật Bản' },\r\n//   { optionValue: 'Vietnam', optionLabel: 'Việt Nam' },\r\n// ];\r\n\r\nexport const LOCAL_STORAGE_KEY = 'xem-phim-zz';\r\n\r\n//name: to show on the select in the filter movies\r\n//id: to send to movies db\r\nexport const GENRES_LIST_VN = [\r\n  {\r\n    id: 'all',\r\n    name: '- Tất cả -',\r\n  },\r\n  {\r\n    id: '28',\r\n    name: 'Hành Động',\r\n  },\r\n  {\r\n    id: '12',\r\n    name: 'Phiêu Lưu',\r\n  },\r\n  {\r\n    id: '16',\r\n    name: 'Hoạt Hình',\r\n  },\r\n  {\r\n    id: '35',\r\n    name: 'Hài',\r\n  },\r\n  {\r\n    id: '80',\r\n    name: 'Hình Sự',\r\n  },\r\n  {\r\n    id: '99',\r\n    name: 'Tài Liệu',\r\n  },\r\n  {\r\n    id: '18',\r\n    name: 'Chính Kịch',\r\n  },\r\n  {\r\n    id: '10751',\r\n    name: 'Gia Đình',\r\n  },\r\n  {\r\n    id: '14',\r\n    name: 'Giả Tượng',\r\n  },\r\n  {\r\n    id: '36',\r\n    name: 'Lịch Sử',\r\n  },\r\n  {\r\n    id: '27',\r\n    name: 'Kinh Dị',\r\n  },\r\n  {\r\n    id: '10402',\r\n    name: 'Nhạc',\r\n  },\r\n  {\r\n    id: '9648',\r\n    name: 'Bí Ẩn',\r\n  },\r\n  {\r\n    id: '10749',\r\n    name: 'Lãng Mạn',\r\n  },\r\n  {\r\n    id: '878',\r\n    name: 'Khoa Học Viễn Tưởng',\r\n  },\r\n  {\r\n    id: '10770',\r\n    name: 'Chương Trình Truyền Hình',\r\n  },\r\n  {\r\n    id: '53',\r\n    name: 'Gây Cấn',\r\n  },\r\n  {\r\n    id: '10752',\r\n    name: 'Chiến Tranh',\r\n  },\r\n  {\r\n    id: '37',\r\n    name: 'Miền Tây',\r\n  },\r\n  {\r\n    id: '10759',\r\n    name: 'Hành động & Phiêu lưu',\r\n  },\r\n  {\r\n    id: '10765',\r\n    name: 'Giả tưởng',\r\n  },\r\n  {\r\n    id: '10767',\r\n    name: 'Talk show',\r\n  },\r\n  {\r\n    id: '10768',\r\n    name: 'Chính trị',\r\n  },\r\n];\r\n\r\nexport const LANGUAGE_LIST_VN = [\r\n  {\r\n    id: 'all',\r\n    name: '- Tất cả -',\r\n  },\r\n  {\r\n    id: 'ja',\r\n    name: 'Nhật',\r\n  },\r\n  {\r\n    id: 'vi',\r\n    name: 'Việt Nam',\r\n  },\r\n  {\r\n    id: 'fr',\r\n    name: 'Pháp',\r\n  },\r\n  {\r\n    id: 'ko',\r\n    name: 'Hàn Quốc',\r\n  },\r\n  {\r\n    id: 'ru',\r\n    name: 'Nga',\r\n  },\r\n  {\r\n    id: 'en',\r\n    name: 'Tiếng Anh',\r\n  },\r\n  {\r\n    id: 'CN',\r\n    name: 'Trung Quốc',\r\n  },\r\n  {\r\n    id: 'nl',\r\n    name: 'Hà Lan',\r\n  },\r\n  {\r\n    id: 'pt',\r\n    name: 'Bồ Đào Nha',\r\n  },\r\n  {\r\n    id: 'es',\r\n    name: 'Tây Ban Nha',\r\n  },\r\n  {\r\n    id: 'in',\r\n    name: 'Ấn Độ',\r\n  },\r\n  {\r\n    id: 'ml',\r\n    name: 'Malaysia',\r\n  },\r\n  {\r\n    id: 'th',\r\n    name: 'Thái Lan',\r\n  },\r\n  {\r\n    id: 'de',\r\n    name: 'Đức',\r\n  },\r\n  {\r\n    id: 'it',\r\n    name: 'Ý',\r\n  },\r\n  {\r\n    id: 'sv',\r\n    name: 'Thụy Điển',\r\n  },\r\n  {\r\n    id: 'cs',\r\n    name: 'Cộng Hòa Czech',\r\n  },\r\n];\r\n\r\nconst genrateYear = () => {\r\n  let years = [\r\n    {\r\n      id: 'all',\r\n      name: '- Tất cả -',\r\n    },\r\n  ];\r\n  for (let y = 2021; y >= 2000; y--) {\r\n    years.push({ id: y.toString(), name: y.toString() });\r\n  }\r\n  return years;\r\n};\r\n\r\nexport const RELEASE_YEAR = genrateYear();\r\n\r\nexport const LENGTH = [\r\n  {\r\n    id: 'all',\r\n    name: '- Tất cả -',\r\n  },\r\n  {\r\n    id: {\r\n      min: '',\r\n      max: '60',\r\n    },\r\n    name: 'Dưới 1 tiếng',\r\n  },\r\n  {\r\n    id: {\r\n      min: '60',\r\n      max: '90',\r\n    },\r\n    name: '1 - 1.5 tiếng',\r\n  },\r\n  {\r\n    id: {\r\n      min: '90',\r\n      max: '120',\r\n    },\r\n    name: '1.5 - 2 tiếng',\r\n  },\r\n  {\r\n    id: {\r\n      min: '120',\r\n      max: '150',\r\n    },\r\n    name: '2 - 2.5 tiếng',\r\n  },\r\n  {\r\n    id: {\r\n      min: '150',\r\n      max: '',\r\n    },\r\n    name: 'Trên 2.5 tiếng',\r\n  },\r\n];\r\n\r\nexport const SORT = [\r\n  {\r\n    id: 'all',\r\n    name: '- Tất cả -',\r\n  },\r\n  {\r\n    id: 'popularity.desc',\r\n    name: 'Phổ biến',\r\n  },\r\n  {\r\n    id: 'vote_count.desc',\r\n    name: 'Đánh giá',\r\n  },\r\n  {\r\n    id: 'revenue.desc',\r\n    name: 'Doanh thu',\r\n  },\r\n];\r\n\r\nexport const seriesList = [\r\n  { id: 10, name: 'Star Wars Collection' },\r\n  { id: 84, name: 'Indiana Jones Collection' },\r\n  { id: 119, name: 'The Lord of the Rings Collection' },\r\n  { id: 131, name: 'Trois Couleurs Collection' },\r\n  { id: 151, name: 'Star Trek: The Original Series Collection' },\r\n  { id: 230, name: 'The Godfather Collection' },\r\n  { id: 263, name: 'The Dark Knight Collection' },\r\n  { id: 264, name: 'Back to the Future Collection' },\r\n  { id: 295, name: 'Pirates of the Caribbean Collection' },\r\n  { id: 304, name: \"Ocean's Collection\" },\r\n  { id: 328, name: 'Jurassic Park Collection' },\r\n  { id: 399, name: 'Predator Collection' },\r\n  { id: 420, name: 'The Chronicles of Narnia Collection' },\r\n  // { id: 432, name: 'Cube Collection' },\r\n  // { id: 456, name: 'Sissi Collection' },\r\n  // { id: 495, name: 'Shaft Collection' },\r\n  // { id: 528, name: 'The Terminator Collection' },\r\n  // { id: 529, name: 'Wallace & Gromit Collection' },\r\n  // { id: 556, name: 'Spider-Man Collection' },\r\n  // { id: 645, name: 'James Bond Collection' },\r\n  // { id: 656, name: 'Saw Collection' },\r\n  // { id: 735, name: 'Blade Collection' },\r\n  // { id: 748, name: 'X-Men Collection' },\r\n  // { id: 937, name: 'The Pink Panther (Original) Collection' },\r\n  // { id: 945, name: 'Lethal Weapon Collection' },\r\n  // { id: 1006, name: 'Austin Powers Collection' },\r\n  // { id: 1241, name: 'Harry Potter Collection' },\r\n  // { id: 1565, name: '28 Days/Weeks Later Collection' },\r\n  // { id: 1570, name: 'Die Hard Collection' },\r\n  // { id: 1575, name: 'Rocky Collection' },\r\n  // { id: 1582, name: 'Teenage Mutant Ninja Turtles Collection' },\r\n  // { id: 1617, name: 'Erkan & Stefan Filmreihe' },\r\n  // { id: 1657, name: 'Zorro Collection' },\r\n  // { id: 1709, name: 'Planet of the Apes Original Collection' },\r\n  // { id: 1733, name: 'The Mummy Collection' },\r\n  // { id: 1952, name: 'USA: Land of Opportunities Collection' },\r\n  // { id: 1960, name: 'Evil Dead Collection' },\r\n  // { id: 1972, name: 'Ju-on Collection' },\r\n  // { id: 1974, name: 'The Grudge Collection' },\r\n  // { id: 2150, name: 'Shrek Collection' },\r\n  // { id: 2248, name: 'Torrente - Colección' },\r\n  // { id: 2326, name: 'Underworld Collection' },\r\n  // { id: 2344, name: 'The Matrix Collection' },\r\n  // { id: 2366, name: 'Jaws Collection' },\r\n  // { id: 2396, name: 'Asterix & Obelix Collection' },\r\n  // { id: 2467, name: 'Tomb Raider Collection' },\r\n  // { id: 2488, name: 'Les Amours sous la Révolution' },\r\n];\r\n\r\nexport const JOB_LIST = [\r\n  {\r\n    id: 'Directing',\r\n    name: 'Đạo diễn',\r\n  },\r\n  {\r\n    id: 'Acting',\r\n    name: 'Diễn viên',\r\n  },\r\n  {\r\n    id: 'Writing',\r\n    name: 'Nhà viết kịch bản',\r\n  },\r\n  {\r\n    id: 'Editing',\r\n    name: ' Nhà biên tập',\r\n  },\r\n  {\r\n    id: 'Production',\r\n    name: ' Nhà sản xuất',\r\n  },\r\n];\r\n","import { createContext, useState, useCallback } from 'react';\r\n\r\nimport { ADMIN_EMAIL } from '../../shared/util/config';\r\n\r\nexport const AuthContext = createContext({\r\n  isLoggedIn: false,\r\n  token: null,\r\n  user: null,\r\n  isAdmin: false,\r\n  login: () => {},\r\n  logout: () => {},\r\n});\r\n\r\nexport function AuthContextWrapper(props) {\r\n  const [user, setUser] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(null);\r\n\r\n  const login = useCallback((token, user) => {\r\n    setToken(token);\r\n    setUser(user);\r\n    setIsLoggedIn(true);\r\n\r\n    if (user.email === ADMIN_EMAIL) {\r\n      setIsAdmin(true);\r\n    }\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n    setIsAdmin(false);\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{ isLoggedIn, token, user, login, logout, isAdmin }}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './HeaderDropdown.css';\r\n\r\nimport { AuthContext } from '../../../context/AuthContext';\r\n\r\nexport default function HeaderDropdown(props) {\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className='header-dropdown__list'>\r\n      {auth.isAdmin && (\r\n        <NavLink className='header-dropdown__item' to='/admin'>\r\n          <i class='fa fa-user-cog'></i>\r\n          <span>Quản lý người dùng</span>\r\n        </NavLink>\r\n      )}\r\n\r\n      <NavLink className='header-dropdown__item' to='/collection'>\r\n        <i className='fa fa-film'></i>\r\n        <span>Bộ sưu tập</span>\r\n      </NavLink>\r\n\r\n      <NavLink className='header-dropdown__item' to='/account'>\r\n        <i className='fa fa-user'></i>\r\n        <span>Tài khoản</span>\r\n      </NavLink>\r\n\r\n      <div onClick={auth.logout} className='header-dropdown__item'>\r\n        <i className='fa fa-sign-out-alt'></i>\r\n        <span>Thoát</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useCallback } from 'react';\r\n\r\nimport { API_MOVIE, API_KEY, API_USER } from '../util/config';\r\n\r\nexport default function useHttp() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  //save data of user`\r\n  const sendUser = useCallback(\r\n    async (uri, method = 'GET', body = null, headers) => {\r\n      setIsLoading(true);\r\n      try {\r\n        const res = await fetch(`${API_USER}/${uri}`, {\r\n          method,\r\n          body,\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            ...headers,\r\n          },\r\n        });\r\n\r\n        const resData = await res.json();\r\n\r\n        setIsLoading(false);\r\n\r\n        return resData;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const sendRequest = useCallback(\r\n    async (uri, method = 'GET', body = null, headers) => {\r\n      // 1 page = 20 movies\r\n\r\n      setIsLoading(true);\r\n      try {\r\n        const resDetails = await fetch(\r\n          `${API_MOVIE}/${uri}?api_key=${API_KEY}&language=vi&append_to_response=credits,videos`,\r\n          {\r\n            method,\r\n            body,\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              ...headers,\r\n            },\r\n          }\r\n        );\r\n\r\n        const resVideosAndCast = await fetch(\r\n          `${API_MOVIE}/${uri}?api_key=${API_KEY}&append_to_response=credits,videos`,\r\n          {\r\n            method,\r\n            body,\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              ...headers,\r\n            },\r\n          }\r\n        );\r\n\r\n        const resDataDetails = await resDetails.json();\r\n\r\n        const resDataVideosAndCast = await resVideosAndCast.json();\r\n\r\n        if (!resDetails.ok) {\r\n          throw resDetails;\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return { ...resDataDetails, ...resDataVideosAndCast };\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const fetchMovieDetails = useCallback(\r\n    // type: tv or movie\r\n    async (uri, method = 'GET', body = null, headers) => {\r\n      setIsLoading(true);\r\n      try {\r\n        //get details in vietnamese\r\n        const resDetails = await fetch(\r\n          `${API_MOVIE}/${uri}?api_key=${API_KEY}&language=vi`,\r\n          {\r\n            method,\r\n            body,\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              ...headers,\r\n            },\r\n          }\r\n        );\r\n\r\n        const resVideosAndCast = await fetch(\r\n          `${API_MOVIE}/${uri}?api_key=${API_KEY}&language=en&append_to_response=credits,videos,images`,\r\n          {\r\n            method,\r\n            body,\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              ...headers,\r\n            },\r\n          }\r\n        );\r\n\r\n        //vietnamese\r\n        const resDataDetails = await resDetails.json();\r\n\r\n        const resDataVideosAndCast = await resVideosAndCast.json();\r\n\r\n        if (!resDetails.ok) {\r\n          throw resDetails;\r\n        }\r\n\r\n        const { crew } = resDataVideosAndCast.credits;\r\n\r\n        let directors = [];\r\n        for (let i = 0; i < crew.length; i++) {\r\n          if (\r\n            crew[i].department === 'Directing' &&\r\n            crew[i].job === 'Director'\r\n          ) {\r\n            directors.push(crew[i]);\r\n          }\r\n        }\r\n\r\n        console.log(resDataDetails);\r\n\r\n        console.log(resDataVideosAndCast);\r\n\r\n        const resData = {\r\n          backdrop_path: resDataVideosAndCast.backdrop_path,\r\n          credits: resDataVideosAndCast.credits,\r\n          genres: resDataDetails.genres,\r\n          vote_average: resDataVideosAndCast.vote_average,\r\n          original_title: resDataDetails.original_title,\r\n          overview: resDataDetails.overview,\r\n          poster_path: resDataVideosAndCast.poster_path,\r\n          release_date: resDataVideosAndCast.release_date,\r\n          runtime: resDataVideosAndCast.runtime,\r\n          title: resDataDetails.title,\r\n          videos: resDataVideosAndCast.videos,\r\n          directors,\r\n          name: resDataDetails.name,\r\n          seasons: resDataDetails.seasons,\r\n          original_language: resDataVideosAndCast.original_language,\r\n          images: resDataVideosAndCast.images.posters,\r\n          belongs_to_collection: resDataVideosAndCast.belongs_to_collection,\r\n          production_companies: resDataVideosAndCast.production_companies,\r\n        };\r\n\r\n        setIsLoading(false);\r\n        return resData;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const fetchSimilarMovies = useCallback(async (movieId, method = 'GET') => {\r\n    setIsLoading(true);\r\n    try {\r\n      const url = `${API_MOVIE}/movie/${movieId}/recommendations?api_key=${API_KEY}&language=vi`;\r\n\r\n      //make request to api\r\n      const res = await fetch(url, {\r\n        method,\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      console.log(data);\r\n\r\n      // //fix issue with db\r\n      // //some movieId must be search with &language=en-US\r\n      // if (data.results.length === 0) {\r\n      //   const anotherUrl = `${API_MOVIE}/movie/${movieId}/recommendations?api_key=${API_KEY}&language=en-US`;\r\n      //   //make request to api\r\n      //   const res = await fetch(anotherUrl, {\r\n      //     method,\r\n      //   });\r\n\r\n      //   const anotheData = await res.json();\r\n      //   console.log(anotheData);\r\n      //   return anotheData.results;\r\n      // }\r\n      // console.log('Herh');\r\n\r\n      setIsLoading(false);\r\n\r\n      return data.results;\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const fetchTvDetails = useCallback(\r\n    // type: tv or movie\r\n    async (tvId, season) => {\r\n      // 1 page = 20 movies\r\n\r\n      //fecth tv will have 2 options:\r\n      //1. tv main series\r\n      //2. tv series season\r\n\r\n      //Ex: The Flash is a Tv series and have 7 seasons\r\n\r\n      //because api for details season is not enough info\r\n      //-> get tv main series info + season info to render movie details\r\n\r\n      //flag to check fetch tv or tv season\r\n      // const isSeason = uri.includes('season');\r\n\r\n      setIsLoading(true);\r\n      try {\r\n        //get details in vietnamese\r\n        const resDetails = await fetch(\r\n          `${API_MOVIE}/tv/${tvId}?api_key=${API_KEY}&language=vi`\r\n        );\r\n\r\n        const resVideosAndCast = await fetch(\r\n          `${API_MOVIE}/tv/${tvId}?api_key=${API_KEY}&append_to_response=credits,videos`\r\n        );\r\n\r\n        //vietnamese\r\n        const resDataDetails = await resDetails.json();\r\n\r\n        const resDataVideosAndCast = await resVideosAndCast.json();\r\n\r\n        if (!resDetails.ok) {\r\n          throw resDetails;\r\n        }\r\n\r\n        let resData;\r\n\r\n        const { created_by } = resDataVideosAndCast;\r\n\r\n        let directors = [];\r\n        created_by.forEach((creater) => {\r\n          directors.push(creater);\r\n        });\r\n\r\n        console.log(created_by);\r\n\r\n        // console.log(resDataDetails);\r\n\r\n        console.log(resDataVideosAndCast);\r\n\r\n        resData = {\r\n          backdrop_path: resDataVideosAndCast.backdrop_path,\r\n          credits: resDataVideosAndCast.credits,\r\n          genres: resDataDetails.genres,\r\n          vote_average: resDataVideosAndCast.vote_average,\r\n          overview: resDataDetails.overview || resDataVideosAndCast.overview,\r\n          poster_path: resDataVideosAndCast.poster_path,\r\n          release_date: resDataVideosAndCast.first_air_date,\r\n          videos: resDataVideosAndCast.videos,\r\n          directors,\r\n          name: resDataDetails.name,\r\n          original_name: resDataDetails.original_name,\r\n          seasons: resDataDetails.seasons,\r\n          episode_run_time: resDataDetails.episode_run_time[0],\r\n          origin_country: resDataVideosAndCast.origin_country,\r\n          first_air_date: resDataVideosAndCast.first_air_date,\r\n          number_of_episodes: resDataVideosAndCast.number_of_episodes,\r\n          number_of_seasons: resDataVideosAndCast.number_of_seasons,\r\n          production_companies: resDataVideosAndCast.production_companies,\r\n        };\r\n\r\n        //if fetch tv season details:\r\n        if (season) {\r\n          const resSeason = await fetch(\r\n            `${API_MOVIE}/tv/${tvId}/season/${season}?api_key=${API_KEY}&append_to_response=credits,videos`\r\n          );\r\n\r\n          const resSeasonData = await resSeason.json();\r\n\r\n          console.log(resSeasonData);\r\n\r\n          resData = {\r\n            ...resData,\r\n            ...resSeasonData,\r\n            release_date: resSeasonData.air_date,\r\n          };\r\n        }\r\n\r\n        console.log(resData);\r\n\r\n        setIsLoading(false);\r\n        return resData;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const fetchPersonDetails = useCallback(async (uri, method = 'GET') => {\r\n    // 1 page = 20 movies\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      //get info for an person\r\n      const resPerson = await fetch(\r\n        `${API_MOVIE}/${uri}?api_key=${API_KEY}&append_to_response=credits,images`\r\n      );\r\n\r\n      //vietnamese\r\n      const resPersonData = await resPerson.json();\r\n\r\n      setIsLoading(false);\r\n\r\n      return { ...resPersonData };\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const fetchProductionCompany = useCallback(async (companyId) => {\r\n    setIsLoading(true);\r\n    try {\r\n      //get info for an person\r\n      const res = await fetch(\r\n        `${API_MOVIE}/company/${companyId}?api_key=${API_KEY}`\r\n      );\r\n\r\n      //vietnamese\r\n      const resData = await res.json();\r\n\r\n      setIsLoading(false);\r\n\r\n      return { ...resData };\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const fetchMovies = useCallback(\r\n    async (uri, method = 'GET', numberOfPages = 1) => {\r\n      setIsLoading(true);\r\n\r\n      try {\r\n        let responseList = [];\r\n\r\n        for (let i = 0; i < numberOfPages; i++) {\r\n          //append params to url\r\n\r\n          const url = `${API_MOVIE}/${uri}/popular?api_key=${API_KEY}&language=vi&page=${\r\n            i + 1\r\n          }`;\r\n\r\n          //make request to api\r\n          const res = await fetch(url, {\r\n            method,\r\n          });\r\n\r\n          const data = await res.json();\r\n\r\n          responseList.push(...data.results);\r\n        }\r\n        setIsLoading(false);\r\n\r\n        return responseList;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const fetchTvSerires = useCallback(\r\n    async (uri, method = 'GET', numberOfPages = 1) => {\r\n      setIsLoading(true);\r\n\r\n      try {\r\n        let responseList = [];\r\n\r\n        for (let i = 1; i <= numberOfPages; i++) {\r\n          //append params to url\r\n          var url = new URL(`${API_MOVIE}/${uri}`),\r\n            params = { api_key: API_KEY, language: 'vi', page: i };\r\n\r\n          Object.keys(params).forEach((key) =>\r\n            url.searchParams.append(key, params[key])\r\n          );\r\n\r\n          //make request to api\r\n          const res = await fetch(url, {\r\n            method,\r\n          });\r\n\r\n          const data = await res.json();\r\n\r\n          responseList.push(...data.results);\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return responseList;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const searchMovie = useCallback(async (query) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const resPerson = await fetch(\r\n        `${API_MOVIE}/search/multi?api_key=${API_KEY}&query=${query}`\r\n      );\r\n\r\n      //vietnamese\r\n      const resPersonData = await resPerson.json();\r\n\r\n      setIsLoading(false);\r\n\r\n      return { ...resPersonData };\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const filterMovies = useCallback(async (type, filter, numberOfPages = 1) => {\r\n    filter = filter.replace('?', '&');\r\n\r\n    //type: movie or tv\r\n\r\n    setIsLoading(true);\r\n    let movieUrls = [];\r\n    try {\r\n      for (let i = 0; i < numberOfPages; i++) {\r\n        const url = `${API_MOVIE}/discover/${type}?api_key=${API_KEY}${filter}&language=vi&page=${\r\n          i + 1\r\n        }`;\r\n\r\n        movieUrls.push(fetch(url));\r\n      }\r\n\r\n      const allRes = await Promise.all(movieUrls);\r\n\r\n      const allResults = await Promise.all(allRes.map((res) => res.json()));\r\n\r\n      let data = [];\r\n      allResults.forEach((result) => {\r\n        data = data.concat(result.results);\r\n      });\r\n\r\n      setIsLoading(false);\r\n\r\n      // console.log(data);\r\n\r\n      return data;\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const clearError = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  const fetchMoviesByIdList = useCallback(async (idList) => {\r\n    setIsLoading(true);\r\n\r\n    // idList = {\r\n    //   527774: { isDone: true },\r\n    //   587807: { isDone: false },\r\n    //   791373: { isDone: true },\r\n    // };\r\n\r\n    const transFormedIdList = Object.keys(idList);\r\n    // transFormedIdList =[\"527774\", \"587807\", \"791373\"]\r\n\r\n    try {\r\n      const urlList = [];\r\n\r\n      for (let i = 0; i < transFormedIdList.length; i++) {\r\n        const url = `${API_MOVIE}/movie/${transFormedIdList[i]}?api_key=${API_KEY}&language=vi`;\r\n\r\n        urlList.push(fetch(url));\r\n      }\r\n\r\n      const resList = await Promise.all(urlList);\r\n\r\n      const resData = await Promise.all(resList.map((res) => res.json()));\r\n\r\n      setIsLoading(false);\r\n\r\n      console.log(resData);\r\n\r\n      return resData;\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const fetchSeries = useCallback(async (seriesList) => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      let requestList = [];\r\n\r\n      for (let i = 0; i < seriesList.length; i++) {\r\n        const url = `${API_MOVIE}/collection/${seriesList[i].id}?api_key=${API_KEY}&language=vi`;\r\n\r\n        requestList.push(fetch(url));\r\n      }\r\n\r\n      //fetch single series ->  fecth images with it\r\n      if (seriesList.length === 1) {\r\n        requestList.push(\r\n          fetch(\r\n            `${API_MOVIE}/collection/${seriesList[0].id}/images?api_key=${API_KEY}`\r\n          )\r\n        );\r\n      }\r\n\r\n      const responseList = await Promise.all(requestList);\r\n\r\n      let data = await Promise.all(responseList.map((res) => res.json()));\r\n\r\n      //fetch single series\r\n      if (seriesList.length === 1) {\r\n        data = [{ ...data[0], ...data[1] }];\r\n      }\r\n\r\n      setIsLoading(false);\r\n\r\n      return data;\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    fetchMovies,\r\n    fetchMovieDetails,\r\n    sendRequest,\r\n    filterMovies,\r\n    fetchPersonDetails,\r\n    searchMovie,\r\n    isLoading,\r\n    error,\r\n    clearError,\r\n    sendUser,\r\n    fetchMoviesByIdList,\r\n    fetchTvSerires,\r\n    fetchTvDetails,\r\n    fetchSeries,\r\n    fetchSimilarMovies,\r\n    fetchProductionCompany,\r\n  };\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './Header.css';\r\n\r\nimport Button from '../UI/Button';\r\n\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nimport { LOCAL_STORAGE_KEY } from '../../util/config';\r\n\r\nimport logo from '../../../assets/image/logo-full.png';\r\nimport HeaderDropdown from './HeaderDropdown/HeaderDropdown';\r\n\r\nimport useHttp from '../../customHooks/useHttp';\r\n\r\nexport default function Header() {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const auth = useContext(AuthContext);\r\n  const [changeNavbarColor, setChangeNavbarColor] = useState(false);\r\n  const { sendUser } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const loginUser = async () => {\r\n      const tokenId = localStorage.getItem(LOCAL_STORAGE_KEY);\r\n\r\n      // console.log(sendToken);\r\n\r\n      if (!tokenId) return;\r\n\r\n      const { token, user } = await sendUser('user/g-login', 'POST', null, {\r\n        Authorization: 'Bearer ' + tokenId,\r\n      });\r\n\r\n      if (!token) return;\r\n\r\n      auth.login(token, user);\r\n    };\r\n\r\n    loginUser();\r\n  }, []);\r\n\r\n  const renderLogin = () => {\r\n    return (\r\n      <>\r\n        <NavLink\r\n          to='/user'\r\n          className='navlinks__item fixed'\r\n          onMouseLeave={() => setShowDropdown(false)}>\r\n          <div onMouseEnter={() => setShowDropdown(true)} to='/user'>\r\n            {auth.user.name} ({auth.isAdmin ? 'Admin' : ''})\r\n            <i class='fa fa-chevron-down arrow-expand'></i>\r\n          </div>\r\n          {showDropdown && <HeaderDropdown username={'Minh'} />}\r\n        </NavLink>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const changeBackgroundColor = () => {\r\n    //fixed height of navbar\r\n    if (window.scrollY >= 70) {\r\n      setChangeNavbarColor(true);\r\n    } else {\r\n      setChangeNavbarColor(false);\r\n    }\r\n  };\r\n\r\n  window.addEventListener('scroll', changeBackgroundColor);\r\n\r\n  return (\r\n    <header className={`header ${changeNavbarColor ? 'active' : ''}`}>\r\n      <div className='header--wrapper'>\r\n        <NavLink to='/' className='logo'>\r\n          <img src={logo} alt='logo' />\r\n        </NavLink>\r\n\r\n        <nav className='navlinks'>\r\n          <NavLink className='navlinks__item' to='/series'>\r\n            Phim series\r\n          </NavLink>\r\n          <NavLink className='navlinks__item' to='/tv'>\r\n            Phim bộ\r\n          </NavLink>\r\n          <NavLink className='navlinks__item' to='/faq'>\r\n            FQA\r\n          </NavLink>\r\n          <NavLink className='navlinks__item fixed' to='/search'>\r\n            <i class='fa fa-search '></i> Tìm kiếm\r\n          </NavLink>\r\n        </nav>\r\n      </div>\r\n\r\n      <div className='login'>\r\n        {!auth.isLoggedIn && (\r\n          <NavLink to='/auth'>\r\n            <Button isPrimary>Đăng nhập</Button>\r\n          </NavLink>\r\n        )}\r\n\r\n        {auth.isLoggedIn && renderLogin()}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAABVCAMAAACCT4pQAAACx1BMVEVMaXHcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijcGijYWjryAAAA7HRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqLC0uLzAxMjM0NTY3ODo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVNUVVdYWVpbXV5gYWJjZWdoa2xtbm9wcXJzdHV2d3h5ent8fX5/gYKEhYeIiYqLjY6PkJGUlZaX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\"","export default __webpack_public_path__ + \"static/media/footer-bg.7b1562b2.jpg\";","import React, { useEffect } from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport footerBg from '../../../assets/image/footer-bg.jpg';\r\n\r\nimport './Footer.css';\r\n\r\nexport default function Footer() {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    });\r\n    console.log('Footer');\r\n  }, [history.location.path]);\r\n\r\n  const scrollToTopHomePage = () => {\r\n    history.push('/');\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='footer-container '>\r\n      <div\r\n        className='footer-background'\r\n        style={{ backgroundImage: `url(${footerBg})` }}>\r\n        <div className='footer-content'>\r\n          <h1 className='footer-title'>\r\n            Phim chất lượng cao online của{' '}\r\n            <span onClick={scrollToTopHomePage}>XemPhim</span> khác gì so với\r\n            các trang phim khác?\r\n          </h1>\r\n          <ul className='footer-content'>\r\n            <li>\r\n              Là phim bluray (reencoded), có độ phân giải thấp nhất là Full HD\r\n              (1080p), trong khi hầu hết các trang phim khác chỉ có tới độ phân\r\n              giải HD (720p) là cao nhất\r\n            </li>\r\n            <li>\r\n              Chất lượng cao, lượng dữ liệu trên giây (bitrate) gấp từ 5 - 10\r\n              lần phim online thông thường - đây là yếu tố quyết định độ nét của\r\n              phim (thậm chí còn quan trọng hơn độ phân giải)\r\n            </li>\r\n            <li>\r\n              Âm thanh 5.1 (6 channel) thay vì stereo (2 channel) như các trang\r\n              phim khác (kể cả Youtube)\r\n            </li>\r\n            <li>\r\n              Phù hợp để xem trên màn hình TV, máy tính, laptop có độ phân giải\r\n              cao\r\n            </li>\r\n            <li>\r\n              Nếu không hài lòng với phụ đề có sẵn, bạn có thể tự upload phụ đề\r\n              của riêng mình để xem online\r\n            </li>\r\n            <li>\r\n              Có lựa chọn hiện phụ đề song ngữ (tức hiện đồng thời cả tiếng Anh\r\n              & tiếng Việt), phù hợp với những người muốn học tiếng Anh qua phụ\r\n              đề phim\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './LoadingSpinner.css';\r\n\r\nexport default function LoadingSpinner(props) {\r\n  const asOverlay = props.asOverlay && 'loading-spinner__asOverlay';\r\n\r\n  return (\r\n    <div className={`loading-spinner ${asOverlay}`}>\r\n      <div class='lds-ring'>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport LazyLoad from 'react-lazyload';\r\n\r\nimport { API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\n\r\nimport './MovieItem.css';\r\n\r\nexport default function MovieItem(props) {\r\n  const {\r\n    id,\r\n    original_title,\r\n    title,\r\n    poster_path,\r\n    name,\r\n    original_name,\r\n    backdrop_path,\r\n  } = props.movie;\r\n\r\n  // console.log('render', title);\r\n\r\n  const { type, clickMovieHandler, isAlreadyWatchced, isEdit } = props;\r\n\r\n  const history = useHistory();\r\n\r\n  const imageUrl = `${API_MOVIE_IMAGE}/${poster_path || backdrop_path}`;\r\n\r\n  const gotoMovieDetailPage = () => {\r\n    history.push(`/${type}/${id}`);\r\n  };\r\n\r\n  const onClickMovieHandler = () => {\r\n    if (type === 'series') {\r\n      return clickMovieHandler(id);\r\n    }\r\n\r\n    //default behavior\r\n    return gotoMovieDetailPage();\r\n  };\r\n\r\n  const onClickMovieEdit = (e, action) => {\r\n    e.stopPropagation();\r\n\r\n    clickMovieHandler(id, action);\r\n  };\r\n\r\n  const renderMovie = () => (\r\n    <div className={`${!isEdit ? '' : 'movie-item'}`}>\r\n      <div onClick={() => onClickMovieHandler()} className='movie-item__image'>\r\n        {isEdit && (\r\n          <div className='movie-item__edit'>\r\n            {isAlreadyWatchced && (\r\n              <div\r\n                onClick={(e) => onClickMovieEdit(e, 'addFavorited')}\r\n                className='collection-wishlist'>\r\n                <i class='fa fa-eye '></i>\r\n                <span>Muốn xem lại</span>\r\n              </div>\r\n            )}\r\n\r\n            {!isAlreadyWatchced && (\r\n              <div\r\n                onClick={(e) => onClickMovieEdit(e, 'addDone')}\r\n                className='collection-done'>\r\n                <i class='fa fa-check '></i>\r\n                <span>Đã xem xong</span>\r\n              </div>\r\n            )}\r\n\r\n            <div\r\n              onClick={(e) => onClickMovieEdit(e, 'delete')}\r\n              className='collection-delete'>\r\n              <i class='fa fa-trash '></i>\r\n              <span>Xoá</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <img src={imageUrl} alt={original_title} />\r\n        <div className='movie-item__play-icon'>\r\n          {!isEdit && <i className='fa fa-play '></i>}\r\n        </div>\r\n      </div>\r\n      <p className='movie-item__title--vn'>{title || name}</p>\r\n      {!props.noVnTitle && (\r\n        <p className='movie-item__title--eng'>\r\n          {original_title || original_name}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {poster_path && !isEdit && (\r\n        <LazyLoad\r\n          once\r\n          offset={[-100, -200]}\r\n          height={600}\r\n          key={id}\r\n          placeholder={<LoadingSpinner />}\r\n          className='movie-item'>\r\n          {renderMovie()}\r\n        </LazyLoad>\r\n      )}\r\n\r\n      {poster_path && isEdit && renderMovie()}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport MovieItem from '../movieItem/MovieItem';\r\n\r\nimport './MovieList.css';\r\n\r\nimport {\r\n  MOVIES_PER_PAGE,\r\n  MOVIES_PAGINATION_RANGE,\r\n  SERIES_PER_PAGE,\r\n} from '../../shared/util/config';\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nfunction MovieList(props) {\r\n  const { movies, type, clickMovieHandler } = props;\r\n\r\n  console.log('Movie List render');\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const MOVIE_ITEM_PER_PAGE =\r\n    type === 'series' ? SERIES_PER_PAGE : MOVIES_PER_PAGE;\r\n\r\n  const numberOfPages = Math.ceil(movies.length / MOVIE_ITEM_PER_PAGE);\r\n\r\n  const pagination = (movies, page) => {\r\n    const start = (page - 1) * MOVIE_ITEM_PER_PAGE;\r\n    const end = page * MOVIE_ITEM_PER_PAGE;\r\n\r\n    return movies.slice(start, end);\r\n  };\r\n\r\n  const nextPage = () => {\r\n    setCurrentPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const prevPage = () => {\r\n    setCurrentPage((prevPage) => prevPage - 1);\r\n  };\r\n\r\n  const gotoPage = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  const renderPageNumbers = (movies) => {\r\n    const pageNumbers = [];\r\n\r\n    const numberOfPages = Math.ceil(movies.length / MOVIE_ITEM_PER_PAGE);\r\n\r\n    if (numberOfPages <= 5) {\r\n      for (let page = 1; page <= numberOfPages; page++) {\r\n        pageNumbers.push(\r\n          <span\r\n            className={page === currentPage ? 'pagination-page--active' : ''}\r\n            onClick={() => gotoPage(page)}>\r\n            {page}\r\n          </span>\r\n        );\r\n      }\r\n\r\n      return pageNumbers;\r\n    }\r\n\r\n    if (currentPage > numberOfPages - MOVIES_PAGINATION_RANGE + 1) {\r\n      pageNumbers.unshift(\r\n        <span onClick={() => gotoPage(currentPage - 2)}>{currentPage - 2}</span>\r\n      );\r\n    }\r\n\r\n    for (\r\n      let page = currentPage - 1;\r\n      page <= currentPage + MOVIES_PAGINATION_RANGE - 2;\r\n      page++\r\n    ) {\r\n      if (page > numberOfPages) {\r\n        break;\r\n      }\r\n\r\n      if (page <= 0) {\r\n        continue;\r\n      }\r\n\r\n      pageNumbers.push(\r\n        <span\r\n          className={page === currentPage ? 'pagination-page--active' : ''}\r\n          onClick={() => gotoPage(page)}>\r\n          {page}\r\n        </span>\r\n      );\r\n    }\r\n\r\n    //reander first few pages\r\n    if (currentPage <= MOVIES_PAGINATION_RANGE - 1) {\r\n      pageNumbers.push(\r\n        <span onClick={() => gotoPage(currentPage + 2)}>{currentPage + 2}</span>\r\n      );\r\n    }\r\n\r\n    if (currentPage >= MOVIES_PAGINATION_RANGE + 1) {\r\n      pageNumbers.unshift(<p>...</p>);\r\n      pageNumbers.unshift(<span onClick={() => gotoPage(1)}>{1}</span>);\r\n    }\r\n\r\n    if (currentPage <= numberOfPages - MOVIES_PAGINATION_RANGE) {\r\n      pageNumbers.push(<p>...</p>);\r\n      pageNumbers.push(\r\n        <span onClick={() => gotoPage(numberOfPages)}>{numberOfPages}</span>\r\n      );\r\n    }\r\n\r\n    return pageNumbers;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='movie-list'>\r\n        {pagination(movies, currentPage).map((movie) => (\r\n          <MovieItem\r\n            clickMovieHandler={clickMovieHandler}\r\n            type={type}\r\n            key={movie.id}\r\n            movie={movie}\r\n          />\r\n        ))}\r\n\r\n        <div className='pagination'>\r\n          {/* page numbers */}\r\n          <div className='pagination-page'>{renderPageNumbers(movies)}</div>\r\n\r\n          {/* next and prev button */}\r\n          <div className='next-prev-button'>\r\n            <Button\r\n              onClick={prevPage}\r\n              disabled={currentPage === 1}\r\n              style={{ margin: '1rem' }}\r\n              isClear>\r\n              Trang trước\r\n            </Button>\r\n            <Button\r\n              disabled={currentPage === numberOfPages}\r\n              onClick={nextPage}\r\n              isClear>\r\n              Trang sau\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default React.memo(MovieList);\r\n","import React from 'react';\r\n\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Backdrop.css';\r\n\r\nexport default function Backdrop(props) {\r\n  const backdrop = <div onClick={props.onClick} className='backdrop'></div>;\r\n\r\n  return ReactDOM.createPortal(\r\n    backdrop,\r\n    document.getElementById('backdrop-hook')\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Modal.css';\r\n\r\nimport Backdrop from './Backdrop';\r\n\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nexport default function Modal(props) {\r\n  const { showed, backdropClick } = props;\r\n\r\n  const modal = (\r\n    <>\r\n      {showed && <Backdrop onClick={backdropClick} />}\r\n      <CSSTransition\r\n        in={showed}\r\n        timeout={500}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        classNames='modal'>\r\n        <div className='modal'>{props.children}</div>\r\n      </CSSTransition>\r\n    </>\r\n  );\r\n\r\n  return ReactDOM.createPortal(modal, document.getElementById('modal-hook'));\r\n}\r\n","import React from 'react';\r\n\r\nimport './ErrorModal.css';\r\n\r\nimport Modal from './Modal';\r\nimport Button from './Button';\r\n\r\nexport default function ErrorModal(props) {\r\n  const errorModal = (\r\n    <div className='modal-error'>\r\n      <Modal showed={props.error} backdropClick={props.clearError}>\r\n        <p className='modal-error__title'>An Error Occured!</p>\r\n        <p className='modal-error__content'>{props.error}</p>\r\n        <p className='modal-error__footer'>\r\n          <Button onClick={props.clearError} isDarkblue>\r\n            OK\r\n          </Button>\r\n        </p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n\r\n  return <>{errorModal}</>;\r\n}\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\nconst VALIDATOR_TYPE_NUMBER_ONLY = 'NUMBER_ONLY';\r\n\r\n//----------------------------------------------\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\n\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = (val) => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val,\r\n});\r\n\r\nexport const VALIDATOR_MAXLENGTH = (val) => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val,\r\n});\r\n\r\nexport const VALIDATOR_MIN = (val) => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\n\r\nexport const VALIDATOR_MAX = (val) => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\n\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const VALIDATOR_NUMBER_ONLY = () => ({\r\n  type: VALIDATOR_TYPE_NUMBER_ONLY,\r\n});\r\n\r\n//-----------------------------------------\r\nexport const validate = (value, validators) => {\r\n  let errorText = [];\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid &= value.trim().length > 0;\r\n      !isValid && errorText.push('Trường này không được để trống');\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid &= value.trim().length >= validator.val;\r\n      !isValid &&\r\n        errorText.push(`Xin nhập tối thiểu là ${validator.val} ký tự`);\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid &= value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid &= +value >= validator.val;\r\n      !isValid && errorText.push(`Giá trị tối thiểu là ${validator.val}`);\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid &= +value <= validator.val;\r\n      !isValid && errorText.push(`Giá trị tối đa là ${validator.val}`);\r\n    }\r\n\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid &= /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n        value\r\n      );\r\n\r\n      !isValid && errorText.push('Xin hãy nhập đúng email');\r\n    }\r\n\r\n    if (validator.type === VALIDATOR_TYPE_NUMBER_ONLY) {\r\n      isValid &= /^\\d+$/.test(value);\r\n\r\n      !isValid && errorText.push('Xin hãy nhập số nguyên');\r\n    }\r\n  }\r\n  return [isValid, errorText];\r\n};\r\n","import React, { useEffect, useState, useRef } from 'react';\r\n\r\nimport './Select.css';\r\n\r\nimport { validate, VALIDATOR_REQUIRE } from '../../util/validators';\r\n\r\nfunction CustomSelect(props) {\r\n  const { options, label, id, onChange, optionId } = props;\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n  const [errorText, setErrorText] = useState(null);\r\n\r\n  //when query for history location change\r\n  useEffect(() => {\r\n    if (!optionId) {\r\n      setSelectedOption('- Tất cả -');\r\n    }\r\n\r\n    //special case for filter by length\r\n    if (!optionId.max && !optionId.min) {\r\n      setSelectedOption('- Tất cả -');\r\n    }\r\n\r\n    if (optionId.max || optionId.min) {\r\n      const index = options.findIndex((opt) => opt.id.max === optionId.max);\r\n\r\n      setSelectedOption(options[index].name);\r\n    }\r\n\r\n    const index = options.findIndex((opt) => opt.id === optionId);\r\n    if (index === -1) return;\r\n    setSelectedOption(options[index].name);\r\n  }, [optionId, options]);\r\n\r\n  const selectRef = useRef();\r\n\r\n  const selectOptionHandler = (optionId) => {\r\n    // setSelectedOption(name);\r\n    setIsOpen(false);\r\n\r\n    //if user already select and then select the same value => return\r\n    const index = options.findIndex((opt) => opt.id === optionId);\r\n    if (index === -1) return;\r\n    if (options[index].name === selectedOption) {\r\n      return;\r\n    }\r\n\r\n    console.log(optionId, selectedOption);\r\n\r\n    // id: genres, language ... to define type of filter\r\n    //optionId: Ex: 28 - 'Hành động\" : config by server\r\n    onChange(id, optionId);\r\n  };\r\n\r\n  const toggleOpenHandler = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const renderOptionList = () => {\r\n    return (\r\n      <div className='dropdown-list'>\r\n        {options.map((option) => (\r\n          <div\r\n            key={option.id}\r\n            onClick={() => selectOptionHandler(option.id, option.name)}\r\n            className='dropdown-list--item'>\r\n            {option.name}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const clickOutSideHandler = (e) => {\r\n    if (selectRef.current && !selectRef.current.contains(e.target)) {\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', clickOutSideHandler);\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={selectRef} className={`custom-select ${props.className}`}>\r\n      {/* label */}\r\n      <div className='custom-select-label'>{label}</div>\r\n\r\n      {/* dropdown-header */}\r\n      <div onClick={toggleOpenHandler} className={`dropdown-header `}>\r\n        <div> {selectedOption}</div>\r\n        <i class='fa fa-chevron-down arrow-expand'></i>\r\n      </div>\r\n      {props.required && errorText && (\r\n        <div className='custom-select__error-text'>{errorText}</div>\r\n      )}\r\n\r\n      {/* dropdown-list */}\r\n      {isOpen && renderOptionList()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(CustomSelect);\r\n","import React, { useMemo } from 'react';\r\n\r\nimport './MovieFilter.css';\r\n\r\nimport Select from '../../shared/components/FormElement/Select';\r\n\r\nimport {\r\n  GENRES_LIST_VN,\r\n  LANGUAGE_LIST_VN,\r\n  RELEASE_YEAR,\r\n  LENGTH,\r\n  SORT,\r\n} from '../../shared/util/config';\r\n\r\nfunction MovieFilter(props) {\r\n  const { filterHandler, filterTerm } = props;\r\n\r\n  const memoGENRES_LIST_VN = useMemo(() => GENRES_LIST_VN, []);\r\n\r\n  const memoLANGUAGE_LIST_VN = useMemo(() => LANGUAGE_LIST_VN, []);\r\n\r\n  const memoRELEASE_YEAR = useMemo(() => RELEASE_YEAR, []);\r\n\r\n  return (\r\n    <div className='movie-filter'>\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Thể loại: '}\r\n          id='with_genres'\r\n          options={memoGENRES_LIST_VN}\r\n          optionId={filterTerm.with_genres}\r\n          onSelect={() => {}}\r\n        />\r\n      </div>\r\n\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Ngôn ngữ: '}\r\n          id='with_original_language'\r\n          options={memoLANGUAGE_LIST_VN}\r\n          optionId={filterTerm.with_original_language}\r\n          onSelect={() => {}}\r\n        />\r\n      </div>\r\n\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Năm: '}\r\n          id='primary_release_year'\r\n          optionId={filterTerm.primary_release_year}\r\n          options={memoRELEASE_YEAR}\r\n          onSelect={() => {}}\r\n        />\r\n      </div>\r\n\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Thời lượng: '}\r\n          id='length'\r\n          options={LENGTH}\r\n          optionId={{\r\n            max: filterTerm['with_runtime.lte'],\r\n            min: filterTerm['with_runtime.gte'],\r\n          }}\r\n          onSelect={() => {}}\r\n        />\r\n      </div>\r\n\r\n      <div className='movie-filter--item'>\r\n        <Select\r\n          onChange={filterHandler}\r\n          label={'Sắp xếp: '}\r\n          id='sort_by'\r\n          options={SORT}\r\n          onSelect={() => {}}\r\n          optionId={filterTerm.sort_by}\r\n          className='select-lower-index'\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(MovieFilter);\r\n","import React, { useContext } from 'react';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport HomePage from '../pages/homePage/HomePage';\r\n\r\nimport { AuthContext } from '../shared/context/AuthContext';\r\n\r\nexport default function PrivateRoute({\r\n  component: Component,\r\n  redirectTo,\r\n  isAdmin,\r\n  ...otherProps\r\n}) {\r\n  const auth = useContext(AuthContext);\r\n\r\n  //isAdmin: flag to decide the type of PrivateRoute\r\n  return isAdmin ? (\r\n    //admin route\r\n    <Route\r\n      {...otherProps}\r\n      render={(props) => (auth.isAdmin ? <Component {...props} /> : null)}\r\n    />\r\n  ) : (\r\n    //pricate route\r\n    <Route\r\n      {...otherProps}\r\n      render={(props) => (auth.isLoggedIn ? <Component {...props} /> : null)}\r\n    />\r\n  );\r\n}\r\n","import React, { useReducer, useEffect } from 'react';\r\n\r\nimport { validate } from '../../util/validators';\r\n\r\nimport './Input.css';\r\n\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'CHANGE': {\r\n      const [isValid, errorText] = validate(action.val, action.validators);\r\n\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n\r\n        //validate value here\r\n        isValid,\r\n        errorText,\r\n      };\r\n    }\r\n\r\n    case 'TOUCH': {\r\n      const [isValid, errorText] = validate(action.val, action.validators);\r\n\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n        isValid,\r\n        errorText,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function Input(props) {\r\n  const [inputState, dispatch] = useReducer(inputReducer, {\r\n    value: props.initialValue || '',\r\n    isTouched: false,\r\n    isValid: props.initialValid || false,\r\n    errorText: [],\r\n  });\r\n\r\n  const changeHandler = (e) => {\r\n    dispatch({\r\n      type: 'CHANGE',\r\n      val: e.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n\r\n  const touchHandler = (e) => {\r\n    dispatch({\r\n      type: 'TOUCH',\r\n      val: e.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n\r\n  const { id, onInput } = props;\r\n  useEffect(() => {\r\n    onInput(id, inputState.value, inputState.isValid);\r\n  }, [id, inputState.value, inputState.isValid, onInput]);\r\n\r\n  //set style for form control\r\n  const validStyle =\r\n    inputState.isTouched && inputState.isValid && 'form-control--valid';\r\n  const invalidStyle =\r\n    inputState.isTouched && !inputState.isValid && 'form-control--invalid';\r\n  const formControlStyle = ['form-control', validStyle, invalidStyle].join(' ');\r\n\r\n  return (\r\n    <>\r\n      <div className={` ${formControlStyle}`}>\r\n        <label htmlFor={props.id}>{props.label}</label>\r\n        <input\r\n          ref={props.ref}\r\n          className='form-input'\r\n          placeholder={props.placeholder}\r\n          type={props.type}\r\n          id={props.id}\r\n          onBlur={touchHandler}\r\n          onChange={changeHandler}\r\n          value={inputState.value}\r\n        />\r\n        {/* Error text */}\r\n        {inputState.isTouched && !inputState.isValid && (\r\n          <p className='form-control__error-text'>\r\n            {inputState.errorText.join(' / ')}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { useReducer, useCallback } from 'react';\r\n\r\n// initialState = {\r\n//   inputs: {\r\n//     title: {\r\n//       value: '',\r\n//       isValid: false,\r\n//     },\r\n//     description: {\r\n//       value: '',\r\n//       isValid: false,\r\n//     },\r\n//   },\r\n// };\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'INPUT_CHANGE': {\r\n      let isFormValid = true;\r\n\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n\r\n        if (inputId === action.inputId) {\r\n          //set current input valid\r\n          isFormValid = isFormValid && action.isValid;\r\n        } else {\r\n          //set remian inputs valid\r\n          isFormValid = isFormValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid },\r\n        },\r\n\r\n        isValid: isFormValid,\r\n      };\r\n    }\r\n\r\n    case 'SELECT_CHANGE': {\r\n      let isFormValid = true;\r\n\r\n      for (const inputId in state.inputs) {\r\n        // if (!state.inputs[inputId]) {\r\n        //   continue;\r\n        // }\r\n\r\n        if (inputId === action.inputId) {\r\n          //set current input valid\r\n          isFormValid = isFormValid && action.isValid;\r\n        } else {\r\n          //set remian inputs valid\r\n          isFormValid = isFormValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: {\r\n            value: action.value,\r\n            isValid: action.isValid,\r\n          },\r\n        },\r\n\r\n        isValid: isFormValid,\r\n      };\r\n    }\r\n\r\n    case 'SET_DATA': {\r\n      return {\r\n        inputs: action.inputs,\r\n        isValid: action.isValid,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function useForm(initialInputs, isFormValid) {\r\n  const [formState, dispatch] = useReducer(formReducer, {\r\n    inputs: initialInputs,\r\n    isValid: isFormValid,\r\n  });\r\n\r\n  const inputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({ type: 'INPUT_CHANGE', value, isValid, inputId: id });\r\n  }, []);\r\n\r\n  const selectHandler = useCallback((id, value, isValid) => {\r\n    dispatch({ type: 'SELECT_CHANGE', isValid, value, inputId: id });\r\n  }, []);\r\n\r\n  const setFormData = useCallback((inputData, isValid) => {\r\n    dispatch({ type: 'SET_DATA', inputs: inputData, isValid });\r\n  }, []);\r\n\r\n  const inputArrHandler = useCallback((id, value, isValid) => {\r\n    // dispatch({ type: 'INPUT_ARR_CHANGE', value, isValid, inputId: id });\r\n    // console.log()\r\n  }, []);\r\n\r\n  return { formState, inputHandler, setFormData, selectHandler };\r\n}\r\n","import React from 'react';\r\n\r\nimport './UserForm.css';\r\n\r\nimport {\r\n  VALIDATOR_EMAIL,\r\n  VALIDATOR_MINLENGTH,\r\n  VALIDATOR_REQUIRE,\r\n} from '../../../shared/util/validators';\r\n\r\nimport Input from '../../../shared/components/FormElement/Input';\r\nimport Button from '../../../shared/components/UI/Button';\r\n\r\nimport useForm from '../../../shared/customHooks/useForm';\r\n\r\nexport default function UserForm() {\r\n  const { formState, inputHandler } = useForm(\r\n    {\r\n      name: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n      email: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n      password: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className='user-form-container'>\r\n      <h1>Thêm người dùng</h1>\r\n\r\n      <form onSubmit={submitHandler} className='user-form'>\r\n        <Input\r\n          id='name'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n          label={'Tên'}\r\n        />\r\n\r\n        <Input\r\n          id='email'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE(), VALIDATOR_EMAIL()]}\r\n          onInput={inputHandler}\r\n          type='text'\r\n          label={'Email'}\r\n        />\r\n\r\n        <Input\r\n          id='password'\r\n          initialValue=''\r\n          validators={[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH(6)]}\r\n          onInput={inputHandler}\r\n          type='password'\r\n          label={'Mật khẩu'}\r\n        />\r\n\r\n        <Button isSecondary>Thêm</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","export const EDIT_USER = 'EDIT_USER';\r\n\r\nexport const DELETE_USER = 'DELETE_USER';\r\n\r\nexport const GET_USER = 'GET_USER';\r\n\r\nexport const SET_ALL_USER = 'SET_ALL_USER';\r\n\r\nexport const SHOW_USER_DETAIL = 'SHOW_USER_DETAIL';\r\n\r\nexport const SORT_USER = 'SORT_USER';\r\n\r\nexport const FILTER_USER = 'FILTER_USER';\r\n","import React, { useState } from 'react';\r\n\r\nimport './UserItem.css';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport Modal from '../../../shared/components/UI/Modal';\r\n\r\nimport {\r\n  actDeleteUser,\r\n  actGetUser,\r\n} from '../../../redux/actionCreator/userActions';\r\nimport Button from '../../../shared/components/UI/Button';\r\n\r\nfunction UserItem(props) {\r\n  const { name, email, createdAt, collection } = props.user;\r\n  const { userDetail } = props;\r\n  const [confirmDelete, setConfirmDelete] = useState(false);\r\n\r\n  const deleteHandler = (e) => {\r\n    e.stopPropagation();\r\n    setConfirmDelete(true);\r\n    // props.deleteUser(email);\r\n  };\r\n\r\n  const editHandler = (e) => {\r\n    e.stopPropagation();\r\n    props.getUser(email);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        backdropClick={() => setConfirmDelete(false)}\r\n        showed={confirmDelete}>\r\n        <div className='modal-confirm-delete'>\r\n          <div className='modal-confirm-delete modal-header'>\r\n            Xác nhận xóa người dùng\r\n          </div>\r\n          <h1 className='modal-confirm-delete modal-content'>\r\n            <p>Bạn có chắc muốn xóa người dùng này?</p>\r\n            <p>Một khi đã xóa thì sẽ không thể phục hồi</p>\r\n          </h1>\r\n          <div className='modal-confirm-delete modal-footer'>\r\n            <Button onClick={() => props.deleteUser(email)} isPrimary>\r\n              Chắc chắn\r\n            </Button>\r\n            <Button onClick={() => setConfirmDelete(false)} isSecondary>\r\n              Hủy\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n\r\n      <tr\r\n        onClick={() => props.getUser(email)}\r\n        className={`user-item ${\r\n          userDetail && email === userDetail.email ? 'active' : ''\r\n        }`}>\r\n        <td>{name}</td>\r\n        <td>{email}</td>\r\n        <td>{createdAt}</td>\r\n        <td className='collection-count'>{Object.keys(collection).length}</td>\r\n        <td>\r\n          <div className='icon-goto-collection icon-config'>\r\n            <i class='fa fa-arrow-alt-circle-right'></i>\r\n            <span> Bộ sưu tập</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div onClick={deleteHandler} className='icon-delete icon-config'>\r\n            <i class='fa fa-trash '></i>\r\n            <span> Xóa</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div onClick={editHandler} className='icon-edit icon-config'>\r\n            <i class='fa fa-pen'></i>\r\n            <span> Sửa</span>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userDetail: state.userReducer.userDetail,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    deleteUser: (userEmail) => dispatch(actDeleteUser(userEmail)),\r\n    getUser: (userEmail) => dispatch(actGetUser(userEmail)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserItem);\r\n","import {\r\n  DELETE_USER,\r\n  GET_USER,\r\n  SET_ALL_USER,\r\n  SORT_USER,\r\n} from '../actionTypes/actionTypes';\r\n\r\nexport const actSortUsers = (field) => {\r\n  return {\r\n    type: SORT_USER,\r\n    payload: {\r\n      field,\r\n    },\r\n  };\r\n};\r\n\r\nexport const actDeleteUser = (userEmail) => {\r\n  return {\r\n    type: DELETE_USER,\r\n    payload: {\r\n      userEmail,\r\n    },\r\n  };\r\n};\r\n\r\nexport const actGetUser = (userEmail) => {\r\n  return {\r\n    type: GET_USER,\r\n    payload: {\r\n      userEmail,\r\n    },\r\n  };\r\n};\r\n\r\nexport const actSetAllUser = (allUser) => {\r\n  return {\r\n    type: SET_ALL_USER,\r\n    payload: {\r\n      allUser,\r\n    },\r\n  };\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport MovieItem from '../../../components/movieItem/MovieItem';\r\n\r\nimport useHttp from '../../../shared/customHooks/useHttp';\r\n\r\nimport './UserDetail.css';\r\n\r\nimport Slider from 'react-slick';\r\n\r\nfunction UserDetail(props) {\r\n  const { userDetail } = props;\r\n  const [collection, setCollection] = useState();\r\n  const { fetchMoviesByIdList } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const fetchMovies = async () => {\r\n      let _collection = await fetchMoviesByIdList(userDetail.collection);\r\n\r\n      //assign property isDone to collection fetched from db\r\n      _collection = _collection.map((movie) => ({\r\n        ...movie,\r\n        isDone: userDetail.collection[movie.id].isDone,\r\n      }));\r\n\r\n      setCollection(_collection);\r\n    };\r\n\r\n    userDetail && fetchMovies();\r\n  }, [userDetail]);\r\n\r\n  const settingsFinishlist = {\r\n    infinite:\r\n      collection && collection.filter((movie) => movie.isDone).length > 3,\r\n    speed: 200,\r\n    slidesToShow: 3,\r\n    slidesToScroll: 1,\r\n    arrows: true,\r\n    className: 'user-detail-list',\r\n    draggable: true,\r\n  };\r\n\r\n  const settingsWhislist = {\r\n    infinite:\r\n      collection && collection.filter((movie) => !movie.isDone).length > 3,\r\n    speed: 200,\r\n    slidesToShow: 3,\r\n    slidesToScroll: 1,\r\n    arrows: true,\r\n    className: 'user-detail-list',\r\n    draggable: true,\r\n  };\r\n\r\n  const renderMovies = (_collection) => {\r\n    return _collection.map((movie) => (\r\n      <div>\r\n        <MovieItem type='movie' key={movie.id} movie={movie} />\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    userDetail && (\r\n      <div className='user-detail-container'>\r\n        <div className='user-detail-whislist'>\r\n          <h1 className='user-detail-whislist__title'>\r\n            Phim đã xem (\r\n            {collection && collection.filter((movie) => movie.isDone).length})\r\n          </h1>\r\n          <Slider {...settingsFinishlist}>\r\n            {collection &&\r\n              renderMovies(collection.filter((movie) => movie.isDone))}\r\n          </Slider>\r\n        </div>\r\n        <div className='user-detail-finishlist'>\r\n          <h1 className='user-detail-finishlist__title'>\r\n            Phim muốn xem (\r\n            {collection && collection.filter((movie) => !movie.isDone).length})\r\n          </h1>\r\n          <Slider {...settingsWhislist}>\r\n            {collection &&\r\n              renderMovies(collection.filter((movie) => !movie.isDone))}\r\n          </Slider>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userDetail: state.userReducer.userDetail,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(UserDetail);\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport './AllUser.css';\r\n\r\nimport {\r\n  ADMIN_EMAIL,\r\n  USERS_PER_PAGE,\r\n  USERS_PAGINATION_RANGE,\r\n} from '../../../shared/util/config';\r\n\r\nimport { actSortUsers } from '../../../redux/actionCreator/userActions';\r\n\r\nimport UserItem from '../userItem/UserItem';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport UserDetail from '../userDetail/UserDetail';\r\n\r\nfunction AllUser(props) {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [search, setSearch] = useState('');\r\n  // const [allUser, setAllUser] = useState(null);\r\n\r\n  const { allUser } = props;\r\n\r\n  //set current page to 1 when admin search\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [search]);\r\n\r\n  const renderUserItem = () =>\r\n    pagination(filterUsersByName(allUser, search), currentPage).map(\r\n      (user) =>\r\n        user.email !== ADMIN_EMAIL && <UserItem key={user.userId} user={user} />\r\n    );\r\n\r\n  const clickSortHandler = (field) => {\r\n    setCurrentPage(1);\r\n    props.sortUsersByField(field);\r\n  };\r\n\r\n  const renderTableHead = () => {\r\n    const tableHead = [\r\n      { field: 'name', label: 'Tên' },\r\n      { field: 'email', label: 'Email' },\r\n      { field: 'createdAt', label: 'Ngày tạo' },\r\n      { field: 'colletctionLength', label: 'Số lượng phim' },\r\n    ];\r\n\r\n    return tableHead.map((header) => (\r\n      <th className={`user-${header.field}`}>\r\n        {header.label}{' '}\r\n        <i\r\n          onClick={() => clickSortHandler(header.field)}\r\n          className='fa fa-sort-alpha-down icon-sort'></i>\r\n      </th>\r\n    ));\r\n  };\r\n\r\n  const pagination = (users, pageNumber) => {\r\n    const start = (pageNumber - 1) * USERS_PER_PAGE;\r\n    const end = pageNumber * USERS_PER_PAGE;\r\n\r\n    return users.slice(start, end);\r\n  };\r\n\r\n  const renderPagination = (users) => {\r\n    const TOTAL_PAGE = Math.ceil(users.length / USERS_PER_PAGE);\r\n\r\n    const createPages = (from, to) => {\r\n      const totalPages = [];\r\n\r\n      if (from === to) {\r\n        return (\r\n          <span\r\n            onClick={() => setCurrentPage(from)}\r\n            className={`page-number ${currentPage === from ? 'active' : ''}`}>\r\n            {from}\r\n          </span>\r\n        );\r\n      }\r\n\r\n      for (let page = from; page <= to; page++) {\r\n        const pageEle = (\r\n          <span\r\n            onClick={() => setCurrentPage(page)}\r\n            className={`page-number ${currentPage === page ? 'active' : ''}`}>\r\n            {page}\r\n          </span>\r\n        );\r\n        totalPages.push(pageEle);\r\n      }\r\n\r\n      return totalPages;\r\n    };\r\n\r\n    const dots = <span className={`page-dots`}>...</span>;\r\n\r\n    const renderTotalPages = () => {\r\n      let totalPages = [];\r\n\r\n      //total pages <= USERS_PAGINATION_RANGE + 1\r\n      if (TOTAL_PAGE <= USERS_PAGINATION_RANGE + 2) {\r\n        return (totalPages = createPages(1, TOTAL_PAGE));\r\n      }\r\n\r\n      //1. range from 1 to (USERS_PAGINATION_RANGE + 1)\r\n      if (currentPage <= USERS_PAGINATION_RANGE + 1) {\r\n        totalPages = createPages(1, USERS_PAGINATION_RANGE + 1);\r\n        totalPages.push(dots);\r\n        totalPages.push(createPages(TOTAL_PAGE, TOTAL_PAGE));\r\n        return totalPages;\r\n      }\r\n\r\n      //2. range from  (USERS_PAGINATION_RANGE + 2) to (TOTAL_PAGE - USERS_PAGINATION_RANGE - 2)\r\n      if (\r\n        currentPage >= USERS_PAGINATION_RANGE + 2 &&\r\n        currentPage < TOTAL_PAGE - USERS_PAGINATION_RANGE\r\n      ) {\r\n        totalPages.push(createPages(1, 1));\r\n        totalPages.push(dots);\r\n        totalPages.push(createPages(currentPage - 1, currentPage + 1));\r\n        totalPages.push(dots);\r\n        totalPages.push(createPages(TOTAL_PAGE, TOTAL_PAGE));\r\n        return totalPages;\r\n      }\r\n\r\n      // 3. range from TOTAL_PAGE - USERS_PAGINATION_RANGE - 1) to TOTAL_PAGE\r\n      if (currentPage >= TOTAL_PAGE - USERS_PAGINATION_RANGE) {\r\n        totalPages.push(createPages(1, 1));\r\n        totalPages.push(dots);\r\n        totalPages.push(\r\n          ...createPages(TOTAL_PAGE - USERS_PAGINATION_RANGE, TOTAL_PAGE)\r\n        );\r\n        return totalPages;\r\n      }\r\n\r\n      // return totalPages;\r\n    };\r\n\r\n    return (\r\n      <div className='all-users-pagination'>\r\n        {/* prev-page */}\r\n        <i\r\n          onClick={() =>\r\n            setCurrentPage((prevPage) => (prevPage === 1 ? 1 : prevPage - 1))\r\n          }\r\n          className={`fa fa-less-than arrow-page ${\r\n            currentPage === 1 ? 'disabled' : ''\r\n          }`}></i>\r\n\r\n        <span className='page-number-list'>{renderTotalPages()}</span>\r\n\r\n        {/* next-page */}\r\n        <i\r\n          onClick={() =>\r\n            setCurrentPage((prevPage) =>\r\n              prevPage === TOTAL_PAGE ? TOTAL_PAGE : prevPage + 1\r\n            )\r\n          }\r\n          className={`fa fa-greater-than arrow-page ${\r\n            currentPage === TOTAL_PAGE ? 'disabled' : ''\r\n          }`}></i>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const filterUsersByName = (users, keyword) => {\r\n    users = users.filter((user) =>\r\n      user.name.trim().toLowerCase().includes(keyword.toLowerCase())\r\n    );\r\n\r\n    return users;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {allUser && (\r\n        <div className='all-user-container'>\r\n          <div className='search-user'>\r\n            <span className='search-user__title'>Tìm kiếm </span>\r\n            <input\r\n              placeholder='Nhập tên người dùng...'\r\n              onChange={(e) => setSearch(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <table className='all-user-table'>\r\n            <thead>{renderTableHead()}</thead>\r\n            <tbody>{allUser && renderUserItem()}</tbody>\r\n          </table>\r\n\r\n          {renderPagination(filterUsersByName(allUser, search))}\r\n\r\n          <UserDetail />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    allUser: state.userReducer.allUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sortUsersByField: (field) => dispatch(actSortUsers(field)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AllUser);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport './AdminPage.css';\r\n\r\nimport AddMovie from './components/userForm/UserForm';\r\nimport UserForm from './components/userForm/UserForm';\r\nimport AllUser from './components/allUser/AllUser';\r\n\r\nimport Modal from '../shared/components/UI/Modal';\r\n\r\nimport { AuthContext } from '../shared/context/AuthContext';\r\n\r\nimport LoadingSpinner from '../shared/components/UI/LoadingSpinner';\r\n\r\nimport useHttp from '../shared/customHooks/useHttp';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { actSetAllUser } from '../redux/actionCreator/userActions';\r\n\r\nconst ADMIN_NAVTAB_LIST = [\r\n  { id: 'allUser', label: 'Tất cả người dùng' },\r\n  { id: 'addUser', label: 'Thêm người dùng' },\r\n  { id: 'addMovie', label: 'Đăng phim mới' },\r\n];\r\n\r\nfunction AdminPage(props) {\r\n  const [navtabIndex, setNavtabIndex] = useState(0);\r\n  const auth = useContext(AuthContext);\r\n  const { sendUser, isLoading } = useHttp();\r\n  const [confirmDelete, setConfirmDelete] = useState(null);\r\n\r\n  const ADMIN_NAVTAB_ITEM = [\r\n    <>\r\n      {isLoading && <LoadingSpinner />}\r\n\r\n      {!isLoading && <AllUser />}\r\n    </>,\r\n    <UserForm />,\r\n    <AddMovie />,\r\n  ];\r\n\r\n  //get token from local storage to login\r\n  useEffect(() => {\r\n    const fetchAllUser = async () => {\r\n      const data = await sendUser('user/all', 'GET', null, {\r\n        Authorization: 'Bearer ' + auth.token,\r\n      });\r\n\r\n      console.log(data);\r\n\r\n      props.setAllUser(data.allUser);\r\n    };\r\n\r\n    auth.isAdmin && fetchAllUser();\r\n  }, [auth.isAdmin]);\r\n\r\n  const renderNavtabList = () =>\r\n    ADMIN_NAVTAB_LIST.map((navtab, index) => (\r\n      <div\r\n        onClick={() => setNavtabIndex(index)}\r\n        className={`navtab-header--item ${\r\n          navtabIndex === index ? 'active' : ''\r\n        }`}\r\n        key='navtab.id'>\r\n        {navtab.label}\r\n      </div>\r\n    ));\r\n\r\n  const renderNavtabItem = () =>\r\n    ADMIN_NAVTAB_ITEM.map((navItem, index) => navtabIndex === index && navItem);\r\n\r\n  return (\r\n    <>\r\n      <div className='admin-container'>\r\n        <div className='navtab-header'>{renderNavtabList()}</div>\r\n        <div className='navtab-item'>{renderNavtabItem()}</div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setAllUser: (allUser) => dispatch(actSetAllUser(allUser)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(AdminPage);\r\n","import React from 'react';\r\nimport Slider from 'react-slick';\r\n\r\nimport BackDrop from '../../shared/components/UI/Backdrop';\r\n\r\nimport 'slick-carousel/slick/slick.css';\r\nimport 'slick-carousel/slick/slick-theme.css';\r\n\r\nimport './MovieTrailer.css';\r\n\r\nexport default function MovieTrailer(props) {\r\n  const { backdropClick, trailer } = props;\r\n\r\n  console.log('MovieTrailer', trailer);\r\n  return (\r\n    <>\r\n      <BackDrop onClick={backdropClick} />\r\n      <div className='movie-trailer'>\r\n        <iframe\r\n          src={`https://www.youtube.com/embed/${trailer.key}`}\r\n          title='YouTube video player'\r\n          frameborder='0'\r\n          allow='fullscreen; accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture'\r\n          allowfullscreen></iframe>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport Slider from 'react-slick';\r\n\r\nimport './TrailerSlider.css';\r\n\r\nimport 'slick-carousel/slick/slick.css';\r\nimport 'slick-carousel/slick/slick-theme.css';\r\n\r\nfunction TrailerSlider(props) {\r\n  const { onClickTrailer, trailers } = props;\r\n\r\n  console.log('Trailer');\r\n\r\n  const settings = {\r\n    infinite: trailers.slice.length > 3,\r\n    speed: 500,\r\n    slidesToShow: 3,\r\n    slidesToScroll: 1,\r\n  };\r\n\r\n  return (\r\n    <div className='trailer-slider left-align-slick'>\r\n      <Slider {...settings}>\r\n        {trailers.map((trailer) => (\r\n          <div\r\n            className='trailer-slider--item '\r\n            onClick={() => onClickTrailer(trailer)}>\r\n            <iframe\r\n              src={`https://www.youtube.com/embed/${trailer.key}`}\r\n              title='YouTube video player'\r\n              frameborder='0'></iframe>\r\n          </div>\r\n        ))}\r\n      </Slider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(TrailerSlider);\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport MovieItem from '../movieItem/MovieItem';\r\n\r\nimport './SimilarMovies.css';\r\n\r\nfunction SimilarMovies(props) {\r\n  console.log(props.movies);\r\n\r\n  return (\r\n    props.movies.length > 0 && (\r\n      <div className='similar-movies-container'>\r\n        <h1 className='similar-movies--title'>Có thể bạn cũng thích</h1>\r\n        <div className='similar-movies'>\r\n          {props.movies.slice(0, 5).map((movie) => (\r\n            <MovieItem type='movie' movie={movie} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nexport default React.memo(SimilarMovies);\r\n","import React from 'react';\r\n\r\nimport { API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nfunction MoviePoster(props) {\r\n  const { onClick } = props;\r\n\r\n  return (\r\n    <img\r\n      onClick={onClick}\r\n      src={`${API_MOVIE_IMAGE}/${props.poster_path}`}\r\n      alt={props.original_title}\r\n    />\r\n  );\r\n}\r\n\r\nexport default React.memo(MoviePoster);\r\n","import React from 'react';\r\nimport MoviePoster from '../moviePoster/MoviePoster';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport './MovieBelongToCollection.css';\r\n\r\nfunction MovieBelongToCollection(props) {\r\n  const { belongs_to_collection } = props;\r\n  const history = useHistory();\r\n\r\n  const gotoSeriesPage = () =>\r\n    history.push(`/series/${belongs_to_collection.id}`);\r\n\r\n  return (\r\n    belongs_to_collection && (\r\n      <div className='movie-belong-to-collection'>\r\n        <h2 className='movie-belong-to-collection--title'>\r\n          Phim này nằm trong series\r\n        </h2>\r\n        <MoviePoster\r\n          onClick={gotoSeriesPage}\r\n          poster_path={belongs_to_collection.poster_path}\r\n          alt={belongs_to_collection.name}\r\n        />\r\n        <Button onClick={gotoSeriesPage} isFull isSecondary>\r\n          <i class='fa fa-play'></i>\r\n          Xem Bộ sưu tập\r\n        </Button>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nexport default React.memo(MovieBelongToCollection);\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nimport './Collection.css';\r\n\r\nexport default function Collection(props) {\r\n  const { status, isLoggedIn } = props;\r\n  const [show, setShow] = useState(false);\r\n  const history = useHistory();\r\n\r\n  //status === null => user did not login\r\n  //status.isDone === true => user add movie to finish collection\r\n  //status.isDone === false => user add movie to wishlist collection\r\n\r\n  useEffect(() => {}, []);\r\n  const collectionStyle =\r\n    status === null\r\n      ? 'collection-normal'\r\n      : status.isDone\r\n      ? 'collection-done'\r\n      : 'collection-wishlist';\r\n\r\n  return (\r\n    <>\r\n      <span\r\n        onMouseEnter={() => setShow(true)}\r\n        onMouseLeave={() => {\r\n          setShow(false);\r\n        }}\r\n        className={`collection-header ${collectionStyle}`}>\r\n        {/* dropdown-header */}\r\n        {!status && (\r\n          <>\r\n            <i className='fa fa-bookmark '></i>\r\n            <span>Bộ sưu tập</span>\r\n          </>\r\n        )}\r\n\r\n        {/* user click \"Đã xem\" */}\r\n        {status && status.isDone && (\r\n          <>\r\n            <i class='fa fa-check '></i>\r\n            <span>Đã xem</span>\r\n          </>\r\n        )}\r\n\r\n        {/* user click \"Muốn xem\" */}\r\n        {status && !status.isDone && (\r\n          <>\r\n            <i class='fa fa-eye '></i>\r\n            <span>Muốn xem</span>\r\n          </>\r\n        )}\r\n\r\n        {/* show is a flag to open dropdown */}\r\n        {show && (\r\n          <div className='collection-dropdown'>\r\n            {/* user did not login */}\r\n            {!isLoggedIn && (\r\n              <p className='collection-require-login'>\r\n                Xin hãy <NavLink to='/auth'>đăng nhập</NavLink> để thêm phim vào\r\n                bộ sưu tập\r\n              </p>\r\n            )}\r\n\r\n            {/* user already logined */}\r\n            {isLoggedIn && (\r\n              <>\r\n                {/* user did not take action on collection */}\r\n\r\n                <p\r\n                  //arg: movieIsDone\r\n                  onClick={() => props.onClick('addDone')}\r\n                  className='collection-dropdown--item '>\r\n                  Thêm vào danh sách <span>Đã xem</span>\r\n                </p>\r\n                <p\r\n                  //arg: movieIsDone\r\n                  onClick={() => props.onClick('addFavorited')}\r\n                  className='collection-dropdown--item'>\r\n                  Thêm vào danh sách <span>Muốn xem</span>\r\n                </p>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </span>\r\n\r\n      {isLoggedIn && status && (\r\n        <>\r\n          <span\r\n            onClick={() => props.onClick('delete')}\r\n            className={`collection-header collection-delete`}>\r\n            <i class='fa fa-trash '></i>\r\n            <span>Xóa khỏi danh sách</span>\r\n          </span>\r\n\r\n          <span\r\n            onClick={() => history.push(`/collection`)}\r\n            className='collection-header collection-normal'>\r\n            <i class='fa fa-arrow-alt-circle-right'></i>\r\n            <span>Đi tới Bộ sưu tập</span>\r\n          </span>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useCallback } from 'react';\r\n\r\nimport { LANGUAGE_LIST_VN } from '../../shared/util/config';\r\n\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport Collection from '../collection/Collection';\r\nimport { act } from 'react-dom/test-utils';\r\n\r\nfunction MovieInfo(props) {\r\n  const { movie, movieId } = props;\r\n  const history = useHistory();\r\n  const type = history.location.pathname.split('/')[1];\r\n  const { sendUser } = useHttp();\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  const convertMovieLength = useCallback((runtime) => {\r\n    let minutes = +runtime % 60;\r\n    let hours = Math.floor(+runtime / 60);\r\n\r\n    if (hours <= 0) {\r\n      hours = null;\r\n    }\r\n\r\n    if (minutes === 0) {\r\n      minutes = null;\r\n    }\r\n\r\n    return `${hours ? `${hours} giờ` : ''}  ${\r\n      minutes ? `${minutes} phút` : ''\r\n    } ${type === 'tv' ? '/tập' : ''}`;\r\n  }, []);\r\n\r\n  const gotoHomePageToFilter = (type, value) => {\r\n    switch (type) {\r\n      case 'year':\r\n        history.push(`/?primary_release_year=${value}`);\r\n        break;\r\n\r\n      case 'genres':\r\n        history.push(`/?with_genres=${value}`);\r\n        break;\r\n\r\n      case 'language':\r\n        history.push(`/?with_original_language=${value}`);\r\n        break;\r\n\r\n      default:\r\n    }\r\n  };\r\n\r\n  const renderGenres = (genres) => {\r\n    return genres.map((genre) => {\r\n      genre.name = genre.name.replace('Phim', '');\r\n\r\n      return (\r\n        <span\r\n          onClick={() => gotoHomePageToFilter('genres', genre.id)}\r\n          key={genre.id}\r\n          className='movie-detail__genres--item'>\r\n          {genre.name}\r\n        </span>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderDirectors = (directors) => {\r\n    //may render many director\r\n    return directors.map((director, index) =>\r\n      index === directors.length - 1 ? (\r\n        <span onClick={() => gotoPersonPage(director.id)}>{director.name}</span>\r\n      ) : (\r\n        <span onClick={() => gotoPersonPage(director.id)}>\r\n          {director.name},\r\n        </span>\r\n      )\r\n    );\r\n  };\r\n\r\n  const gotoPersonPage = (personId) => {\r\n    history.push(`/person/${personId}`);\r\n  };\r\n\r\n  const clickCollectionHandler = async (action) => {\r\n    //when movie go to collection\r\n    // colletec: array = [\r\n    //  1771: {isDone: true}, => finish list\r\n    // 527774: {isDone: false} => wishlist\r\n    // ]\r\n\r\n    const { collection } = auth.user;\r\n\r\n    if (action === 'addFavorited' || action === 'addDone') {\r\n      collection[movieId] = { isDone: action === 'addDone' ? true : false };\r\n    }\r\n\r\n    if (action === 'delete') {\r\n      delete collection[movieId];\r\n    }\r\n\r\n    const data = await sendUser(\r\n      'user',\r\n      'PATCH',\r\n      JSON.stringify({ collection }),\r\n      {\r\n        Authorization: 'Bearer ' + auth.token,\r\n      }\r\n    );\r\n    console.log(data);\r\n  };\r\n\r\n  const renderLanguge = (langugeId) => {\r\n    const index = LANGUAGE_LIST_VN.findIndex(\r\n      (languge) => languge.id === langugeId\r\n    );\r\n\r\n    if (index === -1) return;\r\n\r\n    return LANGUAGE_LIST_VN[index].name;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='movie-detail__title-eng'>\r\n        {movie.original_title || movie.original_name}\r\n      </div>\r\n      <div className='movie-detail__title-vn'>\r\n        {movie.title || movie.name} (\r\n        <span\r\n          onClick={() =>\r\n            gotoHomePageToFilter('year', movie.release_date.split('-')[0])\r\n          }\r\n          className='movie-detail__title--year'>\r\n          {movie.release_date.split('-')[0]}\r\n          {/*release year */}\r\n        </span>\r\n        )\r\n      </div>\r\n\r\n      <div className='movie-detail__length'>\r\n        {convertMovieLength(movie.runtime || movie.episode_run_time)}\r\n      </div>\r\n\r\n      {movie.number_of_seasons && (\r\n        <div className='movie-detail__season'>\r\n          {movie.number_of_seasons || ''} seasons\r\n        </div>\r\n      )}\r\n\r\n      {movie.number_of_episodes && (\r\n        <div className='movie-detail__season'>\r\n          {movie.number_of_episodes || ''} tập\r\n        </div>\r\n      )}\r\n\r\n      <div className='movie-detail__IMDb'>\r\n        <span className='IMDb--icon'>IMDb</span>\r\n        {movie.vote_average}\r\n      </div>\r\n\r\n      <div className='movie-detail__share'>\r\n        <span className='movie-detail__share--facebook'>\r\n          <i className='fab fa-facebook'></i>\r\n          Chia sẻ\r\n        </span>\r\n        <span className='movie-detail__share--bookmark'>\r\n          <Collection\r\n            isLoggedIn={auth.isLoggedIn}\r\n            status={(auth.user && auth.user.collection[movieId]) || null}\r\n            onClick={clickCollectionHandler}\r\n          />\r\n        </span>\r\n      </div>\r\n\r\n      <div className='movie-detail__genres '>{renderGenres(movie.genres)}</div>\r\n\r\n      <div className='movie-detail__sub-info'>\r\n        <p>\r\n          <span className='movie-detail__sub-info--label'>ĐẠO DIỄN</span>\r\n          <span className='movie-detail__sub-info--value movie-detail__sub-info--directors'>\r\n            {renderDirectors(movie.directors)}\r\n          </span>\r\n        </p>\r\n        {movie.original_language && (\r\n          <p>\r\n            <span className='movie-detail__sub-info--label'>NGÔN NGỮ</span>\r\n            <span className='movie-detail__sub-info--value'>\r\n              {/* {movie.original_language || movie.origin_country} */}\r\n              <span\r\n                onClick={() =>\r\n                  gotoHomePageToFilter('language', movie.original_language)\r\n                }\r\n                className='movie-detail__sub-info--language'>\r\n                {renderLanguge(movie.original_language)}\r\n              </span>\r\n            </span>\r\n          </p>\r\n        )}\r\n        <p>\r\n          <span className='movie-detail__sub-info--label'>KHỞI CHIẾU</span>\r\n          <span className='movie-detail__sub-info--value'>\r\n            {movie.release_date || movie.air_date || movie.first_air_date}\r\n          </span>\r\n        </p>\r\n      </div>\r\n\r\n      <div className='movie-detail__description'>\r\n        <p>{movie.overview}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(MovieInfo);\r\n","import React from 'react';\r\nimport Slider from 'react-slick';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport 'slick-carousel/slick/slick.css';\r\nimport 'slick-carousel/slick/slick-theme.css';\r\n\r\nimport './CastSlider.css';\r\n\r\nimport { API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nfunction CastSlider(props) {\r\n  const history = useHistory();\r\n\r\n  var settings = {\r\n    infinite: props.cast.length > 5,\r\n    speed: 500,\r\n    slidesToShow: 5,\r\n    slidesToScroll: 2,\r\n    responsive: [\r\n      {\r\n        breakpoint: 1216,\r\n        settings: {\r\n          slidesToShow: 4,\r\n        },\r\n      },\r\n      {\r\n        breakpoint: 768,\r\n        settings: {\r\n          slidesToShow: 4,\r\n        },\r\n      },\r\n    ],\r\n  };\r\n\r\n  const gotoPersonPage = (personId) => {\r\n    history.push(`/person/${personId}`);\r\n  };\r\n\r\n  return (\r\n    <div className='cast-slider-container'>\r\n      <Slider {...settings}>\r\n        {props.cast.slice(0, 10).map(\r\n          (actor) =>\r\n            actor.profile_path && (\r\n              <div className='cast-slider-item'>\r\n                <img\r\n                  onClick={() => gotoPersonPage(actor.id)}\r\n                  src={`${API_MOVIE_IMAGE}/${actor.profile_path}`}\r\n                  alt='title'\r\n                />\r\n                <div\r\n                  onClick={() => gotoPersonPage(actor.id)}\r\n                  className='actor-name'>\r\n                  {actor.name}\r\n                </div>\r\n                <div className='actor-character'>{actor.character}</div>\r\n              </div>\r\n            )\r\n        )}\r\n      </Slider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(CastSlider);\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { useHistory, NavLink } from 'react-router-dom';\r\n\r\nimport MoviePoster from '../moviePoster/MoviePoster';\r\n\r\nimport './MovieSeason.css';\r\n\r\nfunction MovieSeason(props) {\r\n  const { seasons, movieId } = props;\r\n  const history = useHistory();\r\n\r\n  const gotoSeasonDetailPage = (season) => {\r\n    history.push(`/tv/${movieId}/season/${season.season_number}`);\r\n  };\r\n\r\n  console.log(seasons);\r\n\r\n  //scroll to top of page\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    });\r\n  }, [history.location.pathname]);\r\n\r\n  return (\r\n    <>\r\n      <h3>Seasons</h3>\r\n      <div className='movie-seasons-list'>\r\n        {seasons.map(\r\n          (season) =>\r\n            season.season_number > 0 && (\r\n              <>\r\n                <div className='movie-seasons--item'>\r\n                  <MoviePoster\r\n                    onClick={() => gotoSeasonDetailPage(season)}\r\n                    poster_path={season.poster_path}\r\n                  />\r\n                  <p className='movie-seasons--item__content'>\r\n                    <NavLink\r\n                      to={`/tv/${movieId}/season/${season.season_number}`}>\r\n                      Season {season.season_number}\r\n                    </NavLink>\r\n                    <p>Số tập: {season.episode_count}</p>\r\n                    <p>Ngày công chiếu: {season.air_date}</p>\r\n                  </p>\r\n                </div>\r\n              </>\r\n            )\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default React.memo(MovieSeason);\r\n","import React, { useState, useRef } from 'react';\r\n\r\nimport Slider from 'react-slick';\r\n\r\nimport { API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport Backdrop from '../../shared/components/UI/Backdrop';\r\n\r\nimport './MovieImageSlider.css';\r\n\r\nexport default function MovieImageSlider(props) {\r\n  const { images, onBackdropClick, type } = props;\r\n\r\n  //limit the images to 15 only\r\n  // let images = images.slice(0, 15);\r\n  const sliderRef = useRef();\r\n  const [activeIndex, setActiveIndex] = useState(1);\r\n  const [showActive, setShowActive] = useState(false);\r\n\r\n  const settings = {\r\n    infinite: images.length >= 3,\r\n    speed: 200,\r\n    slidesToShow: 3,\r\n    slidesToScroll: 1,\r\n    arrows: false,\r\n  };\r\n\r\n  const nextSlideHandler = () => {\r\n    setActiveIndex((preIndex) =>\r\n      preIndex === images.length - 1 ? 0 : activeIndex + 1\r\n    );\r\n    sliderRef.current.slickNext();\r\n    setShowActive(true);\r\n  };\r\n\r\n  const prevSlideHandler = () => {\r\n    setActiveIndex((preIndex) =>\r\n      preIndex === 0 ? images.length - 1 : activeIndex - 1\r\n    );\r\n    sliderRef.current.slickPrev();\r\n    setShowActive(true);\r\n  };\r\n\r\n  const gotoSlide = (index) => {\r\n    setActiveIndex(index);\r\n    sliderRef.current.slickGoTo(index);\r\n    setShowActive(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Backdrop onClick={onBackdropClick} />\r\n      <div className='movie-images-container'>\r\n        {/* slick-type-1 */}\r\n        {type === 'slick-type-1' && (\r\n          <div className='movie-images-wrapper slick-type-1 '>\r\n            <div className='movie-images--active slick-type-1'>\r\n              <CSSTransition\r\n                in={showActive}\r\n                onEntered={() => setShowActive(false)}\r\n                timeout={500}\r\n                classNames='fade-scale'>\r\n                <div>\r\n                  {images.map(\r\n                    (image, index) =>\r\n                      activeIndex === index && (\r\n                        <img\r\n                          src={`${API_MOVIE_IMAGE}/${image.file_path}`}\r\n                          alt='slider'\r\n                        />\r\n                      )\r\n                  )}\r\n                </div>\r\n              </CSSTransition>\r\n            </div>\r\n            <div className='movie-images-slider slick-type-1 left-align-slick'>\r\n              <i\r\n                onClick={prevSlideHandler}\r\n                className='fa fa-less-than arrow-icon arrow-left'></i>\r\n              <Slider ref={sliderRef} {...settings}>\r\n                {images.map((image, index) => (\r\n                  <div\r\n                    onClick={() => gotoSlide(index)}\r\n                    className={`movie-images-slider--item slick-type-1 ${\r\n                      activeIndex === index\r\n                        ? 'image-slider-active slick-type-1'\r\n                        : ''\r\n                    }`}>\r\n                    <img\r\n                      src={`${API_MOVIE_IMAGE}/${image.file_path}`}\r\n                      alt='slider'\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </Slider>\r\n              <i\r\n                onClick={nextSlideHandler}\r\n                className='fa fa-greater-than arrow-icon arrow-right'></i>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* slick-type-2 */}\r\n        {type === 'slick-type-2' && (\r\n          <div className='movie-images-wrapper slick-type-2 '>\r\n            <div className='movie-images-slider slick-type-2 left-align-slick'>\r\n              <div onClick={prevSlideHandler} className='arrow-icon arrow-left'>\r\n                <i className='fa fa-less-than '></i>\r\n              </div>\r\n\r\n              <Slider ref={sliderRef} {...settings}>\r\n                {images.map((image, index) => (\r\n                  <div\r\n                    onClick={() => gotoSlide(index)}\r\n                    className={`movie-images-slider--item slick-type-2 ${\r\n                      activeIndex === index\r\n                        ? 'image-slider-active slick-type-2'\r\n                        : ''\r\n                    }`}>\r\n                    <img\r\n                      src={`${API_MOVIE_IMAGE}/${image.file_path}`}\r\n                      alt='slider'\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </Slider>\r\n              <div\r\n                onClick={nextSlideHandler}\r\n                className='arrow-icon arrow-right'>\r\n                <i className='fa fa-greater-than '></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport './ProductionCompany.css';\r\n\r\nexport default function ProductionCompany(props) {\r\n  const history = useHistory();\r\n  const { companies } = props;\r\n\r\n  console.log(companies);\r\n\r\n  const gotoHomepageToFilter = (companyId) => {\r\n    history.push(`/?with_companies=${companyId}`);\r\n  };\r\n\r\n  return (\r\n    <div className='production-company'>\r\n      {companies.slice(0, 4).map(\r\n        (company) =>\r\n          company.logo_path && (\r\n            <div\r\n              onClick={() => gotoHomepageToFilter(company.id)}\r\n              className='production-company--item'>\r\n              <img\r\n                src={`${API_MOVIE_IMAGE}/${company.logo_path}`}\r\n                alt={company.name}\r\n              />\r\n            </div>\r\n          )\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useMemo,\r\n  useCallback,\r\n} from 'react';\r\n\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport MovieTrailer from '../../components/movieTrailer/MovieTrailer';\r\n\r\nimport { API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport './MovieDetailPage.css';\r\n\r\nimport TrailerSlider from '../../components/trailerSlider/TrailerSlider';\r\nimport SimilarMovies from '../../components/similarMovies/SimilarMovies';\r\nimport MoviePoster from '../../components/moviePoster/MoviePoster';\r\nimport MovieBelongToCollection from '../../components/belongToCollection/MovieBelongToCollection';\r\nimport MovieInfo from '../../components/movieInfo/MovieInfo';\r\nimport CastSlider from '../../components/castSlider/CastSlider';\r\nimport MovieSeason from '../../components/movieSeason/MovieSeason';\r\nimport MovieImageSlider from '../../components/movieImageSlider/MovieImageSlider';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\nimport ProductionCompany from '../../components/productionCompany/ProductionCompany';\r\n\r\nfunction MovieDetailPage() {\r\n  const auth = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const type = history.location.pathname.split('/')[1];\r\n  const { movieId, seasonNumber } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [similarMovies, setSimilarMovies] = useState(null);\r\n  const [trailer, setTrailer] = useState('');\r\n  const [movieImages, setMovieImages] = useState(null);\r\n\r\n  const {\r\n    isLoading,\r\n    error,\r\n    clearError,\r\n    fetchMovieDetails,\r\n    fetchSimilarMovies,\r\n    fetchTvDetails,\r\n  } = useHttp();\r\n\r\n  //fetch movie when load page\r\n  useEffect(() => {\r\n    console.log('First call');\r\n    const fetchMovie = async () => {\r\n      let data;\r\n\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth',\r\n      });\r\n\r\n      //tv show\r\n      if (type === 'tv') {\r\n        data = await fetchTvDetails(movieId);\r\n      }\r\n\r\n      if (type === 'tv' && seasonNumber) {\r\n        data = await fetchTvDetails(movieId, seasonNumber);\r\n      }\r\n\r\n      //movie\r\n      if (type === 'movie') {\r\n        data = await fetchMovieDetails(`${type}/${movieId}`, 'GET');\r\n\r\n        const similarM = await fetchSimilarMovies(movieId);\r\n\r\n        console.log(similarM);\r\n        setSimilarMovies(similarM);\r\n      }\r\n      //season for tv show\r\n\r\n      console.log(data);\r\n      setMovie(data);\r\n\r\n      //scroll to top of page\r\n    };\r\n\r\n    console.log('End call');\r\n\r\n    fetchMovie();\r\n    //movie or tv\r\n  }, [history.location.pathname]);\r\n\r\n  return (\r\n    <>\r\n      {/* show trailer with backdrop */}\r\n      {movie && trailer && (\r\n        <MovieTrailer\r\n          trailer={trailer}\r\n          backdropClick={() => setTrailer(null)}\r\n        />\r\n      )}\r\n\r\n      {movieImages && (\r\n        <MovieImageSlider\r\n          type='slick-type-2'\r\n          onBackdropClick={() => setMovieImages(null)}\r\n          images={movie.images}\r\n        />\r\n      )}\r\n\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n      {movie && (\r\n        <>\r\n          <div className='movie-detail-container'>\r\n            {/* background */}\r\n            {isLoading && <LoadingSpinner />}\r\n            <div\r\n              style={{\r\n                backgroundImage: `url(\"${API_MOVIE_IMAGE}/${movie.backdrop_path}\")`,\r\n              }}\r\n              className='movie-detail__background-image'></div>\r\n\r\n            {/* content */}\r\n            <div className='movie-detail__content'>\r\n              <div className='movie-detail__image'>\r\n                <div className='movie-detail__poster'>\r\n                  <MoviePoster\r\n                    onClick={() => setMovieImages(true)}\r\n                    poster_path={movie.poster_path}\r\n                    alt={movie.original_title}\r\n                  />\r\n\r\n                  <Button isFull isPrimary>\r\n                    <i class='fa fa-play'></i>\r\n                    Xem phim\r\n                  </Button>\r\n                </div>\r\n\r\n                {movie.belongs_to_collection && (\r\n                  <div className='movie-detail__collection'>\r\n                    <MovieBelongToCollection\r\n                      belongs_to_collection={movie.belongs_to_collection}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className='movie-detail__info'>\r\n                {movie && <MovieInfo movieId={movieId} movie={movie} />}\r\n\r\n                <div className='movie-detail__casts'>\r\n                  <div className='movie-detail__casts--title'>Sản xuất</div>\r\n                  <ProductionCompany companies={movie.production_companies} />\r\n                  {/* <CastSlider cast={movie.credits.cast.slice(0, 20)} /> */}\r\n                </div>\r\n\r\n                <div className='movie-detail__casts'>\r\n                  <div className='movie-detail__casts--title'>Diễn viên</div>\r\n                  <CastSlider cast={movie.credits.cast.slice(0, 20)} />\r\n                </div>\r\n\r\n                <div className='movie-detail__trailers--title'>Trailer</div>\r\n\r\n                {/* just use for render icon */}\r\n                <div className='movie-detail__trailers'>\r\n                  <TrailerSlider\r\n                    onClickTrailer={setTrailer}\r\n                    trailers={movie.videos.results}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {movie.seasons && (\r\n                <div className='movie-detail__seasons'>\r\n                  <MovieSeason movieId={movieId} seasons={movie.seasons} />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {similarMovies && (\r\n              <div className='movie-detail__similar-movies'>\r\n                <SimilarMovies movies={similarMovies} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MovieDetailPage;\r\n","import React from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport './MovieSeriesDetail.css';\r\n\r\nimport { API_MOVIE_IMAGE, GENRES_LIST_VN } from '../../shared/util/config';\r\n\r\nexport default function MovieSeriesDetail(props) {\r\n  const history = useHistory();\r\n  const { series } = props;\r\n\r\n  const gotoHomePageToFilter = (genresId) => {\r\n    history.push(`/?with_genres=${genresId}`);\r\n  };\r\n\r\n  const renderGenres = (genres_ids) => {\r\n    const genresList = genres_ids.map((genres_id) =>\r\n      GENRES_LIST_VN.filter((genres) => genres.id === genres_id.toString())\r\n    );\r\n\r\n    return genresList.map((genres) => (\r\n      <span\r\n        onClick={() => gotoHomePageToFilter(genres[0].id)}\r\n        className='series-genres'\r\n        key={genres[0].id}>\r\n        {genres[0].name}\r\n      </span>\r\n    ));\r\n  };\r\n\r\n  const gotoMovieDetailPage = (movieId) => {\r\n    history.push(`/movie/${movieId}`);\r\n  };\r\n\r\n  console.log(series);\r\n\r\n  return (\r\n    <>\r\n      {series.map((movie) => (\r\n        <>\r\n          <div key={movie.id} className='series-item'>\r\n            <div className='series-detail__image'>\r\n              <img\r\n                onClick={() => gotoMovieDetailPage(movie.id)}\r\n                src={`${API_MOVIE_IMAGE}/${movie.poster_path}`}\r\n                alt={movie.title}\r\n              />\r\n            </div>\r\n\r\n            <div className='series-detail__content'>\r\n              {/* vietnamese title */}\r\n              <p className='series-detail__content-row'>\r\n                <p\r\n                  onClick={() => gotoMovieDetailPage(movie.id)}\r\n                  className='series-title-vn'>\r\n                  {movie.title}\r\n                </p>\r\n                <p>Lượt bình chọn: {movie.vote_count}</p>\r\n              </p>\r\n\r\n              {/* original title */}\r\n              <p className='series-detail__content-row'>\r\n                <p\r\n                  onClick={() => gotoMovieDetailPage(movie.id)}\r\n                  className='series-title-en'>\r\n                  {movie.original_title}\r\n                </p>\r\n                <div>\r\n                  <span className='IMDb--icon'>IMDb</span>\r\n                  <span>{movie.vote_average}</span>\r\n                </div>\r\n\r\n                {/* <p>{movie.release_date}</p> */}\r\n              </p>\r\n              <p className='series-detail__content-row'>\r\n                <p className='series-description'>{movie.overview}</p>\r\n              </p>\r\n              <p className='series-detail__content-row'>\r\n                <div>{renderGenres(movie.genre_ids)}</div>\r\n\r\n                <div>Ngày công chiếu: {movie.release_date}</div>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n        </>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport './MovieSeriesPage.css';\r\n\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport { seriesList, API_MOVIE_IMAGE } from '../../shared/util/config';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\nimport MovieList from '../../components/movieList/MovieList';\r\n\r\nimport MovieSeriesDetail from '../../components/movieSeriesDetail/MovieSeriesDetail';\r\n\r\nimport './MovieSeriesPage.css';\r\n\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport MoviePoster from '../../components/moviePoster/MoviePoster';\r\nimport MovieImageSlider from '../../components/movieImageSlider/MovieImageSlider';\r\n\r\nexport default function MovieSeriesPage() {\r\n  const history = useHistory();\r\n\r\n  //use seriesId as a flag to show series detail or series list\r\n  const { seriesId } = useParams();\r\n  const { fetchSeries, isLoading } = useHttp();\r\n  const [series, setSeries] = useState([]);\r\n  const [movieId, setMovieId] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n  const [seriesImages, setSeriesImages] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchSeriesData = async () => {\r\n      let fetchedseries = [];\r\n\r\n      //if seriesId exist => render series details\r\n      if (seriesId) {\r\n        fetchedseries.push({ id: seriesId });\r\n      } else {\r\n        //seriesList in file config\r\n        //a list of collection give by db\r\n        fetchedseries = seriesList;\r\n      }\r\n\r\n      const data = await fetchSeries(fetchedseries);\r\n\r\n      setSeries(data);\r\n    };\r\n\r\n    fetchSeriesData();\r\n  }, [history.location.pathname]);\r\n\r\n  const clickMovieHandler = (clickId) => {\r\n    setShow(true);\r\n    setMovieId(clickId);\r\n  };\r\n\r\n  const renderSeriesInfo = () => {\r\n    const singleSeries = series[0];\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          backgroundImage: `url(${API_MOVIE_IMAGE}${singleSeries.backdrop_path})`,\r\n        }}\r\n        className='series-single-item'>\r\n        <div className='series-single-item__poster'>\r\n          <MoviePoster\r\n            onClick={() => setSeriesImages(true)}\r\n            poster_path={singleSeries.poster_path}\r\n          />\r\n\r\n          <Button onClick={() => clickMovieHandler(singleSeries.id)} isDarkblue>\r\n            Xem chi tiết\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <LoadingSpinner />}\r\n\r\n      {seriesImages && (\r\n        <MovieImageSlider\r\n          type='slick-type-1'\r\n          onBackdropClick={() => setSeriesImages(false)}\r\n          images={series[0].posters}\r\n        />\r\n      )}\r\n\r\n      {series.length > 0 && (\r\n        <div className='series-container'>\r\n          {/* render series list */}\r\n          {!seriesId && (\r\n            <MovieList\r\n              clickMovieHandler={clickMovieHandler}\r\n              type='series'\r\n              movies={series}\r\n            />\r\n          )}\r\n\r\n          {/* render series item if only single series */}\r\n          {seriesId && renderSeriesInfo()}\r\n\r\n          <CSSTransition\r\n            mountOnEnter\r\n            onEntered={() => setShow(false)}\r\n            onExiting={() =>\r\n              window.scrollTo({\r\n                top: 550,\r\n                behavior: 'smooth',\r\n              })\r\n            }\r\n            in={show}\r\n            timeout={500}\r\n            classNames='fade'>\r\n            <div className='series-list'>\r\n              {series.map(\r\n                (movie) =>\r\n                  movieId === movie.id && (\r\n                    <MovieSeriesDetail series={movie.parts} />\r\n                  )\r\n              )}\r\n            </div>\r\n          </CSSTransition>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { LOCAL_STORAGE_KEY } from '../util/config';\r\n\r\nexport default function refreshTokenSetup(res) {\r\n  // Timing to renew access token\r\n  let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\r\n\r\n  const refreshToken = async () => {\r\n    const newAuthRes = await res.reloadAuthResponse();\r\n    refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\r\n    console.log('newAuthRes:', newAuthRes);\r\n    // saveUserToken(newAuthRes.access_token);  <-- save new token\r\n    localStorage.setItem(LOCAL_STORAGE_KEY, newAuthRes.id_token);\r\n\r\n    // Setup the other timer after the first one\r\n    setTimeout(refreshToken, refreshTiming);\r\n  };\r\n\r\n  // Setup first refresh timer\r\n  setTimeout(refreshToken, refreshTiming);\r\n}\r\n","import AdminPage from '../admin/AdminPage';\r\nimport Account from '../pages/account/Account';\r\nimport MovieCollectionPage from '../pages/collection/MovieCollectionPage';\r\nimport FAQPage from '../pages/FAQ/FAQPage';\r\nimport HomePage from '../pages/homePage/HomePage';\r\nimport MovieDetailPage from '../pages/movieDetail/MovieDetailPage';\r\nimport MovieSeriesPage from '../pages/movieSeries/MovieSeriesPage';\r\nimport PersonPage from '../pages/person/PersonPage';\r\nimport SearchMovie from '../pages/searchMovie/SearchMovie';\r\nimport TvSeriesPage from '../pages/tvSeries/TvSeriesPage';\r\nimport Auth from '../pages/user/Auth';\r\n\r\nexport const commonRoutes = [\r\n  { path: '/', exact: true, Component: HomePage },\r\n  { path: '/tv', exact: true, Component: TvSeriesPage },\r\n  { path: '/movie/:movieId', exact: false, Component: MovieDetailPage },\r\n  { path: '/tv/:movieId', exact: false, Component: MovieDetailPage },\r\n  {\r\n    path: '/tv/:movieId/season/:seasonNumber',\r\n    exact: false,\r\n    Component: MovieDetailPage,\r\n  },\r\n  { path: '/faq', exact: false, Component: FAQPage },\r\n  { path: '/series', exact: false, Component: MovieSeriesPage },\r\n  { path: '/series/:seriesId', exact: false, Component: MovieSeriesPage },\r\n  { path: '/auth', exact: false, Component: Auth },\r\n  { path: '/search', exact: false, Component: SearchMovie },\r\n  { path: '/person/:personId', exact: false, Component: PersonPage },\r\n];\r\n\r\nexport const privateRoutes = [\r\n  { path: '/account', exact: true, Component: Account },\r\n  { path: '/collection', exact: true, Component: MovieCollectionPage },\r\n];\r\n\r\nexport const adminRoutes = [\r\n  { path: '/admin', exact: true, Component: AdminPage },\r\n];\r\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\n\r\nimport MovieList from '../../components/movieList/MovieList';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\n\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\nimport MovieFilter from '../../components/movieFilter/MovieFilter';\r\n\r\nimport './HomePage.css';\r\n\r\nexport default function HomePage() {\r\n  const history = useHistory();\r\n\r\n  const historySearch = history.location.search;\r\n\r\n  const {\r\n    fetchProductionCompany,\r\n    filterMovies,\r\n    isLoading,\r\n    error,\r\n    clearError,\r\n  } = useHttp();\r\n\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  const [productionCompany, setProductionCompany] = useState(null);\r\n\r\n  const [filterTerm, setFilterTerm] = useState({\r\n    with_companies: '',\r\n    with_genres: '', //string\r\n    with_original_language: '', //string\r\n    primary_release_year: '', //string\r\n    'with_runtime.lte': '', //string\r\n    'with_runtime.gte': '', //string\r\n    sort_by: '',\r\n  });\r\n\r\n  //re-render 2 times\r\n  // window.addEventListener('load', () => {\r\n  //   history.push('/');\r\n  // });\r\n\r\n  const convertQueryToFilter = (query) => {\r\n    const myQuery = query.substring(1).split('&');\r\n\r\n    const filterUpdate = {\r\n      with_companies: '',\r\n      with_genres: '',\r\n      with_original_language: '',\r\n      primary_release_year: '',\r\n      'with_runtime.lte': '',\r\n      'with_runtime.gte': '',\r\n      sort_by: '',\r\n    };\r\n\r\n    myQuery.forEach((queryItem) => {\r\n      const [title, value] = queryItem.split('=');\r\n\r\n      filterUpdate[title] = value;\r\n    });\r\n\r\n    return filterUpdate;\r\n  };\r\n\r\n  //when location search change\r\n  //re-render 1 time\r\n  useEffect(() => {\r\n    const fetchFilterMovies = async () => {\r\n      const filteredMovies = await filterMovies('movie', historySearch, 3);\r\n\r\n      //if location pathname had query with_companies\r\n      if (historySearch.includes('with_companies')) {\r\n        //1/ get company Id\r\n        const parseFilterTerm = convertQueryToFilter(historySearch);\r\n\r\n        const companyId = parseFilterTerm.with_companies;\r\n\r\n        //2/ send to db to fecth company\r\n        const companyData = await fetchProductionCompany(companyId);\r\n\r\n        setProductionCompany(companyData);\r\n      }\r\n\r\n      // console.log(filteredMovies);\r\n\r\n      setMovies(filteredMovies);\r\n    };\r\n\r\n    fetchFilterMovies();\r\n\r\n    const updateFilterTerm = convertQueryToFilter(historySearch);\r\n\r\n    console.log(updateFilterTerm);\r\n\r\n    setFilterTerm(updateFilterTerm);\r\n  }, [historySearch]);\r\n\r\n  const covertFilterToQuery = (filter) => {\r\n    //use to params to hold state when user click backfilter.genres\r\n    const genres = filter.with_genres && `&with_genres=${filter.with_genres}`;\r\n\r\n    const companies =\r\n      filter.with_companies && `&with_companies=${filter.with_companies}`;\r\n\r\n    const language =\r\n      filter.with_original_language &&\r\n      `&with_original_language=${filter.with_original_language}`;\r\n\r\n    const year =\r\n      filter.primary_release_year &&\r\n      `&primary_release_year=${filter.primary_release_year}`;\r\n\r\n    //length greater than\r\n    const lengthMin =\r\n      filter['with_runtime.gte'] &&\r\n      `&with_runtime.gte=${filter['with_runtime.gte']}`;\r\n\r\n    //length less than\r\n    const lengthMax =\r\n      filter['with_runtime.lte'] &&\r\n      `&with_runtime.lte=${filter['with_runtime.lte']}`;\r\n\r\n    //sort descending\r\n    const sort = filter.sort_by && `&sort_by=${filter.sort_by}`;\r\n\r\n    let filterCombied = [\r\n      genres,\r\n      language,\r\n      year,\r\n      lengthMin,\r\n      lengthMax,\r\n      sort,\r\n      companies,\r\n    ].join('');\r\n\r\n    //replace first '&'\r\n    filterCombied = filterCombied.replace('&', '');\r\n\r\n    return filterCombied;\r\n  };\r\n\r\n  //listen to user select filter movies\r\n  const filterHandler = (type, value) => {\r\n    const filterUpdate = { ...filterTerm };\r\n\r\n    console.log(type, value);\r\n\r\n    if (type === 'length') {\r\n      filterUpdate['with_runtime.lte'] = value.max;\r\n\r\n      filterUpdate['with_runtime.gte'] = value.min;\r\n    } else {\r\n      filterUpdate[type] = value;\r\n    }\r\n\r\n    //if user select all => set filter for that field is empty\r\n    if (value === 'all') {\r\n      filterUpdate[type] = '';\r\n    }\r\n\r\n    console.log(filterUpdate);\r\n\r\n    const query = covertFilterToQuery(filterUpdate);\r\n\r\n    console.log(query);\r\n\r\n    history.push({\r\n      pathname: '/',\r\n      search: `${query}`,\r\n    });\r\n\r\n    setFilterTerm((prev) => ({ ...prev, ...filterUpdate }));\r\n  };\r\n\r\n  const renderCompany = () => (\r\n    <div className='filter-production-company'>\r\n      <div className='filter-production-company__content'>\r\n        <span> Phim được sản xuất bởi </span>\r\n        <a\r\n          rel='noreferrer'\r\n          target='_blank'\r\n          href={productionCompany.homepage}\r\n          className='filter-production-company__name'>\r\n          {productionCompany.name}\r\n        </a>\r\n      </div>\r\n      <span\r\n        onClick={() =>\r\n          history.push(\r\n            `/${historySearch.replace(\r\n              `with_companies=${filterTerm.with_companies}`,\r\n              ''\r\n            )}`\r\n          )\r\n        }\r\n        className='filter-production-company--close'>\r\n        <i class='fa fa-times'></i>\r\n      </span>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className='home-page'>\r\n      {true && <ErrorModal error={error} clearError={clearError} />}\r\n\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n      <MovieFilter filterTerm={filterTerm} filterHandler={filterHandler} />\r\n\r\n      {filterTerm.with_companies && productionCompany && renderCompany()}\r\n\r\n      {!isLoading && movies.length > 0 && (\r\n        <MovieList type='movie' movies={movies} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport './TvSeriesPage.css';\r\n\r\nimport MovieList from '../../components/movieList/MovieList';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nexport default function TvSeriesPage() {\r\n  const { fetchMovies } = useHttp();\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchMovieList = async () => {\r\n      const data = await fetchMovies('tv', 'GET', 2);\r\n\r\n      setMovies(data);\r\n    };\r\n    fetchMovieList();\r\n  }, []);\r\n\r\n  return (\r\n    <div className='tv-series'>\r\n      {movies.length > 0 && <MovieList type='tv' movies={movies} />}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './FAQPage.css';\r\n\r\nexport default function FAQPage() {\r\n  return (\r\n    <div className='faq-container'>\r\n      <h1 className='faq-title text-center'>Câu hỏi thường gặp</h1>\r\n      <h1 className='faq-question'>\r\n        1. Xem phim bị chậm, mặc dù đã kích hoạt VIP Mode cho phim đó?\r\n      </h1>\r\n      <p className='faq-answer'>\r\n        Nếu phim chạy nhưng cứ một đoạn lại bị dừng để chờ load tiếp (dù đã thử\r\n        chọn các server khác nhau), cần xác định do thiết bị hay do mạng của\r\n        bạn.\r\n        <ul className='faq-answer__list'>\r\n          <li>\r\n            Hãy thử xem phim trên một thiết bị khác (máy tính / điện thoại /\r\n            TV...). Phần lớn mọi người khi đổi sang thiết bị khác thì phim lại\r\n            chạy mượt {'=>'} vậy là do thiết bị cũ của bạn. Nếu đó là TV, hãy\r\n            kiểm tra thiết lập TV và tắt giao thức kết nối mạng IPv6. Nếu đó là\r\n            một thiết bị chạy iOS, thì hãy thử dùng một trình duyệt khác (chẳng\r\n            hạn Chrome) thay vì trình duyệt Safari mặc định, nhưng nói chung\r\n            player trên iOS rất hay có vấn đề với phim bitrate cao + âm thanh\r\n            5.1.\r\n          </li>\r\n          <li>\r\n            Nếu phim chạy chậm trên tất cả các thiết bị mà bạn thử, với tất cả\r\n            các server, thì đó là do nhà mạng của bạn đã bóp băng thông đường\r\n            truyền quốc tế. Có 2 cách giải quyết: 1. Gọi điện phản ánh với nhà\r\n            mạng; 2. Sử dụng một VPN (mạng riêng ảo) để tăng tốc độ cho mạng của\r\n            bạn. Chúng tôi đề xuất bạn dùng ứng dụng WARP `{'=>'}` download tại\r\n            đây.\r\n          </li>\r\n        </ul>\r\n      </p>\r\n\r\n      <h1 className='faq-question'>\r\n        2. Gặp vấn đề về âm thanh: phim không có tiếng, mất tiếng nhân vật, hoặc\r\n        âm thanh bị rè?\r\n      </h1>\r\n      <p className='faq-answer'>\r\n        <ul className='faq-answer__list'>\r\n          <li>\r\n            Nếu xem trên điện thoại: Lỗi âm thanh là do trình duyệt của bạn\r\n            (thường là Chrome). Hãy thử dùng trình duyệt mặc định trên điện\r\n            thoại của bạn, hoặc cài {'&'} dùng trình duyệt Puffin!\r\n          </li>\r\n          <li>\r\n            Nếu bạn xem trên PC: Khác với phim / clip trên các web khác (kể cả\r\n            Youtube), phim trên XemPhim sử dụng âm thanh 5.1 (6 channel) thay vì\r\n            âm thanh stereo (2 channel). Nếu thiết bị bạn xem chỉ có 2 loa, bạn\r\n            cần thiết lập chương trình quản lý âm thanh trên thiết bị cho đúng:\r\n            chọn đúng chế độ với số loa mình có (stereo), đừng chọn nhiều hơn,\r\n            nếu không thiết bị của bạn sẽ cố gắng xuất âm thanh ra những loa\r\n            không tồn tại {'=>'} mất tiếng.\r\n          </li>\r\n          <p>\r\n            Ví dụ đây là phần chọn các chế độ âm thanh của Realtek HD Audio\r\n            Manager: click vào đây\r\n          </p>\r\n        </ul>\r\n      </p>\r\n\r\n      <h1 className='faq-question'>3. Làm sao để xem phim trên TV?</h1>\r\n      <p className='faq-answer'>\r\n        Để xem phim trên TV, TV bạn phải có trình duyệt web. Hầu hết các loại\r\n        Smart TV những năm gần đây đều có cài sẵn trình duyệt. Nếu TV bạn không\r\n        có sẵn trình duyệt, bạn có thể cài trình duyệt từ cửa hàng ứng dụng\r\n        (Google Play Store / CH Play / App Store) trên TV. Với TV Android, bạn\r\n        nên cài trình duyệt Puffin.\r\n      </p>\r\n      <p>\r\n        Sau khi cài trình duyệt, truy cập trang web như bạn vẫn làm trên máy\r\n        tính / điện thoại và xem phim.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext, useRef } from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { GoogleLogin } from 'react-google-login';\r\n\r\nimport Input from '../../shared/components/FormElement/Input';\r\nimport Button from '../../shared/components/UI/Button';\r\n\r\nimport useForm from '../../shared/customHooks/useForm';\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport refreshToken from '../../shared/util/refreshToken';\r\n\r\nimport {\r\n  VALIDATOR_EMAIL,\r\n  VALIDATOR_MINLENGTH,\r\n  VALIDATOR_REQUIRE,\r\n} from '../../shared/util/validators';\r\n\r\nimport { LOCAL_STORAGE_KEY, OAUTH_CLIENT_KEY } from '../../shared/util/config';\r\n\r\nimport './Auth.css';\r\n\r\nexport default function Auth() {\r\n  const auth = useContext(AuthContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const [isLoginMode, setIsLoginMode] = useState(true);\r\n\r\n  const { formState, inputHandler, setFormData } = useForm(\r\n    {\r\n      email: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n      password: {\r\n        value: '',\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const { sendRequest, isLoading, error, clearError, sendUser } = useHttp();\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = formState.inputs;\r\n\r\n    if (isLoginMode) {\r\n      //login\r\n      const loginedUser = {\r\n        email: email.value,\r\n        password: password.value,\r\n      };\r\n\r\n      const { token, user } = await sendUser(\r\n        'user/login',\r\n        'POST',\r\n        JSON.stringify(loginedUser)\r\n      );\r\n\r\n      console.log(user);\r\n\r\n      auth.login(token, user);\r\n    } else {\r\n      //sign up\r\n      const newUser = {\r\n        email: email.value,\r\n        password: password.value,\r\n        name: formState.inputs.name.value,\r\n      };\r\n\r\n      const { token, user } = await sendUser(\r\n        'user/signup',\r\n        'POST',\r\n        JSON.stringify(newUser)\r\n      );\r\n\r\n      console.log({ token, user });\r\n\r\n      auth.login(token, user);\r\n    }\r\n  };\r\n\r\n  // const saveTokenLocalStorage = (token) => {\r\n  //   localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(token));\r\n  // };\r\n\r\n  const onLoginGoogleSuccess = async (res) => {\r\n    //token from google sign-in\r\n    const { tokenId } = res;\r\n    //after sign-in with google\r\n    //-> send to back-end to login to fetch user movie list\r\n\r\n    //token from firebase\r\n    const { token, user } = await sendUser('user/g-login', 'POST', null, {\r\n      Authorization: 'Bearer ' + tokenId,\r\n    });\r\n\r\n    console.log(tokenId);\r\n\r\n    auth.login(token, user);\r\n\r\n    localStorage.setItem(LOCAL_STORAGE_KEY, tokenId);\r\n\r\n    refreshToken(res);\r\n  };\r\n\r\n  const onLoginGoogleFail = (res) => {\r\n    console.log('Login failed: res:', res);\r\n  };\r\n\r\n  //change from signup to login and vice-versa\r\n  useEffect(() => {\r\n    const { email, password } = formState.inputs;\r\n\r\n    if (isLoginMode) {\r\n      setFormData(\r\n        {\r\n          email: {\r\n            value: email.value,\r\n            isValid: email.isValid,\r\n          },\r\n          password: {\r\n            value: password.value,\r\n            isValid: password.isValid,\r\n          },\r\n          name: undefined,\r\n        },\r\n        email.isValid && password.isValid\r\n      );\r\n    } else {\r\n      setFormData(\r\n        {\r\n          email: {\r\n            value: email.value,\r\n            isValid: email.isValid,\r\n          },\r\n          password: {\r\n            value: password.value,\r\n            isValid: password.isValid,\r\n          },\r\n          name: {\r\n            value: '',\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    }\r\n  }, [isLoginMode]);\r\n\r\n  const renderFormLogin = () => {\r\n    let formCard;\r\n\r\n    if (auth.isLoggedIn) {\r\n      formCard = (\r\n        <>\r\n          <h1 className='auth-title__success-login'>\r\n            Bạn đã đăng nhập thành công\r\n          </h1>\r\n          <Button onClick={() => history.push('/')} isFull isSecondary>\r\n            Quay về trang chủ\r\n          </Button>\r\n        </>\r\n      );\r\n    } else {\r\n      formCard = !isLoading && (\r\n        <form onSubmit={submitHandler} className='auth-form'>\r\n          <Input\r\n            id='email'\r\n            initialValue=''\r\n            validators={[VALIDATOR_REQUIRE(), VALIDATOR_EMAIL()]}\r\n            onInput={inputHandler}\r\n            type='email'\r\n            placeholder='Email'\r\n          />\r\n          {!isLoginMode && (\r\n            <Input\r\n              id='name'\r\n              initialValue=''\r\n              validators={[VALIDATOR_REQUIRE()]}\r\n              onInput={inputHandler}\r\n              type='text'\r\n              placeholder='Tên bạn'\r\n            />\r\n          )}\r\n          <Input\r\n            id='password'\r\n            initialValue=''\r\n            validators={[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH(6)]}\r\n            onInput={inputHandler}\r\n            type='password'\r\n            placeholder='Password'\r\n          />\r\n\r\n          <Button disabled={!formState.isValid} isFull isSecondary>\r\n            {isLoginMode ? 'Đăng nhập' : 'Đăng ký'}\r\n          </Button>\r\n          <div className='auth-form__divied'>\r\n            <p className='auth-form__divied-text'>Hoặc</p>\r\n          </div>\r\n\r\n          <GoogleLogin\r\n            render={(renderProps) => (\r\n              <Button\r\n                isFull\r\n                isPrimary\r\n                onClick={renderProps.onClick}\r\n                disabled={renderProps.disabled}>\r\n                <i class='fab fa-google'></i>\r\n                Đăng nhập với Google\r\n              </Button>\r\n            )}\r\n            clientId={OAUTH_CLIENT_KEY}\r\n            buttonText='Login'\r\n            onSuccess={onLoginGoogleSuccess}\r\n            onFailure={onLoginGoogleFail}\r\n            cookiePolicy={'single_host_origin'}\r\n          />\r\n        </form>\r\n      );\r\n    }\r\n\r\n    return formCard;\r\n  };\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <div className='auth-container'>\r\n        <h1 className='auth-title'>{!auth.isLoggedIn && 'Đăng nhập'}</h1>\r\n        <div className='auth-card'>\r\n          {error && !isLoading && (\r\n            <ErrorModal error={error} clearError={clearError} />\r\n          )}\r\n\r\n          {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n          {renderFormLogin()}\r\n        </div>\r\n\r\n        {!auth.isLoggedIn && (\r\n          <h1\r\n            onClick={() => setIsLoginMode(!isLoginMode)}\r\n            className='auth-signup'>\r\n            {isLoginMode ? 'Đăng ký' : 'Đăng nhập'}\r\n          </h1>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useCallback, useState, useRef } from 'react';\r\n\r\nimport './SearchMovie.css';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport MovieItem from '../../components/movieItem/MovieItem';\r\n\r\nexport default function SearchMovie() {\r\n  const { searchMovie, isLoading } = useHttp();\r\n  const [query, setQuery] = useState('');\r\n  const [movies, setMovies] = useState([]);\r\n  const history = useHistory();\r\n\r\n  const fetchMovies = useCallback(async (term) => {\r\n    if (!term) return;\r\n\r\n    const data = await searchMovie(term);\r\n\r\n    console.log(data);\r\n    setMovies(data.results);\r\n  }, []);\r\n\r\n  // user enter keyword\r\n  //stop for 1s\r\n  //then push keyword to url as query\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      history.push({\r\n        pathname: '/search/',\r\n        search: query,\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [query, fetchMovies, history]);\r\n\r\n  //whenever keyword in url query change, query movie from db\r\n  useEffect(() => {\r\n    const term = history.location.search.replace('?', '');\r\n\r\n    setQuery(term);\r\n    fetchMovies(term);\r\n  }, [history.location.search, fetchMovies]);\r\n\r\n  console.log(movies);\r\n\r\n  return (\r\n    <div className='search-container'>\r\n      <input\r\n        placeholder='Nhập tên phim...'\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        value={query}\r\n      />\r\n\r\n      {isLoading && <LoadingSpinner />}\r\n\r\n      {movies && (\r\n        <div className='search-movies'>\r\n          {movies.map((movie) => (\r\n            <MovieItem type='movie' noVnTitle key={movie.id} movie={movie} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nimport LazyLoad from 'react-lazyload';\r\n\r\nimport LoadingSpinner from '../../shared/components/UI/LoadingSpinner';\r\n\r\nimport { googleApiKey } from '../../shared/util/googleApiKey';\r\nimport { API_MOVIE_IMAGE, JOB_LIST } from '../../shared/util/config';\r\n\r\nimport './PersonPage.css';\r\n\r\nimport MoviePoster from '../../components/moviePoster/MoviePoster';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nexport default function PersonPage() {\r\n  const [actor, setActor] = useState(null);\r\n  const { fetchPersonDetails } = useHttp();\r\n\r\n  const history = useHistory();\r\n\r\n  const { personId } = useParams();\r\n\r\n  const renderJobs = (jobId) => {\r\n    const jobInVn = JOB_LIST.find((job) => job.id === jobId);\r\n\r\n    return jobInVn.name;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchPerson = async () => {\r\n      const data = await fetchPersonDetails(`person/${personId}`);\r\n\r\n      //use google api to translate biography to vietnamese\r\n      const translation = await axios.post(\r\n        'https://translation.googleapis.com/language/translate/v2',\r\n        {},\r\n        {\r\n          params: {\r\n            q: data.biography,\r\n            target: 'vi',\r\n            key: googleApiKey,\r\n          },\r\n        }\r\n      );\r\n\r\n      const translatedBiography =\r\n        translation.data.data.translations[0].translatedText;\r\n\r\n      setActor({ ...data, biography: translatedBiography });\r\n    };\r\n\r\n    fetchPerson();\r\n  }, []);\r\n\r\n  const renderMovies = (movies) =>\r\n    movies.splice(0, 20).map(\r\n      (movie) =>\r\n        movie.poster_path && (\r\n          <LazyLoad\r\n            offset={-120}\r\n            height={340}\r\n            key={movie.id}\r\n            className='person-movies--item'\r\n            placeholder={<LoadingSpinner />}>\r\n            <MoviePoster\r\n              onClick={() => history.push(`/movie/${movie.id}`)}\r\n              poster_path={movie.poster_path}\r\n              alt={movie.title}\r\n            />\r\n\r\n            <p>{movie.title}</p>\r\n          </LazyLoad>\r\n        )\r\n    );\r\n\r\n  const renderImages = (images) =>\r\n    images.map((img) => (\r\n      <LazyLoad\r\n        offset={-120}\r\n        height={340}\r\n        key={img.id}\r\n        className='person-images--item'\r\n        placeholder={<LoadingSpinner />}>\r\n        <img src={`${API_MOVIE_IMAGE}${img.file_path}`} alt={img.title} />\r\n      </LazyLoad>\r\n    ));\r\n\r\n  const renderPersonInfo = () => (\r\n    <>\r\n      <img src={`${API_MOVIE_IMAGE}/${actor.profile_path}`} alt={actor.name} />\r\n      <p className='person-info--header'>Thông tin cá nhân</p>\r\n\r\n      <p className='person-info--title'>Nghề nghiệp</p>\r\n      <p className='person-info--value'>\r\n        {renderJobs(actor.known_for_department)}\r\n      </p>\r\n\r\n      <p className='person-info--title'>Giới tính</p>\r\n      <p className='person-info--value'>{actor.gender === 2 ? 'NAM' : 'NỮ'}</p>\r\n\r\n      <p className='person-info--title'>Ngày sinh</p>\r\n      <p className='person-info--value'>{actor.birthday}</p>\r\n\r\n      <p className='person-info--title'> Nơi sinh</p>\r\n      <p className='person-info--value'>{actor.place_of_birth}</p>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    actor && (\r\n      <div className='person-container'>\r\n        <div className='person-info'>{renderPersonInfo()}</div>\r\n        <div className='person-wrapper'>\r\n          <div className='person-biography'>\r\n            <p className='person-biography--name'>{actor.name}</p>\r\n            <p className='person-biography--title'>Tiểu sử</p>\r\n            <p className='person-biography--content'>{actor.biography}</p>\r\n          </div>\r\n\r\n          <h2>Các phim đã tham gia</h2>\r\n          <div className='person-movies'>\r\n            {renderMovies(actor.credits.cast)}\r\n          </div>\r\n\r\n          <h2>Hình ảnh</h2>\r\n          <div className='person-images'>\r\n            {renderImages(actor.images.profiles)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n","export const googleApiKey = 'AIzaSyBa-hT3TBrYG21eXTrvrDhFIq9ac275-C8';\r\n","import React, { useContext } from 'react';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport './Account.css';\r\n\r\nexport default function Account() {\r\n  const auth = useContext(AuthContext);\r\n\r\n  const { name, email, createdAt } = auth.user;\r\n\r\n  console.log(auth.user);\r\n\r\n  return (\r\n    <div className='account-container'>\r\n      <div className='account-info text-center'>\r\n        <div className='account-info__name'>{name}</div>\r\n        <p>\r\n          Email: <span className='account-info__email'>{email}</span>\r\n        </p>\r\n        <p>\r\n          Ngày gia nhập:\r\n          <span className='account-info__join-date'>{createdAt}</span>\r\n        </p>\r\n\r\n        <div className='account-info__diveded'></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useContext, useState } from 'react';\r\n\r\nimport './MovieCollectionPage.css';\r\n\r\nimport MovieItem from '../../components/movieItem/MovieItem';\r\n\r\nimport { AuthContext } from '../../shared/context/AuthContext';\r\n\r\nimport ErrorModal from '../../shared/components/UI/ErrorModal';\r\n\r\nimport useHttp from '../../shared/customHooks/useHttp';\r\n\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport Slider from 'react-slick';\r\n\r\nexport default function MovieCollectionPage() {\r\n  const [collection, setCollection] = useState([]);\r\n  const [activeId, setActiveId] = useState(null);\r\n  const [deleteMovie, setDeleteMovie] = useState(false);\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  const authCollection = auth.user.collection;\r\n\r\n  const {\r\n    fetchMoviesByIdList,\r\n    isLoading,\r\n    error,\r\n    clearError,\r\n    sendUser,\r\n  } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const fetchMovies = async () => {\r\n      let _collection = await fetchMoviesByIdList(authCollection);\r\n\r\n      //assign property isDone to collection fetched from db\r\n      _collection = _collection.map((movie) => ({\r\n        ...movie,\r\n        isDone: authCollection[movie.id].isDone,\r\n      }));\r\n\r\n      setCollection(_collection);\r\n    };\r\n\r\n    fetchMovies();\r\n  }, [auth.user, fetchMoviesByIdList]);\r\n\r\n  const onClickMovieHandler = async (movieId, action) => {\r\n    //when movie go to collection\r\n\r\n    // list of Ids\r\n    // authCollection = [\r\n    //  1771: {isDone: true}, => finish list\r\n    // 527774: {isDone: false} => wishlist\r\n    // ]\r\n\r\n    // list of movie obj use to render\r\n    //renderCollection = [\r\n    //       {\r\n    //         id: 399566\r\n    // imdb_id: \"tt5034838\"\r\n    // original_language: \"en\"\r\n    // original_title: \"Godzilla vs. Kong\"\r\n    // overview: \"Khi\r\n    //       }, ...\r\n    //     ]\r\n\r\n    let renderCollection = [...collection];\r\n\r\n    const authCollection = auth.user.collection;\r\n\r\n    if (action === 'addFavorited' || action === 'addDone') {\r\n      authCollection[movieId] = {\r\n        isDone: action === 'addDone' ? true : false,\r\n      };\r\n\r\n      const index = renderCollection.findIndex((movie) => movie.id === movieId);\r\n\r\n      if (index === -1) return;\r\n\r\n      renderCollection[index].isDone = !renderCollection[index].isDone;\r\n\r\n      setCollection(renderCollection);\r\n    }\r\n\r\n    if (action === 'delete') {\r\n      // delete authCollection[movieId];\r\n\r\n      // renderCollection = renderCollection.filter(\r\n      //   (movie) => movie.id !== movieId\r\n      // );\r\n\r\n      console.log('delete');\r\n\r\n      //movie item enter exit phase\r\n      //dont' setCollection here\r\n      setDeleteMovie(true);\r\n    }\r\n\r\n    setActiveId(movieId);\r\n\r\n    // const data = await sendUser(\r\n    //   'user',\r\n    //   'PATCH',\r\n    //   JSON.stringify({ collection: authCollection }),\r\n    //   {\r\n    //     Authorization: 'Bearer ' + auth.token,\r\n    //   }\r\n    // );\r\n\r\n    //if update collection success\r\n    //use to render base on the collection in authContent\r\n  };\r\n\r\n  const settingsWhislist = {\r\n    //fix bug when number of movies less than 4\r\n    infinite: collection.filter((movie) => !movie.isDone).length > 4,\r\n    speed: 200,\r\n    slidesToShow: 4,\r\n    slidesToScroll: 1,\r\n    arrows: true,\r\n    className: 'movie-collection-list',\r\n  };\r\n\r\n  const settingsFinishlist = {\r\n    //fix bug when number of movies less than 4\r\n    infinite: collection.filter((movie) => movie.isDone).length > 4,\r\n    speed: 200,\r\n    slidesToShow: 4,\r\n    slidesToScroll: 1,\r\n    arrows: true,\r\n    className: 'movie-collection-list',\r\n  };\r\n\r\n  //when user delete a movie =>\r\n  //1. animate movie item first\r\n  //2. then delete from list\r\n  //-> because if we delete movie Id first there is no movie Id to attach to CSSTransition\r\n  const deleveMovieHandler = (movieId) => {\r\n    let renderCollection = [...collection];\r\n\r\n    console.log(movieId);\r\n\r\n    renderCollection = renderCollection.filter((movie) => movie.id !== movieId);\r\n\r\n    delete auth.user.collection[movieId];\r\n\r\n    setActiveId(null);\r\n    setDeleteMovie(false);\r\n    setCollection(renderCollection);\r\n  };\r\n\r\n  const renderMovies = (_collection) => {\r\n    if (!_collection || _collection.length === 0) {\r\n      return (\r\n        !isLoading && (\r\n          <h1 className='movie-collection__no-movies'>\r\n            Bạn chưa có phim nào. Hãy thêm phim vào danh sách để thưởng thức\r\n          </h1>\r\n        )\r\n      );\r\n    }\r\n\r\n    return _collection.map((movie) => (\r\n      <>\r\n        {activeId === movie.id && !deleteMovie && (\r\n          <CSSTransition\r\n            in={true}\r\n            timeout={800}\r\n            appear\r\n            classNames={'fade-on-top'}>\r\n            <MovieItem\r\n              isEdit\r\n              clickMovieHandler={onClickMovieHandler}\r\n              isAlreadyWatchced={movie.isDone}\r\n              type='movie'\r\n              key={movie.id}\r\n              movie={movie}\r\n            />\r\n          </CSSTransition>\r\n        )}\r\n\r\n        {activeId === movie.id && deleteMovie && (\r\n          <CSSTransition\r\n            unmountOnExit\r\n            in={true}\r\n            timeout={800}\r\n            appear\r\n            onEntered={() => deleveMovieHandler(movie.id)}\r\n            classNames={'fade-on-top--delete'}>\r\n            <MovieItem\r\n              isEdit\r\n              clickMovieHandler={onClickMovieHandler}\r\n              isAlreadyWatchced={movie.isDone}\r\n              type='movie'\r\n              key={movie.id}\r\n              movie={movie}\r\n            />\r\n          </CSSTransition>\r\n        )}\r\n\r\n        {activeId !== movie.id && (\r\n          <MovieItem\r\n            isEdit\r\n            clickMovieHandler={onClickMovieHandler}\r\n            isAlreadyWatchced={movie.isDone}\r\n            type='movie'\r\n            key={movie.id}\r\n            movie={movie}\r\n          />\r\n        )}\r\n      </>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className='movie-collection'>\r\n      {error && <ErrorModal error={error} clearError={clearError} />}\r\n\r\n      <h1 className='text-center'>Bộ sưu tập phim của bạn</h1>\r\n\r\n      <h1 className='movie-collection--whislist'>Các phim bạn muốn xem:</h1>\r\n      <div>\r\n        <Slider {...settingsWhislist}>\r\n          {renderMovies(collection.filter((movie) => !movie.isDone))}\r\n        </Slider>\r\n      </div>\r\n\r\n      <h1 className='movie-collection--finish'>Các phim bạn đã xem:</h1>\r\n      <div>\r\n        <Slider {...settingsFinishlist}>\r\n          {renderMovies(collection.filter((movie) => movie.isDone))}\r\n        </Slider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\n\nimport Header from './shared/components/Header/Header';\n\nimport './App.css';\n\nimport { AuthContextWrapper } from './shared/context/AuthContext';\n\nimport Footer from './shared/components/Footer/Footer';\n\nimport PrivateRoute from './routes/PrivateRoute';\n\nimport { commonRoutes, privateRoutes, adminRoutes } from './routes/routes';\nimport HomePage from './pages/homePage/HomePage';\n\nfunction App() {\n  return (\n    <AuthContextWrapper>\n      <BrowserRouter basename='/xem-phim-zz'>\n        <Header />\n\n        <Switch>\n          {/* access for everyone */}\n          {commonRoutes.map((route) => (\n            <Route\n              exact={route.exact}\n              path={route.path}\n              component={route.Component}\n            />\n          ))}\n          {/* only for login user*/}\n          {privateRoutes.map((route) => (\n            <PrivateRoute\n              exact={route.exact}\n              path={route.path}\n              component={route.Component}\n            />\n          ))}\n          {/* only for admin*/}\n          {adminRoutes.map((route) => (\n            <PrivateRoute\n              isAdmin\n              exact={route.exact}\n              path={route.path}\n              component={route.Component}\n            />\n          ))}\n          {/* <Route exact path='/admin' component={AdminPage} /> */}\n          <Redirect to='/' />;\n        </Switch>\n        <Footer />\n      </BrowserRouter>\n    </AuthContextWrapper>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {\r\n  DELETE_USER,\r\n  GET_USER,\r\n  SET_ALL_USER,\r\n  SORT_USER,\r\n} from '../actionTypes/actionTypes';\r\n\r\nimport { ADMIN_EMAIL } from '../../shared/util/config';\r\n\r\nconst initialState = {\r\n  allUser: null,\r\n  userDetail: null,\r\n  sortASC: true,\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_ALL_USER: {\r\n      // remove ADMIN_EMAIL from list\r\n      delete action.payload.allUser[ADMIN_EMAIL];\r\n\r\n      const allUserArr = Object.values(action.payload.allUser);\r\n\r\n      return {\r\n        ...state,\r\n        allUser: allUserArr,\r\n      };\r\n    }\r\n\r\n    case DELETE_USER: {\r\n      let updateAllUsers = [...state.allUser];\r\n\r\n      updateAllUsers = updateAllUsers.filter(\r\n        (user) => user.email !== action.payload.userEmail\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        allUser: updateAllUsers,\r\n      };\r\n    }\r\n\r\n    case GET_USER: {\r\n      const user = state.allUser.find(\r\n        (user) => user.email === action.payload.userEmail\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        userDetail: user,\r\n      };\r\n    }\r\n\r\n    case SORT_USER: {\r\n      const sortUsers = [...state.allUser];\r\n      let updateSortASC = !state.sortASC;\r\n\r\n      let compare = null;\r\n      if (action.payload.field === 'colletctionLength') {\r\n        compare = (a, b) => {\r\n          //compare collection length\r\n          const aLength = Object.values(a.collection).length;\r\n          const bLength = Object.values(b.collection).length;\r\n\r\n          if (aLength < bLength) {\r\n            return updateSortASC ? -1 : 1;\r\n          }\r\n          if (aLength > bLength) {\r\n            return updateSortASC ? 1 : -1;\r\n          }\r\n\r\n          return 0;\r\n        };\r\n      } else {\r\n        compare = (a, b) => {\r\n          if (\r\n            a[action.payload.field].toLowerCase() <\r\n            b[action.payload.field].toLowerCase()\r\n          ) {\r\n            return updateSortASC ? -1 : 1;\r\n          }\r\n          if (\r\n            a[action.payload.field].toLowerCase() >\r\n            b[action.payload.field].toLowerCase()\r\n          ) {\r\n            return updateSortASC ? 1 : -1;\r\n          }\r\n\r\n          return 0;\r\n        };\r\n      }\r\n\r\n      sortUsers.sort(compare);\r\n\r\n      return {\r\n        ...state,\r\n        allUser: sortUsers,\r\n        sortASC: updateSortASC,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport userReducer from './userReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  userReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport rootReducer from './redux/reducers/rootReducer';\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}